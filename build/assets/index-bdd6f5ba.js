import{u as of,s as af,f as uf,g as $r,b as Ur,i as He,c as ee,a as Fn,r as Cu,d as cf,e as _o,h as lf,j as ff,k as hf}from"./index-519324a6.js";import{e as Wn}from"./events-5f626723.js";function df(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Kt=of,Xs=Object.prototype.hasOwnProperty,pf=Array.isArray,Ee={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Kt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},bf=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Mu=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},gf="utf8=%26%2310003%3B",yf="utf8=%E2%9C%93",vf=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,l=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===yf?l="utf-8":o[u]===gf&&(l="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var c=o[u],_=c.indexOf("]="),d=_===-1?c.indexOf("="):_+1,g,m;d===-1?(g=r.decoder(c,Ee.decoder,l,"key"),m=r.strictNullHandling?null:""):(g=r.decoder(c.slice(0,d),Ee.decoder,l,"key"),m=Kt.maybeMap(Mu(c.slice(d+1),r),function(I){return r.decoder(I,Ee.decoder,l,"value")})),m&&r.interpretNumericEntities&&l==="iso-8859-1"&&(m=bf(m)),c.indexOf("[]=")>-1&&(m=pf(m)?[m]:m),Xs.call(n,g)?n[g]=Kt.combine(n[g],m):n[g]=m}return n},_f=function(t,e,r,n){for(var i=n?e:Mu(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(l)&&a!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},mf=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),l=u?s.slice(0,u.index):s,c=[];if(l){if(!n.plainObjects&&Xs.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var _=0;n.depth>0&&(u=a.exec(s))!==null&&_<n.depth;){if(_+=1,!n.plainObjects&&Xs.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+s.slice(u.index)+"]"),_f(c,r,n,i)}},wf=function(e){if(!e)return Ee;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ee.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ee.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ee.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ee.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ee.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ee.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ee.comma,decoder:typeof e.decoder=="function"?e.decoder:Ee.decoder,delimiter:typeof e.delimiter=="string"||Kt.isRegExp(e.delimiter)?e.delimiter:Ee.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ee.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ee.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ee.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ee.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ee.strictNullHandling}},Sf=function(t,e){var r=wf(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?vf(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=mf(a,n[a],r,typeof t=="string");i=Kt.merge(i,u,r)}return r.allowSparse===!0?i:Kt.compact(i)},Ef=af,xf=Sf,kf=uf,Cf={formats:kf,parse:xf,stringify:Ef},mo={},Rr={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.walletLogo=void 0;const Mf=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};$n.walletLogo=Mf;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.ScopedLocalStorage=void 0;class Af{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Un.ScopedLocalStorage=Af;var Zt={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});const If=Wn;function na(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Tf(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Rf=class extends If.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")na(s,this,r);else{const o=s.length,a=Tf(s);for(let u=0;u<o;u+=1)na(a[u],this,r)}return!0}};ar.default=Rf;var Hr={},_t={},Of=Or;Or.default=Or;Or.stable=Tu;Or.stableStringify=Tu;var Mn="[...]",Au="[Circular]",Tt=[],At=[];function Iu(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Or(t,e,r,n){typeof n>"u"&&(n=Iu()),eo(t,"",0,[],void 0,0,n);var i;try{At.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Ru(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tt.length!==0;){var s=Tt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Gt(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Tt.push([n,r,e,i])):At.push([e,r,t]):(n[r]=t,Tt.push([n,r,e]))}function eo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Gt(Au,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gt(Mn,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gt(Mn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)eo(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];eo(t[l],l,a,n,t,s,o)}}n.pop()}}function Nf(t,e){return t<e?-1:t>e?1:0}function Tu(t,e,r,n){typeof n>"u"&&(n=Iu());var i=to(t,"",0,[],void 0,0,n)||t,s;try{At.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Ru(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Tt.length!==0;){var o=Tt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function to(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Gt(Au,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Gt(Mn,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Gt(Mn,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)to(t[a],a,a,n,t,s,o);else{var u={},l=Object.keys(t).sort(Nf);for(a=0;a<l.length;a++){var c=l[a];to(t[c],c,a,n,t,s,o),u[c]=t[c]}if(typeof i<"u")Tt.push([i,e,t]),i[e]=u;else return u}n.pop()}}function Ru(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(At.length>0)for(var n=0;n<At.length;n++){var i=At[n];if(i[1]===e&&i[0]===r){r=i[2],At.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(_t,"__esModule",{value:!0});_t.EthereumProviderError=_t.EthereumRpcError=void 0;const jf=Of;class Ou extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return jf.default(this.serialize(),Pf,2)}}_t.EthereumRpcError=Ou;class Df extends Ou{constructor(e,r,n){if(!Lf(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}_t.EthereumProviderError=Df;function Lf(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Pf(t,e){if(e!=="[Circular]")return e}var wo={},mt={};Object.defineProperty(mt,"__esModule",{value:!0});mt.errorValues=mt.errorCodes=void 0;mt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};mt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=mt,r=_t,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,g=i){if(Number.isInteger(d)){const m=d.toString();if(_(e.errorValues,m))return e.errorValues[m].message;if(l(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return g}t.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const g=d.toString();return!!(e.errorValues[g]||l(d))}t.isValidCode=a;function u(d,{fallbackError:g=s,shouldIncludeStack:m=!1}={}){var I,O;if(!g||!Number.isInteger(g.code)||typeof g.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const v={};if(d&&typeof d=="object"&&!Array.isArray(d)&&_(d,"code")&&a(d.code)){const E=d;v.code=E.code,E.message&&typeof E.message=="string"?(v.message=E.message,_(E,"data")&&(v.data=E.data)):(v.message=o(v.code),v.data={originalError:c(d)})}else{v.code=g.code;const E=(I=d)===null||I===void 0?void 0:I.message;v.message=E&&typeof E=="string"?E:g.message,v.data={originalError:c(d)}}const w=(O=d)===null||O===void 0?void 0:O.stack;return m&&d&&w&&typeof w=="string"&&(v.stack=w),v}t.serializeError=u;function l(d){return d>=-32099&&d<=-32e3}function c(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function _(d,g){return Object.prototype.hasOwnProperty.call(d,g)}})(wo);var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.ethErrors=void 0;const So=_t,Nu=wo,Ae=mt;Hn.ethErrors={rpc:{parse:t=>Be(Ae.errorCodes.rpc.parse,t),invalidRequest:t=>Be(Ae.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Be(Ae.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Be(Ae.errorCodes.rpc.methodNotFound,t),internal:t=>Be(Ae.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Be(e,t)},invalidInput:t=>Be(Ae.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Be(Ae.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Be(Ae.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Be(Ae.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Be(Ae.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Be(Ae.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>_r(Ae.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>_r(Ae.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>_r(Ae.errorCodes.provider.unsupportedMethod,t),disconnected:t=>_r(Ae.errorCodes.provider.disconnected,t),chainDisconnected:t=>_r(Ae.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new So.EthereumProviderError(e,r,n)}}};function Be(t,e){const[r,n]=ju(e);return new So.EthereumRpcError(t,r||Nu.getMessageFromCode(t),n)}function _r(t,e){const[r,n]=ju(e);return new So.EthereumProviderError(t,r||Nu.getMessageFromCode(t),n)}function ju(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=_t;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=wo;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Hn;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=mt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Hr);var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.EVENTS=void 0;ur.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var cr={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ro=function(t,e){return ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ro(t,e)};function D(t,e){ro(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Jt(t){return typeof t=="function"}var ia=!1,We={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}ia=t},get useDeprecatedSynchronousErrorHandling(){return ia}};function Vt(t){setTimeout(function(){throw t},0)}var An={closed:!0,next:function(t){},error:function(t){if(We.useDeprecatedSynchronousErrorHandling)throw t;Vt(t)},complete:function(){}},Ne=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Eo(t){return t!==null&&typeof t=="object"}var Bf=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),xr=Bf,ge=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var u=n[a];u.remove(this)}if(Jt(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(_){e=_ instanceof xr?sa(_.errors):[_]}}if(Ne(o))for(var a=-1,l=o.length;++a<l;){var c=o[a];if(Eo(c))try{c.unsubscribe()}catch(d){e=e||[],d instanceof xr?e=e.concat(sa(d.errors)):e.push(d)}}if(e)throw new xr(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function sa(t){return t.reduce(function(e,r){return e.concat(r instanceof xr?r.errors:r)},[])}var In=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),q=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=An;break;case 1:if(!r){s.destination=An;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new oa(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new oa(s,r,n,i);break}return s}return e.prototype[In]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ge),oa=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,u=o;return Jt(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==An&&(u=Object.create(n),Jt(u.unsubscribe)&&o.add(u.unsubscribe.bind(u)),u.unsubscribe=o.unsubscribe.bind(o))),o._context=u,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!We.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=We.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Vt(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Vt(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!We.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),We.useDeprecatedSynchronousErrorHandling)throw i;Vt(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!We.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return We.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Vt(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(q);function xo(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof q?t=n:t=null}return!0}function Ff(t,e,r){if(t){if(t instanceof q)return t;if(t[In])return t[In]()}return!t&&!e&&!r?new q(An):new q(t,e,r)}var lr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function wt(t){return t}function no(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Du(t)}function Du(t){return t.length===0?wt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var te=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=Ff(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||We.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),We.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){We.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),xo(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=aa(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[lr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Du(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=aa(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function aa(t){if(t||(t=We.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var Wf=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),gt=Wf,Lu=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ge),Pu=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(q),ke=function(t){D(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[In]=function(){return new Pu(this)},e.prototype.lift=function(r){var n=new ua(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new gt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new gt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new gt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new gt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new gt;return this.hasError?(r.error(this.thrownError),ge.EMPTY):this.isStopped?(r.complete(),ge.EMPTY):(this.observers.push(r),new Lu(this,r))},e.prototype.asObservable=function(){var r=new te;return r.source=this,r},e.create=function(r,n){return new ua(r,n)},e}(te),ua=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ge.EMPTY},e}(ke);function ko(){return function(e){return e.lift(new $f(e))}}var $f=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Uf(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),Uf=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(q),Bu=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ge,r.add(this.source.subscribe(new Vf(this.getSubject(),this))),r.closed&&(this._connection=null,r=ge.EMPTY)),r},e.prototype.refCount=function(){return ko()(this)},e}(te),Hf=function(){var t=Bu.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Vf=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Pu);function zf(t,e,r,n){return function(i){return i.lift(new qf(t,e,r,n))}}var qf=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Gf(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Gf=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ke,i.set(n,s);var a=new io(n,s,this);if(this.destination.next(a),this.durationSelector){var u=void 0;try{u=this.durationSelector(new io(n,s))}catch(l){this.error(l);return}this.add(u.subscribe(new Yf(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(q),Yf=function(t){D(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(q),io=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ge,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Qf(s)),n.add(o.subscribe(r)),n},e}(te),Qf=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ge),Fu=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new gt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ke),Kf=function(t){D(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ge),Vr=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Kf),Zf=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Vr),so=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),zr=function(t){D(e,t);function e(r,n){n===void 0&&(n=so.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(so),Jf=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(zr),Wu=new Jf(Zf),$u=Wu,Xt=new te(function(t){return t.complete()});function fr(t){return t?Xf(t):Xt}function Xf(t){return new te(function(e){return t.schedule(function(){return e.complete()})})}function Pe(t){return t&&typeof t.schedule=="function"}var Uu=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Co(t,e){return new te(function(r){var n=new ge,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function qr(t,e){return e?Co(t,e):new te(Uu(t))}function Vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pe(r)?(t.pop(),Co(t,r)):qr(t)}function Mo(t,e){return e?new te(function(r){return e.schedule(eh,0,{error:t,subscriber:r})}):new te(function(r){return r.error(t)})}function eh(t){var e=t.error,r=t.subscriber;r.error(e)}var oo;oo||(oo={});var ut=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Vn(this.value);case"E":return Mo(this.error);case"C":return fr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function th(t,e){return e===void 0&&(e=0),function(n){return n.lift(new rh(t,e))}}var rh=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Hu(e,this.scheduler,this.delay))},t}(),Hu=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new nh(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(ut.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(ut.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(ut.createComplete()),this.unsubscribe()},e}(q),nh=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),Ao=function(t){D(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new ih(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new gt;if(this.isStopped||this.hasError?a=ge.EMPTY:(this.observers.push(r),a=new Lu(this,r)),s&&r.add(r=new Hu(r,s)),n)for(var u=0;u<o&&!r.closed;u++)r.next(i[u]);else for(var u=0;u<o&&!r.closed;u++)r.next(i[u].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||$u).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ke),ih=function(){function t(e,r){this.time=e,this.value=r}return t}(),hr=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ge.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ge.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ke),sh=1,oh=function(){return Promise.resolve()}(),ao={};function ca(t){return t in ao?(delete ao[t],!0):!1}var la={setImmediate:function(t){var e=sh++;return ao[e]=!0,oh.then(function(){return ca(e)&&t()}),e},clearImmediate:function(t){ca(t)}},ah=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=la.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(la.clearImmediate(n),r.scheduled=void 0)},e}(Vr),uh=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(zr),Vu=new uh(ah),vn=Vu,zu=new zr(Vr),je=zu,ch=function(t){D(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Vr),lh=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(zr),qu=new lh(ch),fh=qu,hh=function(t){D(e,t);function e(r,n){r===void 0&&(r=Gu),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(zr),Gu=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Vr);function Xe(){}function dh(t){return!!t&&(t instanceof te||typeof t.lift=="function"&&typeof t.subscribe=="function")}var ph=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),er=ph,bh=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Gr=bh,gh=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Yu=gh;function Ve(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new yh(t,e))}}var yh=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new vh(e,this.project,this.thisArg))},t}(),vh=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(q);function Qu(t,e,r){if(e)if(Pe(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Qu(t,r).apply(void 0,n).pipe(Ve(function(s){return Ne(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new te(function(u){if(r){var c={args:n,subscriber:u,params:a};return r.schedule(_h,0,c)}else{if(!o){o=new hr;var l=function(){for(var _=[],d=0;d<arguments.length;d++)_[d]=arguments[d];o.next(_.length<=1?_[0]:_),o.complete()};try{t.apply(s,n.concat([l]))}catch(_){xo(o)?o.error(_):console.warn(_)}}return o.subscribe(u)}})}}function _h(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new hr;var l=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];var d=c.length<=1?c[0]:c;e.add(a.schedule(mh,0,{value:d,subject:u}))};try{s.apply(o,r.concat([l]))}catch(c){u.error(c)}}this.add(u.subscribe(n))}function mh(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Ku(t,e,r){if(e)if(Pe(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ku(t,r).apply(void 0,n).pipe(Ve(function(s){return Ne(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new te(function(o){var a=s.context,u=s.subject;if(r)return r.schedule(wh,0,{params:s,subscriber:o,context:a});if(!u){u=s.subject=new hr;var l=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];var d=c.shift();if(d){u.error(d);return}u.next(c.length<=1?c[0]:c),u.complete()};try{t.apply(a,n.concat([l]))}catch(c){xo(u)?u.error(c):console.warn(c)}}return u.subscribe(o)})}}function wh(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,u=r.subject;if(!u){u=r.subject=new hr;var l=function(){for(var c=[],_=0;_<arguments.length;_++)c[_]=arguments[_];var d=c.shift();if(d)e.add(a.schedule(fa,0,{err:d,subject:u}));else{var g=c.length<=1?c[0]:c;e.add(a.schedule(Sh,0,{value:g,subject:u}))}};try{s.apply(i,o.concat([l]))}catch(c){this.add(a.schedule(fa,0,{err:c,subject:u}))}}this.add(u.subscribe(n))}function Sh(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function fa(t){var e=t.err,r=t.subject;r.error(e)}var jt=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(q),Eh=function(t){D(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(q),xh=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Vt),e}};function kh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var St=kh(),Ch=function(t){return function(e){var r=t[St]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Mh=function(t){return function(e){var r=t[lr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Zu=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Ju(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Nr=function(t){if(t&&typeof t[lr]=="function")return Mh(t);if(Zu(t))return Uu(t);if(Ju(t))return xh(t);if(t&&typeof t[St]=="function")return Ch(t);var e=Eo(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function ct(t,e,r,n,i){if(i===void 0&&(i=new Eh(t,r,n)),!i.closed)return e instanceof te?e.subscribe(i):Nr(e)(i)}var ha={};function Ah(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Pe(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ne(t[0])&&(t=t[0]),qr(t,n).lift(new Io(r))}var Io=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ih(e,this.resultSelector))},t}(),Ih=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(ha),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(ct(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===ha?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(jt);function Th(t,e){return new te(function(r){var n=new ge;return n.add(e.schedule(function(){var i=t[lr]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function Rh(t,e){return new te(function(r){var n=new ge;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function Oh(t,e){if(!t)throw new Error("Iterable cannot be null");return new te(function(r){var n=new ge,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[St](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(u){r.error(u);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function Nh(t){return t&&typeof t[lr]=="function"}function jh(t){return t&&typeof t[St]=="function"}function Xu(t,e){if(t!=null){if(Nh(t))return Th(t,e);if(Ju(t))return Rh(t,e);if(Zu(t))return Co(t,e);if(jh(t)||typeof t=="string")return Oh(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function ht(t,e){return e?Xu(t,e):t instanceof te?t:new te(Nr(t))}var ve=function(t){D(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(q),_e=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(q);function me(t,e){if(!e.closed){if(t instanceof te)return t.subscribe(e);var r;try{r=Nr(t)(e)}catch(n){e.error(n)}return r}}function Rt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Rt(function(i,s){return ht(t(i,s)).pipe(Ve(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new Dh(t,r))})}var Dh=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new Lh(e,this.project,this.concurrent))},t}(),Lh=function(t){D(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ve(this),i=this.destination;i.add(n);var s=me(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(_e),Ph=Rt;function To(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Rt(wt,t)}function ec(){return To(1)}function jr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ec()(Vn.apply(void 0,t))}function Ro(t){return new te(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?ht(r):fr();return n.subscribe(e)})}function Bh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Ne(r))return ln(r,null);if(Eo(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ln(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Ne(t[0])?t[0]:t,ln(t,null).pipe(Ve(function(s){return i.apply(void 0,s)}))}return ln(t,null)}function ln(t,e){return new te(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var c=ht(t[l]),_=!1;r.add(c.subscribe({next:function(d){_||(_=!0,o++),i[l]=d},error:function(d){return r.error(d)},complete:function(){s++,(s===n||!_)&&(o===n&&r.next(e?e.reduce(function(d,g,m){return d[g]=i[m],d},{}):i),r.complete())}}))},u=0;u<n;u++)a(u)})}function tc(t,e,r,n){return Jt(r)&&(n=r,r=void 0),n?tc(t,e,r).pipe(Ve(function(i){return Ne(i)?n.apply(void 0,i):n(i)})):new te(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}rc(t,e,s,i,r)})}function rc(t,e,r,n,i){var s;if($h(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Wh(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(Fh(t)){var u=t;t.addListener(e,r),s=function(){return u.removeListener(e,r)}}else if(t&&t.length)for(var l=0,c=t.length;l<c;l++)rc(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function Fh(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Wh(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function $h(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function nc(t,e,r){return r?nc(t,e).pipe(Ve(function(n){return Ne(n)?r.apply(void 0,n):r(n)})):new te(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Jt(e))return function(){return e(i,s)}})}function Uh(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||wt,i=a.scheduler}else n===void 0||Pe(n)?(o=t,s=wt,i=n):(o=t,s=n);return new te(function(u){var l=o;if(i)return i.schedule(Hh,0,{subscriber:u,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var c=void 0;try{c=e(l)}catch(d){u.error(d);return}if(!c){u.complete();break}}var _=void 0;try{_=s(l)}catch(d){u.error(d);return}if(u.next(_),u.closed)break;try{l=r(l)}catch(d){u.error(d);return}}while(!0)})}function Hh(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Vh(t,e,r){return e===void 0&&(e=Xt),r===void 0&&(r=Xt),Ro(function(){return t()?e:r})}function tr(t){return!Ne(t)&&t-parseFloat(t)+1>=0}function zh(t,e){return t===void 0&&(t=0),e===void 0&&(e=je),(!tr(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=je),new te(function(r){return r.add(e.schedule(qh,t,{subscriber:r,counter:0,period:t})),r})}function qh(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function ic(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Pe(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof te?t[0]:To(r)(qr(t,n))}var sc=new te(Xe);function Gh(){return sc}function uo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Xt;var r=t[0],n=t.slice(1);return t.length===1&&Ne(r)?uo.apply(void 0,r):new te(function(i){var s=function(){return i.add(uo.apply(void 0,n).subscribe(i))};return ht(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Yh(t,e){return e?new te(function(r){var n=Object.keys(t),i=new ge;return i.add(e.schedule(Qh,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new te(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Qh(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function oc(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Et(t,e){return function(n){return n.lift(new Kh(t,e))}}var Kh=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Zh(e,this.predicate,this.thisArg))},t}(),Zh=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(q);function Jh(t,e,r){return[Et(e,r)(new te(Nr(t))),Et(oc(e,r))(new te(Nr(t)))]}function ac(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Ne(t[0]))t=t[0];else return t[0];return qr(t,void 0).lift(new Xh)}var Xh=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ed(e))},t}(),ed=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=ct(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(jt);function td(t,e,r){return t===void 0&&(t=0),new te(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(rd,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function rd(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function uc(t,e,r){t===void 0&&(t=0);var n=-1;return tr(e)?n=Number(e)<1&&1||Number(e):Pe(e)&&(r=e),Pe(r)||(r=je),new te(function(i){var s=tr(t)?t:+t-r.now();return r.schedule(nd,s,{index:0,period:n,subscriber:i})})}function nd(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function id(t,e){return new te(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?ht(i):Xt,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function cc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),qr(t,void 0).lift(new lc(r))}var lc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new sd(e,this.resultSelector))},t}(),sd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Ne(r)?n.push(new ad(r)):typeof r[St]=="function"?n.push(new od(r[St]())):n.push(new ud(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,u=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}u.push(l.value)}this.resultSelector?this._tryresultSelector(u):i.next(u),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(q),od=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),ad=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[St]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),ud=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[St]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return me(this.observable,new ve(this))},e}(_e);const cd=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:er,AsyncSubject:hr,BehaviorSubject:Fu,ConnectableObservable:Bu,EMPTY:Xt,EmptyError:Gr,GroupedObservable:io,NEVER:sc,Notification:ut,get NotificationKind(){return oo},ObjectUnsubscribedError:gt,Observable:te,ReplaySubject:Ao,Scheduler:so,Subject:ke,Subscriber:q,Subscription:ge,TimeoutError:Yu,UnsubscriptionError:xr,VirtualAction:Gu,VirtualTimeScheduler:hh,animationFrame:fh,animationFrameScheduler:qu,asap:vn,asapScheduler:Vu,async:je,asyncScheduler:zu,bindCallback:Qu,bindNodeCallback:Ku,combineLatest:Ah,concat:jr,config:We,defer:Ro,empty:fr,forkJoin:Bh,from:ht,fromEvent:tc,fromEventPattern:nc,generate:Uh,identity:wt,iif:Vh,interval:zh,isObservable:dh,merge:ic,never:Gh,noop:Xe,observable:lr,of:Vn,onErrorResumeNext:uo,pairs:Yh,partition:Jh,pipe:no,queue:$u,queueScheduler:Wu,race:ac,range:td,scheduled:Xu,throwError:Mo,timer:uc,using:id,zip:cc},Symbol.toStringTag,{value:"Module"})),dr=$r(cd);function fc(t){return function(r){return r.lift(new ld(t))}}var ld=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new fd(e,this.durationSelector))},t}(),fd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=me(n,new ve(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(_e);function hd(t,e){return e===void 0&&(e=je),fc(function(){return uc(t,e)})}function dd(t){return function(r){return r.lift(new pd(t))}}var pd=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new bd(e,this.closingNotifier))},t}(),bd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(me(n,new ve(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(_e);function gd(t,e){return e===void 0&&(e=null),function(n){return n.lift(new yd(t,e))}}var yd=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=vd:this.subscriberClass=_d}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),vd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(q),_d=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var u=o.length;u--;){var l=o[u];l.push(r),l.length===i&&(o.splice(u,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(q);function md(t){var e=arguments.length,r=je;Pe(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new wd(t,n,i,r))}}var wd=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Ed(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Sd=function(){function t(){this.buffer=[]}return t}(),Ed=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var u=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:u,bufferTimeSpan:n};a.add(u.closeAction=o.schedule(da,n,l))}else{var c={subscriber:a,context:u},_={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(u.closeAction=o.schedule(hc,n,c)),a.add(o.schedule(xd,i,_))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],u=a.buffer;u.push(r),u.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(da,i,s))}},e.prototype.openContext=function(){var r=new Sd;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(q);function da(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function xd(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(hc,r,{subscriber:n,context:s})),o.schedule(t,e))}function hc(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function kd(t,e){return function(n){return n.lift(new Cd(t,e))}}var Cd=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Md(e,this.openings,this.closingSelector))},t}(),Md=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(ct(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ge,o={buffer:i,subscription:s};n.push(o);var a=ct(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(jt);function Ad(t){return function(e){return e.lift(new Id(t))}}var Id=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Td(e,this.closingSelector))},t}(),Td=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ge,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(me(i,new ve(this))),this.subscribing=!1},e}(_e);function Rd(t){return function(r){var n=new Od(t),i=r.lift(n);return n.caught=i}}var Od=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new Nd(e,this.selector,this.caught))},t}(),Nd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new ve(this);this.add(i);var s=me(n,i);s!==i&&this.add(s)}},e}(_e);function jd(t){return function(e){return e.lift(new Io(t))}}function Dd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Ne(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(ht([n].concat(t)),new Io(r))}}function Ld(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(jr.apply(void 0,[r].concat(t)))}}function dc(t,e){return Rt(t,e,1)}function Pd(t,e){return dc(function(){return t},e)}function Bd(t){return function(e){return e.lift(new Fd(t,e))}}var Fd=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Wd(e,this.predicate,this.source))},t}(),Wd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(q);function $d(t){return function(e){return e.lift(new Ud(t))}}var Ud=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Hd(e,this.durationSelector))},t}(),Hd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=me(n,new ve(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(_e);function Vd(t,e){return e===void 0&&(e=je),function(r){return r.lift(new zd(t,e))}}var zd=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new qd(e,this.dueTime,this.scheduler))},t}(),qd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Gd,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(q);function Gd(t){t.debouncedNext()}function Yr(t){return t===void 0&&(t=null),function(e){return e.lift(new Yd(t))}}var Yd=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Qd(e,this.defaultValue))},t}(),Qd=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(q);function pc(t){return t instanceof Date&&!isNaN(+t)}function Kd(t,e){e===void 0&&(e=je);var r=pc(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Zd(n,e))}}var Zd=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Jd(e,this.delay,this.scheduler))},t}(),Jd=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Xd(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(ut.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(ut.createComplete()),this.unsubscribe()},e}(q),Xd=function(){function t(e,r){this.time=e,this.notification=r}return t}();function ep(t,e){return e?function(r){return new rp(r,e).lift(new pa(t))}:function(r){return r.lift(new pa(t))}}var pa=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new tp(e,this.delayDurationSelector))},t}(),tp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=ct(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(jt),rp=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new np(r,this.source))},e}(te),np=function(t){D(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(q);function ip(){return function(e){return e.lift(new sp)}}var sp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new op(e))},t}(),op=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(q);function ap(t,e){return function(r){return r.lift(new up(t,e))}}var up=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new cp(e,this.keySelector,this.flushes))},t}(),cp=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(me(i,new ve(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(_e);function bc(t,e){return function(r){return r.lift(new lp(t,e))}}var lp=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new fp(e,this.compare,this.keySelector))},t}(),fp=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(q);function hp(t,e){return bc(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function zn(t){return t===void 0&&(t=bp),function(e){return e.lift(new dp(t))}}var dp=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new pp(e,this.errorFactory))},t}(),pp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(q);function bp(){return new Gr}function Oo(t){return function(e){return t===0?fr():e.lift(new gp(t))}}var gp=function(){function t(e){if(this.total=e,this.total<0)throw new er}return t.prototype.call=function(e,r){return r.subscribe(new yp(e,this.total))},t}(),yp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(q);function vp(t,e){if(t<0)throw new er;var r=arguments.length>=2;return function(n){return n.pipe(Et(function(i,s){return s===t}),Oo(1),r?Yr(e):zn(function(){return new er}))}}function _p(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return jr(r,Vn.apply(void 0,t))}}function mp(t,e){return function(r){return r.lift(new wp(t,e,r))}}var wp=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new Sp(e,this.predicate,this.thisArg,this.source))},t}(),Sp=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(q);function Ep(){return function(t){return t.lift(new xp)}}var xp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new kp(e))},t}(),kp=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(me(r,new ve(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function gc(t,e){return e?function(r){return r.pipe(gc(function(n,i){return ht(t(n,i)).pipe(Ve(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new Cp(t))}}var Cp=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Mp(e,this.project))},t}(),Mp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ve(this),i=this.destination;i.add(n);var s=me(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function Ap(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new Ip(t,e,r))}}var Ip=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new Tp(e,this.project,this.concurrent,this.scheduler))},t}(),Tp=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},u=this.destination;u.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(me(r,new ve(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(_e);function Rp(t){return function(e){return e.lift(new Op(t))}}var Op=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new Np(e,this.callback))},t}(),Np=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ge(n)),i}return e}(q);function jp(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new yc(t,r,!1,e))}}var yc=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new Dp(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),Dp=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(u){this.destination.error(u)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(q);function Lp(t,e){return function(r){return r.lift(new yc(t,r,!0,e))}}function Pp(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Et(function(i,s){return t(i,s,n)}):wt,Oo(1),r?Yr(e):zn(function(){return new Gr}))}}function Bp(){return function(e){return e.lift(new Fp)}}var Fp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Wp(e))},t}(),Wp=function(t){D(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(q);function $p(){return function(t){return t.lift(new Up)}}var Up=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Hp(e))},t}(),Hp=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(q);function Tn(t){return function(r){return t===0?fr():r.lift(new Vp(t))}}var Vp=function(){function t(e){if(this.total=e,this.total<0)throw new er}return t.prototype.call=function(e,r){return r.subscribe(new zp(e,this.total))},t}(),zp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(q);function qp(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Et(function(i,s){return t(i,s,n)}):wt,Tn(1),r?Yr(e):zn(function(){return new Gr}))}}function Gp(t){return function(e){return e.lift(new Yp(t))}}var Yp=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new Qp(e,this.value))},t}(),Qp=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(q);function Kp(){return function(e){return e.lift(new Zp)}}var Zp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Jp(e))},t}(),Jp=function(t){D(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(ut.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(ut.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(ut.createComplete()),r.complete()},e}(q);function Rn(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new Xp(t,e,r))}}var Xp=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new eb(e,this.accumulator,this.seed,this.hasSeed))},t}(),eb=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(q);function qn(t,e){return arguments.length>=2?function(n){return no(Rn(t,e),Tn(1),Yr(e))(n)}:function(n){return no(Rn(function(i,s,o){return t(i,s,o+1)}),Tn(1))(n)}}function tb(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return qn(e)}function rb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ic.apply(void 0,[r].concat(t)))}}function nb(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Rt(function(){return t},e,r):(typeof e=="number"&&(r=e),Rt(function(){return t},r))}function ib(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new sb(t,e,r))}}var sb=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new ob(e,this.accumulator,this.seed,this.concurrent))},t}(),ob=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new ve(this),i=this.destination;i.add(n);var s=me(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(_e);function ab(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return qn(e)}function Ot(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new ub(i,e));var s=Object.create(n,Hf);return s.source=n,s.subjectFactory=i,s}}var ub=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function cb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Ne(t[0])&&(t=t[0]),function(r){return r.lift(new lb(t))}}var lb=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new fb(e,this.nextSources))},t}(),fb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new ve(this),i=this.destination;i.add(n);var s=me(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(_e);function hb(){return function(t){return t.lift(new db)}}var db=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new pb(e))},t}(),pb=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(q);function bb(t,e){return function(r){return[Et(t,e)(r),Et(oc(t,e))(r)]}}function gb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ve(yb(t,r))(n)}}function yb(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function vb(t){return t?Ot(function(){return new ke},t):Ot(new ke)}function _b(t){return function(e){return Ot(new Fu(t))(e)}}function mb(){return function(t){return Ot(new hr)(t)}}function wb(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new Ao(t,e,n);return function(o){return Ot(function(){return s},i)(o)}}function Sb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Ne(t[0])&&(t=t[0]),n.lift.call(ac.apply(void 0,[n].concat(t)))}}function Eb(t){return t===void 0&&(t=-1),function(e){return t===0?fr():t<0?e.lift(new ba(-1,e)):e.lift(new ba(t-1,e))}}var ba=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new xb(e,this.count,this.source))},t}(),xb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(q);function kb(t){return function(e){return e.lift(new Cb(t))}}var Cb=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Mb(e,this.notifier,r))},t}(),Mb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ke;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=me(r,new ve(this))},e}(_e);function Ab(t){return t===void 0&&(t=-1),function(e){return e.lift(new Ib(t,e))}}var Ib=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Tb(e,this.count,this.source))},t}(),Tb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(q);function Rb(t){return function(e){return e.lift(new Ob(t,e))}}var Ob=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Nb(e,this.notifier,this.source))},t}(),Nb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ke;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=me(i,new ve(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(_e);function jb(t){return function(e){return e.lift(new Db(t))}}var Db=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Lb(e),i=r.subscribe(n);return i.add(me(this.notifier,new ve(n))),i},t}(),Lb=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(_e);function Pb(t,e){return e===void 0&&(e=je),function(r){return r.lift(new Bb(t,e))}}var Bb=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Fb(e,this.period,this.scheduler))},t}(),Fb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(Wb,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(q);function Wb(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function $b(t,e){return function(r){return r.lift(new Ub(t,e))}}var Ub=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new Hb(e,this.compareTo,this.comparator))},t}(),Hb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new Vb(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),u=!1;try{u=s?s(o,a):o===a}catch(l){this.destination.error(l)}u||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(q),Vb=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(q);function zb(){return new ke}function qb(){return function(t){return ko()(Ot(zb)(t))}}function Gb(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Yb(n))}}function Yb(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,u=0,l,c=!1,_=!1;return function(g){u++;var m;!a||c?(c=!1,a=new Ao(r,i,o),m=a.subscribe(this),l=g.subscribe({next:function(I){a.next(I)},error:function(I){c=!0,a.error(I)},complete:function(){_=!0,l=void 0,a.complete()}}),_&&(l=void 0)):m=a.subscribe(this),this.add(function(){u--,m.unsubscribe(),m=void 0,l&&!_&&s&&u===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function Qb(t){return function(e){return e.lift(new Kb(t,e))}}var Kb=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Zb(e,this.predicate,this.source))},t}(),Zb=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Gr)},e}(q);function Jb(t){return function(e){return e.lift(new Xb(t))}}var Xb=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new eg(e,this.total))},t}(),eg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(q);function tg(t){return function(e){return e.lift(new rg(t))}}var rg=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new er}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new q(e)):r.subscribe(new ng(e,this._skipCount))},t}(),ng=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(q);function ig(t){return function(e){return e.lift(new sg(t))}}var sg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new og(e,this.notifier))},t}(),og=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new ve(i);i.add(s),i.innerSubscription=s;var o=me(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(_e);function ag(t){return function(e){return e.lift(new ug(t))}}var ug=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new cg(e,this.predicate))},t}(),cg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(q);function lg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pe(r)?(t.pop(),function(n){return jr(t,n,r)}):function(n){return jr(t,n)}}var fg=function(t){D(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=vn);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!tr(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=vn),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=vn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(te);function hg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new dg(t,e))}}var dg=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new fg(r,this.delay,this.scheduler).subscribe(e)},t}();function Dr(t,e){return typeof e=="function"?function(r){return r.pipe(Dr(function(n,i){return ht(t(n,i)).pipe(Ve(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new pg(t))}}var pg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new bg(e,this.project))},t}(),bg=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new ve(this),s=this.destination;s.add(i),this.innerSubscription=me(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(_e);function gg(){return Dr(wt)}function yg(t,e){return e?Dr(function(){return t},e):Dr(function(){return t})}function vg(t){return function(e){return e.lift(new _g(t))}}var _g=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new mg(e),i=me(this.notifier,new ve(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),mg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(_e);function wg(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Sg(t,e))}}var Sg=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new Eg(e,this.predicate,this.inclusive))},t}(),Eg=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(q);function xg(t,e,r){return function(i){return i.lift(new kg(t,e,r))}}var kg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new Cg(e,this.nextOrObserver,this.error,this.complete))},t}(),Cg=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Xe,o._tapError=Xe,o._tapComplete=Xe,o._tapError=i||Xe,o._tapComplete=s||Xe,Jt(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Xe,o._tapError=n.error||Xe,o._tapComplete=n.complete||Xe),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(q),vc={leading:!0,trailing:!1};function Mg(t,e){return e===void 0&&(e=vc),function(r){return r.lift(new Ag(t,!!e.leading,!!e.trailing))}}var Ag=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new Ig(e,this.durationSelector,this.leading,this.trailing))},t}(),Ig=function(t){D(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=me(n,new ve(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(_e);function Tg(t,e,r){return e===void 0&&(e=je),r===void 0&&(r=vc),function(n){return n.lift(new Rg(t,e,r.leading,r.trailing))}}var Rg=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new Og(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Og=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ng,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(q);function Ng(t){var e=t.subscriber;e.clearThrottle()}function jg(t){return t===void 0&&(t=je),function(e){return Ro(function(){return e.pipe(Rn(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ve(function(r){var n=r.current,i=r.last,s=r.value;return new Dg(s,n-i)}))})}}var Dg=function(){function t(e,r){this.value=e,this.interval=r}return t}();function _c(t,e,r){return r===void 0&&(r=je),function(n){var i=pc(t),s=i?+t-r.now():Math.abs(t);return n.lift(new Lg(s,i,e,r))}}var Lg=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Pg(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Pg=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(me(n,new ve(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(_e);function Bg(t,e){return e===void 0&&(e=je),_c(t,Mo(new Yu),e)}function Fg(t){return t===void 0&&(t=je),Ve(function(e){return new Wg(e,t.now())})}var Wg=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function $g(t,e,r){return r===0?[e]:(t.push(e),t)}function Ug(){return qn($g,[])}function Hg(t){return function(r){return r.lift(new Vg(t))}}var Vg=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new zg(e),i=r.subscribe(n);return i.closed||n.add(me(this.windowBoundaries,new ve(n))),i},t}(),zg=function(t){D(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ke,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ke;n.next(i)},e}(_e);function qg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Gg(t,e))}}var Gg=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Yg(e,this.windowSize,this.startWindowEvery))},t}(),Yg=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ke],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,u=0;u<a&&!this.closed;u++)o[u].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var c=new ke;o.push(c),i.next(c)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(q);function Qg(t){var e=je,r=null,n=Number.POSITIVE_INFINITY;return Pe(arguments[3])&&(e=arguments[3]),Pe(arguments[2])?e=arguments[2]:tr(arguments[2])&&(n=Number(arguments[2])),Pe(arguments[1])?e=arguments[1]:tr(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new Kg(t,r,n,e))}}var Kg=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Jg(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Zg=function(t){D(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ke),Jg=function(t){D(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var u=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:u,context:null},c={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(mc,n,l)),a.add(o.schedule(e0,i,c))}else{var _={subscriber:a,window:u,windowTimeSpan:n};a.add(o.schedule(Xg,n,_))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Zg;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(q);function Xg(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function e0(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},u={subscriber:r,window:s,context:a};a.subscription=n.schedule(mc,e,u),o.add(a.subscription),o.schedule(t,i)}function mc(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function t0(t,e){return function(r){return r.lift(new r0(t,e))}}var r0=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new n0(e,this.openings,this.closingSelector))},t}(),n0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=ct(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var u=this.closingSelector;a=u(n)}catch(g){return this.error(g)}var l=new ke,c=new ge,_={window:l,subscription:c};this.contexts.push(_);var d=ct(this,a,_);d.closed?this.closeWindow(this.contexts.length-1):(d.context=_,c.add(d)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(jt);function i0(t){return function(r){return r.lift(new s0(t))}}var s0=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new o0(e,this.closingSelector))},t}(),o0=function(t){D(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ke;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=ct(this,s))},e}(jt);function a0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new u0(i,n))}}var u0=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new c0(e,this.observables,this.project))},t}(),c0=function(t){D(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var u=n[a];s.add(ct(s,u,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(jt);function l0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(cc.apply(void 0,[n].concat(t)))}}function f0(t){return function(e){return e.lift(new lc(t))}}const h0=Object.freeze(Object.defineProperty({__proto__:null,audit:fc,auditTime:hd,buffer:dd,bufferCount:gd,bufferTime:md,bufferToggle:kd,bufferWhen:Ad,catchError:Rd,combineAll:jd,combineLatest:Dd,concat:Ld,concatAll:ec,concatMap:dc,concatMapTo:Pd,count:Bd,debounce:$d,debounceTime:Vd,defaultIfEmpty:Yr,delay:Kd,delayWhen:ep,dematerialize:ip,distinct:ap,distinctUntilChanged:bc,distinctUntilKeyChanged:hp,elementAt:vp,endWith:_p,every:mp,exhaust:Ep,exhaustMap:gc,expand:Ap,filter:Et,finalize:Rp,find:jp,findIndex:Lp,first:Pp,flatMap:Ph,groupBy:zf,ignoreElements:Bp,isEmpty:$p,last:qp,map:Ve,mapTo:Gp,materialize:Kp,max:tb,merge:rb,mergeAll:To,mergeMap:Rt,mergeMapTo:nb,mergeScan:ib,min:ab,multicast:Ot,observeOn:th,onErrorResumeNext:cb,pairwise:hb,partition:bb,pluck:gb,publish:vb,publishBehavior:_b,publishLast:mb,publishReplay:wb,race:Sb,reduce:qn,refCount:ko,repeat:Eb,repeatWhen:kb,retry:Ab,retryWhen:Rb,sample:jb,sampleTime:Pb,scan:Rn,sequenceEqual:$b,share:qb,shareReplay:Gb,single:Qb,skip:Jb,skipLast:tg,skipUntil:ig,skipWhile:ag,startWith:lg,subscribeOn:hg,switchAll:gg,switchMap:Dr,switchMapTo:yg,take:Oo,takeLast:Tn,takeUntil:vg,takeWhile:wg,tap:xg,throttle:Mg,throttleTime:Tg,throwIfEmpty:zn,timeInterval:jg,timeout:Bg,timeoutWith:_c,timestamp:Fg,toArray:Ug,window:Hg,windowCount:qg,windowTime:Qg,windowToggle:t0,windowWhen:i0,withLatestFrom:a0,zip:l0,zipAll:f0},Symbol.toStringTag,{value:"Module"})),Gn=$r(h0);var co={},d0={get exports(){return co},set exports(t){co=t}},nt={},p0={get exports(){return nt},set exports(t){nt=t}};(function(t,e){var r=Ur,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof u=="string"?l.fill(a,u):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(p0,nt);var wc=nt.Buffer;function Yn(t,e){this._block=wc.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Yn.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=wc.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,u=Math.min(i-o,n-a),l=0;l<u;l++)r[a+l]=t[o+l];s+=u,o+=u,s%n===0&&this._update(r)}return this._len+=i,this};Yn.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Yn.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var pr=Yn,b0=He,Sc=pr,g0=nt.Buffer,y0=[1518500249,1859775393,-1894007588,-899497514],v0=new Array(80);function Qr(){this.init(),this._w=v0,Sc.call(this,64,56)}b0(Qr,Sc);Qr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function _0(t){return t<<5|t>>>27}function m0(t){return t<<30|t>>>2}function w0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Qr.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var u=0;u<80;++u){var l=~~(u/20),c=_0(r)+w0(l,n,i,s)+o+e[u]+y0[l]|0;o=s,s=i,i=m0(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Qr.prototype._hash=function(){var t=g0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var S0=Qr,E0=He,Ec=pr,x0=nt.Buffer,k0=[1518500249,1859775393,-1894007588,-899497514],C0=new Array(80);function Kr(){this.init(),this._w=C0,Ec.call(this,64,56)}E0(Kr,Ec);Kr.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function M0(t){return t<<1|t>>>31}function A0(t){return t<<5|t>>>27}function I0(t){return t<<30|t>>>2}function T0(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Kr.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=M0(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var u=0;u<80;++u){var l=~~(u/20),c=A0(r)+T0(l,n,i,s)+o+e[u]+k0[l]|0;o=s,s=i,i=I0(n),n=r,r=c}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Kr.prototype._hash=function(){var t=x0.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var R0=Kr,O0=He,xc=pr,N0=nt.Buffer,j0=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],D0=new Array(64);function Zr(){this.init(),this._w=D0,xc.call(this,64,56)}O0(Zr,xc);Zr.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function L0(t,e,r){return r^t&(e^r)}function P0(t,e,r){return t&e|r&(t|e)}function B0(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function F0(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function W0(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function $0(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Zr.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,u=this._g|0,l=this._h|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<64;++c)e[c]=$0(e[c-2])+e[c-7]+W0(e[c-15])+e[c-16]|0;for(var _=0;_<64;++_){var d=l+F0(o)+L0(o,a,u)+j0[_]+e[_]|0,g=B0(r)+P0(r,n,i)|0;l=u,u=a,a=o,o=s+d|0,s=i,i=n,n=r,r=d+g|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=u+this._g|0,this._h=l+this._h|0};Zr.prototype._hash=function(){var t=N0.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var kc=Zr,U0=He,H0=kc,V0=pr,z0=nt.Buffer,q0=new Array(64);function Qn(){this.init(),this._w=q0,V0.call(this,64,56)}U0(Qn,H0);Qn.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Qn.prototype._hash=function(){var t=z0.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var G0=Qn,Y0=He,Cc=pr,Q0=nt.Buffer,ga=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],K0=new Array(160);function Jr(){this.init(),this._w=K0,Cc.call(this,128,112)}Y0(Jr,Cc);Jr.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ya(t,e,r){return r^t&(e^r)}function va(t,e,r){return t&e|r&(t|e)}function _a(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function ma(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Z0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function J0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function X0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function ey(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function we(t,e){return t>>>0<e>>>0?1:0}Jr.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,u=this._gh|0,l=this._hh|0,c=this._al|0,_=this._bl|0,d=this._cl|0,g=this._dl|0,m=this._el|0,I=this._fl|0,O=this._gl|0,v=this._hl|0,w=0;w<32;w+=2)e[w]=t.readInt32BE(w*4),e[w+1]=t.readInt32BE(w*4+4);for(;w<160;w+=2){var E=e[w-30],L=e[w-15*2+1],W=Z0(E,L),G=J0(L,E);E=e[w-2*2],L=e[w-2*2+1];var Y=X0(E,L),H=ey(L,E),$=e[w-7*2],le=e[w-7*2+1],ce=e[w-16*2],J=e[w-16*2+1],se=G+le|0,V=W+$+we(se,G)|0;se=se+H|0,V=V+Y+we(se,H)|0,se=se+J|0,V=V+ce+we(se,J)|0,e[w]=V,e[w+1]=se}for(var fe=0;fe<160;fe+=2){V=e[fe],se=e[fe+1];var ye=va(r,n,i),x=va(c,_,d),C=_a(r,c),M=_a(c,r),N=ma(o,m),P=ma(m,o),b=ga[fe],S=ga[fe+1],A=ya(o,a,u),U=ya(m,I,O),p=v+P|0,y=l+N+we(p,v)|0;p=p+U|0,y=y+A+we(p,U)|0,p=p+S|0,y=y+b+we(p,S)|0,p=p+se|0,y=y+V+we(p,se)|0;var k=M+x|0,j=C+ye+we(k,M)|0;l=u,v=O,u=a,O=I,a=o,I=m,m=g+p|0,o=s+y+we(m,g)|0,s=i,g=d,i=n,d=_,n=r,_=c,c=p+k|0,r=y+j+we(c,p)|0}this._al=this._al+c|0,this._bl=this._bl+_|0,this._cl=this._cl+d|0,this._dl=this._dl+g|0,this._el=this._el+m|0,this._fl=this._fl+I|0,this._gl=this._gl+O|0,this._hl=this._hl+v|0,this._ah=this._ah+r+we(this._al,c)|0,this._bh=this._bh+n+we(this._bl,_)|0,this._ch=this._ch+i+we(this._cl,d)|0,this._dh=this._dh+s+we(this._dl,g)|0,this._eh=this._eh+o+we(this._el,m)|0,this._fh=this._fh+a+we(this._fl,I)|0,this._gh=this._gh+u+we(this._gl,O)|0,this._hh=this._hh+l+we(this._hl,v)|0};Jr.prototype._hash=function(){var t=Q0.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Mc=Jr,ty=He,ry=Mc,ny=pr,iy=nt.Buffer,sy=new Array(160);function Kn(){this.init(),this._w=sy,ny.call(this,128,112)}ty(Kn,ry);Kn.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Kn.prototype._hash=function(){var t=iy.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var oy=Kn,Dt=d0.exports=function(e){e=e.toLowerCase();var r=Dt[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Dt.sha=S0;Dt.sha1=R0;Dt.sha224=G0;Dt.sha256=kc;Dt.sha384=oy;Dt.sha512=Mc;var z={},Xr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Xr);var ay=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(z,"__esModule",{value:!0});z.isInIFrame=z.createQrUrl=z.getFavicon=z.range=z.isBigNumber=z.ensureParsedJSONObject=z.ensureBN=z.ensureRegExpString=z.ensureIntNumber=z.ensureBuffer=z.ensureAddressString=z.ensureEvenLengthHexString=z.ensureHexString=z.isHexString=z.prepend0x=z.strip0x=z.has0xPrefix=z.hexStringFromIntNumber=z.intNumberFromHexString=z.bigIntStringFromBN=z.hexStringFromBuffer=z.hexStringToUint8Array=z.uint8ArrayToHex=z.randomBytesHex=void 0;const yt=ay(Fn),uy=Cf,Ue=Xr,Ac=/^[0-9]*$/,Ic=/^[a-f0-9]*$/;function cy(t){return Tc(crypto.getRandomValues(new Uint8Array(t)))}z.randomBytesHex=cy;function Tc(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}z.uint8ArrayToHex=Tc;function ly(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}z.hexStringToUint8Array=ly;function fy(t,e=!1){const r=t.toString("hex");return(0,Ue.HexString)(e?"0x"+r:r)}z.hexStringFromBuffer=fy;function hy(t){return(0,Ue.BigIntString)(t.toString(10))}z.bigIntStringFromBN=hy;function dy(t){return(0,Ue.IntNumber)(new yt.default(tn(t,!1),16).toNumber())}z.intNumberFromHexString=dy;function py(t){return(0,Ue.HexString)("0x"+new yt.default(t).toString(16))}z.hexStringFromIntNumber=py;function No(t){return t.startsWith("0x")||t.startsWith("0X")}z.has0xPrefix=No;function Zn(t){return No(t)?t.slice(2):t}z.strip0x=Zn;function Rc(t){return No(t)?"0x"+t.slice(2):"0x"+t}z.prepend0x=Rc;function en(t){if(typeof t!="string")return!1;const e=Zn(t).toLowerCase();return Ic.test(e)}z.isHexString=en;function Oc(t,e=!1){if(typeof t=="string"){const r=Zn(t).toLowerCase();if(Ic.test(r))return(0,Ue.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}z.ensureHexString=Oc;function tn(t,e=!1){let r=Oc(t,!1);return r.length%2===1&&(r=(0,Ue.HexString)("0"+r)),e?(0,Ue.HexString)("0x"+r):r}z.ensureEvenLengthHexString=tn;function by(t){if(typeof t=="string"){const e=Zn(t).toLowerCase();if(en(e)&&e.length===40)return(0,Ue.AddressString)(Rc(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}z.ensureAddressString=by;function gy(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(en(t)){const e=tn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}z.ensureBuffer=gy;function Nc(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Ue.IntNumber)(t);if(typeof t=="string"){if(Ac.test(t))return(0,Ue.IntNumber)(Number(t));if(en(t))return(0,Ue.IntNumber)(new yt.default(tn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}z.ensureIntNumber=Nc;function yy(t){if(t instanceof RegExp)return(0,Ue.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}z.ensureRegExpString=yy;function vy(t){if(t!==null&&(yt.default.isBN(t)||jc(t)))return new yt.default(t.toString(10),10);if(typeof t=="number")return new yt.default(Nc(t));if(typeof t=="string"){if(Ac.test(t))return new yt.default(t,10);if(en(t))return new yt.default(tn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}z.ensureBN=vy;function _y(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}z.ensureParsedJSONObject=_y;function jc(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}z.isBigNumber=jc;function my(t,e){return Array.from({length:e-t},(r,n)=>t+n)}z.range=my;function wy(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}z.getFavicon=wy;function Sy(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,uy.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}z.createQrUrl=Sy;function Ey(){try{return window.frameElement!==null}catch{return!1}}z.isInIFrame=Ey;Object.defineProperty(cr,"__esModule",{value:!0});cr.Session=void 0;const xy=dr,wa=Gn,Sa=co,Ea=z,Ss="session:id",xa="session:secret",ka="session:linked";class jo{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Ea.randomBytesHex)(16),this._secret=n||(0,Ea.randomBytesHex)(32),this._key=new Sa.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Ss),n=e.getItem(ka),i=e.getItem(xa);return r&&i?new jo(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,xy.fromEvent)(window,"storage").pipe((0,wa.filter)(e=>e.key===Ss),(0,wa.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Sa.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Ss,this._id),this._storage.setItem(xa,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(ka,this._linked?"1":"0")}}cr.Session=jo;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.WalletSDKRelayAbstract=Ke.APP_VERSION_KEY=Ke.LOCAL_STORAGE_ADDRESSES_KEY=Ke.WALLET_USER_NAME_KEY=void 0;const Ca=Hr;Ke.WALLET_USER_NAME_KEY="walletUsername";Ke.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ke.APP_VERSION_KEY="AppVersion";class ky{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ca.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ca.serializeError)(s);return i})}}Ke.WalletSDKRelayAbstract=ky;var Lr={},Cy={get exports(){return Lr},set exports(t){Lr=t}},Dc=Wn.EventEmitter,Es,Ma;function My(){if(Ma)return Es;Ma=1;function t(d,g){var m=Object.keys(d);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(d);g&&(I=I.filter(function(O){return Object.getOwnPropertyDescriptor(d,O).enumerable})),m.push.apply(m,I)}return m}function e(d){for(var g=1;g<arguments.length;g++){var m=arguments[g]!=null?arguments[g]:{};g%2?t(Object(m),!0).forEach(function(I){r(d,I,m[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(m)):t(Object(m)).forEach(function(I){Object.defineProperty(d,I,Object.getOwnPropertyDescriptor(m,I))})}return d}function r(d,g,m){return g in d?Object.defineProperty(d,g,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[g]=m,d}function n(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function i(d,g){for(var m=0;m<g.length;m++){var I=g[m];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(d,I.key,I)}}function s(d,g,m){return g&&i(d.prototype,g),m&&i(d,m),d}var o=Ur,a=o.Buffer,u=Cu,l=u.inspect,c=l&&l.custom||"inspect";function _(d,g,m){a.prototype.copy.call(d,g,m)}return Es=function(){function d(){n(this,d),this.head=null,this.tail=null,this.length=0}return s(d,[{key:"push",value:function(m){var I={data:m,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(m){var I={data:m,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var I=this.head,O=""+I.data;I=I.next;)O+=m+I.data;return O}},{key:"concat",value:function(m){if(this.length===0)return a.alloc(0);for(var I=a.allocUnsafe(m>>>0),O=this.head,v=0;O;)_(O.data,I,v),v+=O.data.length,O=O.next;return I}},{key:"consume",value:function(m,I){var O;return m<this.head.data.length?(O=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):m===this.head.data.length?O=this.shift():O=I?this._getString(m):this._getBuffer(m),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var I=this.head,O=1,v=I.data;for(m-=v.length;I=I.next;){var w=I.data,E=m>w.length?w.length:m;if(E===w.length?v+=w:v+=w.slice(0,m),m-=E,m===0){E===w.length?(++O,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=w.slice(E));break}++O}return this.length-=O,v}},{key:"_getBuffer",value:function(m){var I=a.allocUnsafe(m),O=this.head,v=1;for(O.data.copy(I),m-=O.data.length;O=O.next;){var w=O.data,E=m>w.length?w.length:m;if(w.copy(I,I.length-m,0,E),m-=E,m===0){E===w.length?(++v,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=w.slice(E));break}++v}return this.length-=v,I}},{key:c,value:function(m,I){return l(this,e({},I,{depth:0,customInspect:!1}))}}]),d}(),Es}function Ay(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(lo,this,t)):process.nextTick(lo,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(_n,r):(r._writableState.errorEmitted=!0,process.nextTick(Aa,r,s)):process.nextTick(Aa,r,s):e?(process.nextTick(_n,r),e(s)):process.nextTick(_n,r)}),this)}function Aa(t,e){lo(t,e),_n(t)}function _n(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Iy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function lo(t,e){t.emit("error",e)}function Ty(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Lc={destroy:Ay,undestroy:Iy,errorOrDestroy:Ty},Lt={};function Ry(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Pc={};function ze(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){Ry(o,s);function o(a,u,l){return s.call(this,n(a,u,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Pc[t]=i}function Ia(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function Oy(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Ny(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function jy(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}ze("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);ze("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&Oy(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Ny(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Ia(e,"type"));else{var s=jy(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Ia(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);ze("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");ze("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});ze("ERR_STREAM_PREMATURE_CLOSE","Premature close");ze("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});ze("ERR_MULTIPLE_CALLBACK","Callback called multiple times");ze("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");ze("ERR_STREAM_WRITE_AFTER_END","write after end");ze("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);ze("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);ze("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Lt.codes=Pc;var Dy=Lt.codes.ERR_INVALID_OPT_VALUE;function Ly(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Py(t,e,r,n){var i=Ly(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Dy(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Bc={getHighWaterMark:Py},By=Fy;function Fy(t,e){if(xs("noDeprecation"))return t;var r=!1;function n(){if(!r){if(xs("throwDeprecation"))throw new Error(e);xs("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function xs(t){try{if(!ee.localStorage)return!1}catch{return!1}var e=ee.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var ks,Ta;function Fc(){if(Ta)return ks;Ta=1,ks=H;function t(p){var y=this;this.next=null,this.entry=null,this.finish=function(){U(y,p)}}var e;H.WritableState=G;var r={deprecate:By},n=Dc,i=Ur.Buffer,s=ee.Uint8Array||function(){};function o(p){return i.from(p)}function a(p){return i.isBuffer(p)||p instanceof s}var u=Lc,l=Bc,c=l.getHighWaterMark,_=Lt.codes,d=_.ERR_INVALID_ARG_TYPE,g=_.ERR_METHOD_NOT_IMPLEMENTED,m=_.ERR_MULTIPLE_CALLBACK,I=_.ERR_STREAM_CANNOT_PIPE,O=_.ERR_STREAM_DESTROYED,v=_.ERR_STREAM_NULL_VALUES,w=_.ERR_STREAM_WRITE_AFTER_END,E=_.ERR_UNKNOWN_ENCODING,L=u.errorOrDestroy;He(H,n);function W(){}function G(p,y,k){e=e||rr(),p=p||{},typeof k!="boolean"&&(k=y instanceof e),this.objectMode=!!p.objectMode,k&&(this.objectMode=this.objectMode||!!p.writableObjectMode),this.highWaterMark=c(this,p,"writableHighWaterMark",k),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var j=p.decodeStrings===!1;this.decodeStrings=!j,this.defaultEncoding=p.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(F){ye(y,F)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=p.emitClose!==!1,this.autoDestroy=!!p.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}G.prototype.getBuffer=function(){for(var y=this.bufferedRequest,k=[];y;)k.push(y),y=y.next;return k},function(){try{Object.defineProperty(G.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Y;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Y=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(y){return Y.call(this,y)?!0:this!==H?!1:y&&y._writableState instanceof G}})):Y=function(y){return y instanceof this};function H(p){e=e||rr();var y=this instanceof e;if(!y&&!Y.call(H,this))return new H(p);this._writableState=new G(p,this,y),this.writable=!0,p&&(typeof p.write=="function"&&(this._write=p.write),typeof p.writev=="function"&&(this._writev=p.writev),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.final=="function"&&(this._final=p.final)),n.call(this)}H.prototype.pipe=function(){L(this,new I)};function $(p,y){var k=new w;L(p,k),process.nextTick(y,k)}function le(p,y,k,j){var F;return k===null?F=new v:typeof k!="string"&&!y.objectMode&&(F=new d("chunk",["string","Buffer"],k)),F?(L(p,F),process.nextTick(j,F),!1):!0}H.prototype.write=function(p,y,k){var j=this._writableState,F=!1,f=!j.objectMode&&a(p);return f&&!i.isBuffer(p)&&(p=o(p)),typeof y=="function"&&(k=y,y=null),f?y="buffer":y||(y=j.defaultEncoding),typeof k!="function"&&(k=W),j.ending?$(this,k):(f||le(this,j,p,k))&&(j.pendingcb++,F=J(this,j,f,p,y,k)),F},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var p=this._writableState;p.corked&&(p.corked--,!p.writing&&!p.corked&&!p.bufferProcessing&&p.bufferedRequest&&M(this,p))},H.prototype.setDefaultEncoding=function(y){if(typeof y=="string"&&(y=y.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((y+"").toLowerCase())>-1))throw new E(y);return this._writableState.defaultEncoding=y,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ce(p,y,k){return!p.objectMode&&p.decodeStrings!==!1&&typeof y=="string"&&(y=i.from(y,k)),y}Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function J(p,y,k,j,F,f){if(!k){var h=ce(y,j,F);j!==h&&(k=!0,F="buffer",j=h)}var T=y.objectMode?1:j.length;y.length+=T;var B=y.length<y.highWaterMark;if(B||(y.needDrain=!0),y.writing||y.corked){var ae=y.lastBufferedRequest;y.lastBufferedRequest={chunk:j,encoding:F,isBuf:k,callback:f,next:null},ae?ae.next=y.lastBufferedRequest:y.bufferedRequest=y.lastBufferedRequest,y.bufferedRequestCount+=1}else se(p,y,!1,T,j,F,f);return B}function se(p,y,k,j,F,f,h){y.writelen=j,y.writecb=h,y.writing=!0,y.sync=!0,y.destroyed?y.onwrite(new O("write")):k?p._writev(F,y.onwrite):p._write(F,f,y.onwrite),y.sync=!1}function V(p,y,k,j,F){--y.pendingcb,k?(process.nextTick(F,j),process.nextTick(S,p,y),p._writableState.errorEmitted=!0,L(p,j)):(F(j),p._writableState.errorEmitted=!0,L(p,j),S(p,y))}function fe(p){p.writing=!1,p.writecb=null,p.length-=p.writelen,p.writelen=0}function ye(p,y){var k=p._writableState,j=k.sync,F=k.writecb;if(typeof F!="function")throw new m;if(fe(k),y)V(p,k,j,y,F);else{var f=N(k)||p.destroyed;!f&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&M(p,k),j?process.nextTick(x,p,k,f,F):x(p,k,f,F)}}function x(p,y,k,j){k||C(p,y),y.pendingcb--,j(),S(p,y)}function C(p,y){y.length===0&&y.needDrain&&(y.needDrain=!1,p.emit("drain"))}function M(p,y){y.bufferProcessing=!0;var k=y.bufferedRequest;if(p._writev&&k&&k.next){var j=y.bufferedRequestCount,F=new Array(j),f=y.corkedRequestsFree;f.entry=k;for(var h=0,T=!0;k;)F[h]=k,k.isBuf||(T=!1),k=k.next,h+=1;F.allBuffers=T,se(p,y,!0,y.length,F,"",f.finish),y.pendingcb++,y.lastBufferedRequest=null,f.next?(y.corkedRequestsFree=f.next,f.next=null):y.corkedRequestsFree=new t(y),y.bufferedRequestCount=0}else{for(;k;){var B=k.chunk,ae=k.encoding,Z=k.callback,oe=y.objectMode?1:B.length;if(se(p,y,!1,oe,B,ae,Z),k=k.next,y.bufferedRequestCount--,y.writing)break}k===null&&(y.lastBufferedRequest=null)}y.bufferedRequest=k,y.bufferProcessing=!1}H.prototype._write=function(p,y,k){k(new g("_write()"))},H.prototype._writev=null,H.prototype.end=function(p,y,k){var j=this._writableState;return typeof p=="function"?(k=p,p=null,y=null):typeof y=="function"&&(k=y,y=null),p!=null&&this.write(p,y),j.corked&&(j.corked=1,this.uncork()),j.ending||A(this,j,k),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N(p){return p.ending&&p.length===0&&p.bufferedRequest===null&&!p.finished&&!p.writing}function P(p,y){p._final(function(k){y.pendingcb--,k&&L(p,k),y.prefinished=!0,p.emit("prefinish"),S(p,y)})}function b(p,y){!y.prefinished&&!y.finalCalled&&(typeof p._final=="function"&&!y.destroyed?(y.pendingcb++,y.finalCalled=!0,process.nextTick(P,p,y)):(y.prefinished=!0,p.emit("prefinish")))}function S(p,y){var k=N(y);if(k&&(b(p,y),y.pendingcb===0&&(y.finished=!0,p.emit("finish"),y.autoDestroy))){var j=p._readableState;(!j||j.autoDestroy&&j.endEmitted)&&p.destroy()}return k}function A(p,y,k){y.ending=!0,S(p,y),k&&(y.finished?process.nextTick(k):p.once("finish",k)),y.ended=!0,p.writable=!1}function U(p,y,k){var j=p.entry;for(p.entry=null;j;){var F=j.callback;y.pendingcb--,F(k),j=j.next}y.corkedRequestsFree.next=p}return Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),H.prototype.destroy=u.destroy,H.prototype._undestroy=u.undestroy,H.prototype._destroy=function(p,y){y(p)},ks}var Cs,Ra;function rr(){if(Ra)return Cs;Ra=1;var t=Object.keys||function(l){var c=[];for(var _ in l)c.push(_);return c};Cs=o;var e=$c(),r=Fc();He(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(u,this)}function u(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=c,this._writableState.destroyed=c)}}),Cs}var Ms={},kr={},Wy={get exports(){return kr},set exports(t){kr=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Oa;function $y(){return Oa||(Oa=1,function(t,e){var r=Ur,n=r.Buffer;function i(o,a){for(var u in o)a[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,u){return n(o,a,u)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,u)},s.alloc=function(o,a,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof u=="string"?l.fill(a,u):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Wy,kr)),kr}var Na;function ja(){if(Na)return Ms;Na=1;var t=$y().Buffer,e=t.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(v){if(!v)return"utf8";for(var w;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(w)return;v=(""+v).toLowerCase(),w=!0}}function n(v){var w=r(v);if(typeof w!="string"&&(t.isEncoding===e||!e(v)))throw new Error("Unknown encoding: "+v);return w||v}Ms.StringDecoder=i;function i(v){this.encoding=n(v);var w;switch(this.encoding){case"utf16le":this.text=_,this.end=d,w=4;break;case"utf8":this.fillLast=u,w=4;break;case"base64":this.text=g,this.end=m,w=3;break;default:this.write=I,this.end=O;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(w)}i.prototype.write=function(v){if(v.length===0)return"";var w,E;if(this.lastNeed){if(w=this.fillLast(v),w===void 0)return"";E=this.lastNeed,this.lastNeed=0}else E=0;return E<v.length?w?w+this.text(v,E):this.text(v,E):w||""},i.prototype.end=c,i.prototype.text=l,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function s(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function o(v,w,E){var L=w.length-1;if(L<E)return 0;var W=s(w[L]);return W>=0?(W>0&&(v.lastNeed=W-1),W):--L<E||W===-2?0:(W=s(w[L]),W>=0?(W>0&&(v.lastNeed=W-2),W):--L<E||W===-2?0:(W=s(w[L]),W>=0?(W>0&&(W===2?W=0:v.lastNeed=W-3),W):0))}function a(v,w,E){if((w[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return v.lastNeed=2,""}}function u(v){var w=this.lastTotal-this.lastNeed,E=a(this,v);if(E!==void 0)return E;if(this.lastNeed<=v.length)return v.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,w,0,v.length),this.lastNeed-=v.length}function l(v,w){var E=o(this,v,w);if(!this.lastNeed)return v.toString("utf8",w);this.lastTotal=E;var L=v.length-(E-this.lastNeed);return v.copy(this.lastChar,0,L),v.toString("utf8",w,L)}function c(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+"":w}function _(v,w){if((v.length-w)%2===0){var E=v.toString("utf16le",w);if(E){var L=E.charCodeAt(E.length-1);if(L>=55296&&L<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],E.slice(0,-1)}return E}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",w,v.length-1)}function d(v){var w=v&&v.length?this.write(v):"";if(this.lastNeed){var E=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,E)}return w}function g(v,w){var E=(v.length-w)%3;return E===0?v.toString("base64",w):(this.lastNeed=3-E,this.lastTotal=3,E===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",w,v.length-E))}function m(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function I(v){return v.toString(this.encoding)}function O(v){return v&&v.length?this.write(v):""}return Ms}var Da=Lt.codes.ERR_STREAM_PREMATURE_CLOSE;function Uy(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Hy(){}function Vy(t){return t.setHeader&&typeof t.abort=="function"}function Wc(t,e,r){if(typeof e=="function")return Wc(t,null,e);e||(e={}),r=Uy(r||Hy);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,u=!0,i||r.call(t)},c=function(m){r.call(t,m)},_=function(){var m;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(m=new Da),r.call(t,m);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(m=new Da),r.call(t,m)},d=function(){t.req.on("finish",a)};return Vy(t)?(t.on("complete",a),t.on("abort",_),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",c),t.on("close",_),function(){t.removeListener("complete",a),t.removeListener("abort",_),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",c),t.removeListener("close",_)}}var Do=Wc,As,La;function zy(){if(La)return As;La=1;var t;function e(v,w,E){return w in v?Object.defineProperty(v,w,{value:E,enumerable:!0,configurable:!0,writable:!0}):v[w]=E,v}var r=Do,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),u=Symbol("handlePromise"),l=Symbol("stream");function c(v,w){return{value:v,done:w}}function _(v){var w=v[n];if(w!==null){var E=v[l].read();E!==null&&(v[a]=null,v[n]=null,v[i]=null,w(c(E,!1)))}}function d(v){process.nextTick(_,v)}function g(v,w){return function(E,L){v.then(function(){if(w[o]){E(c(void 0,!0));return}w[u](E,L)},L)}}var m=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var w=this,E=this[s];if(E!==null)return Promise.reject(E);if(this[o])return Promise.resolve(c(void 0,!0));if(this[l].destroyed)return new Promise(function(Y,H){process.nextTick(function(){w[s]?H(w[s]):Y(c(void 0,!0))})});var L=this[a],W;if(L)W=new Promise(g(L,this));else{var G=this[l].read();if(G!==null)return Promise.resolve(c(G,!1));W=new Promise(this[u])}return this[a]=W,W}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var w=this;return new Promise(function(E,L){w[l].destroy(null,function(W){if(W){L(W);return}E(c(void 0,!0))})})}),t),m),O=function(w){var E,L=Object.create(I,(E={},e(E,l,{value:w,writable:!0}),e(E,n,{value:null,writable:!0}),e(E,i,{value:null,writable:!0}),e(E,s,{value:null,writable:!0}),e(E,o,{value:w._readableState.endEmitted,writable:!0}),e(E,u,{value:function(G,Y){var H=L[l].read();H?(L[a]=null,L[n]=null,L[i]=null,G(c(H,!1))):(L[n]=G,L[i]=Y)},writable:!0}),E));return L[a]=null,r(w,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var G=L[i];G!==null&&(L[a]=null,L[n]=null,L[i]=null,G(W)),L[s]=W;return}var Y=L[n];Y!==null&&(L[a]=null,L[n]=null,L[i]=null,Y(c(void 0,!0))),L[o]=!0}),w.on("readable",d.bind(null,L)),L};return As=O,As}var Is,Pa;function qy(){return Pa||(Pa=1,Is=function(){throw new Error("Readable.from is not available in the browser")}),Is}var Ts,Ba;function $c(){if(Ba)return Ts;Ba=1,Ts=$;var t;$.ReadableState=H,Wn.EventEmitter;var e=function(h,T){return h.listeners(T).length},r=Dc,n=Ur.Buffer,i=ee.Uint8Array||function(){};function s(f){return n.from(f)}function o(f){return n.isBuffer(f)||f instanceof i}var a=Cu,u;a&&a.debuglog?u=a.debuglog("stream"):u=function(){};var l=My(),c=Lc,_=Bc,d=_.getHighWaterMark,g=Lt.codes,m=g.ERR_INVALID_ARG_TYPE,I=g.ERR_STREAM_PUSH_AFTER_EOF,O=g.ERR_METHOD_NOT_IMPLEMENTED,v=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,E,L;He($,r);var W=c.errorOrDestroy,G=["error","close","destroy","pause","resume"];function Y(f,h,T){if(typeof f.prependListener=="function")return f.prependListener(h,T);!f._events||!f._events[h]?f.on(h,T):Array.isArray(f._events[h])?f._events[h].unshift(T):f._events[h]=[T,f._events[h]]}function H(f,h,T){t=t||rr(),f=f||{},typeof T!="boolean"&&(T=h instanceof t),this.objectMode=!!f.objectMode,T&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=d(this,f,"readableHighWaterMark",T),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(w||(w=ja().StringDecoder),this.decoder=new w(f.encoding),this.encoding=f.encoding)}function $(f){if(t=t||rr(),!(this instanceof $))return new $(f);var h=this instanceof t;this._readableState=new H(f,this,h),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),r.call(this)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(h){this._readableState&&(this._readableState.destroyed=h)}}),$.prototype.destroy=c.destroy,$.prototype._undestroy=c.undestroy,$.prototype._destroy=function(f,h){h(f)},$.prototype.push=function(f,h){var T=this._readableState,B;return T.objectMode?B=!0:typeof f=="string"&&(h=h||T.defaultEncoding,h!==T.encoding&&(f=n.from(f,h),h=""),B=!0),le(this,f,h,!1,B)},$.prototype.unshift=function(f){return le(this,f,null,!0,!1)};function le(f,h,T,B,ae){u("readableAddChunk",h);var Z=f._readableState;if(h===null)Z.reading=!1,ye(f,Z);else{var oe;if(ae||(oe=J(Z,h)),oe)W(f,oe);else if(Z.objectMode||h&&h.length>0)if(typeof h!="string"&&!Z.objectMode&&Object.getPrototypeOf(h)!==n.prototype&&(h=s(h)),B)Z.endEmitted?W(f,new v):ce(f,Z,h,!0);else if(Z.ended)W(f,new I);else{if(Z.destroyed)return!1;Z.reading=!1,Z.decoder&&!T?(h=Z.decoder.write(h),Z.objectMode||h.length!==0?ce(f,Z,h,!1):M(f,Z)):ce(f,Z,h,!1)}else B||(Z.reading=!1,M(f,Z))}return!Z.ended&&(Z.length<Z.highWaterMark||Z.length===0)}function ce(f,h,T,B){h.flowing&&h.length===0&&!h.sync?(h.awaitDrain=0,f.emit("data",T)):(h.length+=h.objectMode?1:T.length,B?h.buffer.unshift(T):h.buffer.push(T),h.needReadable&&x(f)),M(f,h)}function J(f,h){var T;return!o(h)&&typeof h!="string"&&h!==void 0&&!f.objectMode&&(T=new m("chunk",["string","Buffer","Uint8Array"],h)),T}$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(f){w||(w=ja().StringDecoder);var h=new w(f);this._readableState.decoder=h,this._readableState.encoding=this._readableState.decoder.encoding;for(var T=this._readableState.buffer.head,B="";T!==null;)B+=h.write(T.data),T=T.next;return this._readableState.buffer.clear(),B!==""&&this._readableState.buffer.push(B),this._readableState.length=B.length,this};var se=1073741824;function V(f){return f>=se?f=se:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function fe(f,h){return f<=0||h.length===0&&h.ended?0:h.objectMode?1:f!==f?h.flowing&&h.length?h.buffer.head.data.length:h.length:(f>h.highWaterMark&&(h.highWaterMark=V(f)),f<=h.length?f:h.ended?h.length:(h.needReadable=!0,0))}$.prototype.read=function(f){u("read",f),f=parseInt(f,10);var h=this._readableState,T=f;if(f!==0&&(h.emittedReadable=!1),f===0&&h.needReadable&&((h.highWaterMark!==0?h.length>=h.highWaterMark:h.length>0)||h.ended))return u("read: emitReadable",h.length,h.ended),h.length===0&&h.ended?k(this):x(this),null;if(f=fe(f,h),f===0&&h.ended)return h.length===0&&k(this),null;var B=h.needReadable;u("need readable",B),(h.length===0||h.length-f<h.highWaterMark)&&(B=!0,u("length less than watermark",B)),h.ended||h.reading?(B=!1,u("reading or ended",B)):B&&(u("do read"),h.reading=!0,h.sync=!0,h.length===0&&(h.needReadable=!0),this._read(h.highWaterMark),h.sync=!1,h.reading||(f=fe(T,h)));var ae;return f>0?ae=y(f,h):ae=null,ae===null?(h.needReadable=h.length<=h.highWaterMark,f=0):(h.length-=f,h.awaitDrain=0),h.length===0&&(h.ended||(h.needReadable=!0),T!==f&&h.ended&&k(this)),ae!==null&&this.emit("data",ae),ae};function ye(f,h){if(u("onEofChunk"),!h.ended){if(h.decoder){var T=h.decoder.end();T&&T.length&&(h.buffer.push(T),h.length+=h.objectMode?1:T.length)}h.ended=!0,h.sync?x(f):(h.needReadable=!1,h.emittedReadable||(h.emittedReadable=!0,C(f)))}}function x(f){var h=f._readableState;u("emitReadable",h.needReadable,h.emittedReadable),h.needReadable=!1,h.emittedReadable||(u("emitReadable",h.flowing),h.emittedReadable=!0,process.nextTick(C,f))}function C(f){var h=f._readableState;u("emitReadable_",h.destroyed,h.length,h.ended),!h.destroyed&&(h.length||h.ended)&&(f.emit("readable"),h.emittedReadable=!1),h.needReadable=!h.flowing&&!h.ended&&h.length<=h.highWaterMark,p(f)}function M(f,h){h.readingMore||(h.readingMore=!0,process.nextTick(N,f,h))}function N(f,h){for(;!h.reading&&!h.ended&&(h.length<h.highWaterMark||h.flowing&&h.length===0);){var T=h.length;if(u("maybeReadMore read 0"),f.read(0),T===h.length)break}h.readingMore=!1}$.prototype._read=function(f){W(this,new O("_read()"))},$.prototype.pipe=function(f,h){var T=this,B=this._readableState;switch(B.pipesCount){case 0:B.pipes=f;break;case 1:B.pipes=[B.pipes,f];break;default:B.pipes.push(f);break}B.pipesCount+=1,u("pipe count=%d opts=%j",B.pipesCount,h);var ae=(!h||h.end!==!1)&&f!==process.stdout&&f!==process.stderr,Z=ae?qe:dt;B.endEmitted?process.nextTick(Z):T.once("end",Z),f.on("unpipe",oe);function oe(st,Je){u("onunpipe"),st===T&&Je&&Je.hasUnpiped===!1&&(Je.hasUnpiped=!0,yr())}function qe(){u("onend"),f.end()}var R=P(T);f.on("drain",R);var xt=!1;function yr(){u("cleanup"),f.removeListener("close",Ft),f.removeListener("finish",Wt),f.removeListener("drain",R),f.removeListener("error",Bt),f.removeListener("unpipe",oe),T.removeListener("end",qe),T.removeListener("end",dt),T.removeListener("data",vr),xt=!0,B.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&R()}T.on("data",vr);function vr(st){u("ondata");var Je=f.write(st);u("dest.write",Je),Je===!1&&((B.pipesCount===1&&B.pipes===f||B.pipesCount>1&&F(B.pipes,f)!==-1)&&!xt&&(u("false write response, pause",B.awaitDrain),B.awaitDrain++),T.pause())}function Bt(st){u("onerror",st),dt(),f.removeListener("error",Bt),e(f,"error")===0&&W(f,st)}Y(f,"error",Bt);function Ft(){f.removeListener("finish",Wt),dt()}f.once("close",Ft);function Wt(){u("onfinish"),f.removeListener("close",Ft),dt()}f.once("finish",Wt);function dt(){u("unpipe"),T.unpipe(f)}return f.emit("pipe",T),B.flowing||(u("pipe resume"),T.resume()),f};function P(f){return function(){var T=f._readableState;u("pipeOnDrain",T.awaitDrain),T.awaitDrain&&T.awaitDrain--,T.awaitDrain===0&&e(f,"data")&&(T.flowing=!0,p(f))}}$.prototype.unpipe=function(f){var h=this._readableState,T={hasUnpiped:!1};if(h.pipesCount===0)return this;if(h.pipesCount===1)return f&&f!==h.pipes?this:(f||(f=h.pipes),h.pipes=null,h.pipesCount=0,h.flowing=!1,f&&f.emit("unpipe",this,T),this);if(!f){var B=h.pipes,ae=h.pipesCount;h.pipes=null,h.pipesCount=0,h.flowing=!1;for(var Z=0;Z<ae;Z++)B[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=F(h.pipes,f);return oe===-1?this:(h.pipes.splice(oe,1),h.pipesCount-=1,h.pipesCount===1&&(h.pipes=h.pipes[0]),f.emit("unpipe",this,T),this)},$.prototype.on=function(f,h){var T=r.prototype.on.call(this,f,h),B=this._readableState;return f==="data"?(B.readableListening=this.listenerCount("readable")>0,B.flowing!==!1&&this.resume()):f==="readable"&&!B.endEmitted&&!B.readableListening&&(B.readableListening=B.needReadable=!0,B.flowing=!1,B.emittedReadable=!1,u("on readable",B.length,B.reading),B.length?x(this):B.reading||process.nextTick(S,this)),T},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(f,h){var T=r.prototype.removeListener.call(this,f,h);return f==="readable"&&process.nextTick(b,this),T},$.prototype.removeAllListeners=function(f){var h=r.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&process.nextTick(b,this),h};function b(f){var h=f._readableState;h.readableListening=f.listenerCount("readable")>0,h.resumeScheduled&&!h.paused?h.flowing=!0:f.listenerCount("data")>0&&f.resume()}function S(f){u("readable nexttick read 0"),f.read(0)}$.prototype.resume=function(){var f=this._readableState;return f.flowing||(u("resume"),f.flowing=!f.readableListening,A(this,f)),f.paused=!1,this};function A(f,h){h.resumeScheduled||(h.resumeScheduled=!0,process.nextTick(U,f,h))}function U(f,h){u("resume",h.reading),h.reading||f.read(0),h.resumeScheduled=!1,f.emit("resume"),p(f),h.flowing&&!h.reading&&f.read(0)}$.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function p(f){var h=f._readableState;for(u("flow",h.flowing);h.flowing&&f.read()!==null;);}$.prototype.wrap=function(f){var h=this,T=this._readableState,B=!1;f.on("end",function(){if(u("wrapped end"),T.decoder&&!T.ended){var oe=T.decoder.end();oe&&oe.length&&h.push(oe)}h.push(null)}),f.on("data",function(oe){if(u("wrapped data"),T.decoder&&(oe=T.decoder.write(oe)),!(T.objectMode&&oe==null)&&!(!T.objectMode&&(!oe||!oe.length))){var qe=h.push(oe);qe||(B=!0,f.pause())}});for(var ae in f)this[ae]===void 0&&typeof f[ae]=="function"&&(this[ae]=function(qe){return function(){return f[qe].apply(f,arguments)}}(ae));for(var Z=0;Z<G.length;Z++)f.on(G[Z],this.emit.bind(this,G[Z]));return this._read=function(oe){u("wrapped _read",oe),B&&(B=!1,f.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return E===void 0&&(E=zy()),E(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}}),$._fromList=y,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function y(f,h){if(h.length===0)return null;var T;return h.objectMode?T=h.buffer.shift():!f||f>=h.length?(h.decoder?T=h.buffer.join(""):h.buffer.length===1?T=h.buffer.first():T=h.buffer.concat(h.length),h.buffer.clear()):T=h.buffer.consume(f,h.decoder),T}function k(f){var h=f._readableState;u("endReadable",h.endEmitted),h.endEmitted||(h.ended=!0,process.nextTick(j,h,f))}function j(f,h){if(u("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,h.readable=!1,h.emit("end"),f.autoDestroy)){var T=h._writableState;(!T||T.autoDestroy&&T.finished)&&h.destroy()}}typeof Symbol=="function"&&($.from=function(f,h){return L===void 0&&(L=qy()),L($,f,h)});function F(f,h){for(var T=0,B=f.length;T<B;T++)if(f[T]===h)return T;return-1}return Ts}var Uc=lt,Jn=Lt.codes,Gy=Jn.ERR_METHOD_NOT_IMPLEMENTED,Yy=Jn.ERR_MULTIPLE_CALLBACK,Qy=Jn.ERR_TRANSFORM_ALREADY_TRANSFORMING,Ky=Jn.ERR_TRANSFORM_WITH_LENGTH_0,Xn=rr();He(lt,Xn);function Zy(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Yy);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function lt(t){if(!(this instanceof lt))return new lt(t);Xn.call(this,t),this._transformState={afterTransform:Zy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Jy)}function Jy(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Fa(t,e,r)}):Fa(this,null,null)}lt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Xn.prototype.push.call(this,t,e)};lt.prototype._transform=function(t,e,r){r(new Gy("_transform()"))};lt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};lt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};lt.prototype._destroy=function(t,e){Xn.prototype._destroy.call(this,t,function(r){e(r)})};function Fa(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Ky;if(t._transformState.transforming)throw new Qy;return t.push(null)}var Xy=Pr,Hc=Uc;He(Pr,Hc);function Pr(t){if(!(this instanceof Pr))return new Pr(t);Hc.call(this,t)}Pr.prototype._transform=function(t,e,r){r(null,t)};var Rs;function ev(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Vc=Lt.codes,tv=Vc.ERR_MISSING_ARGS,rv=Vc.ERR_STREAM_DESTROYED;function Wa(t){if(t)throw t}function nv(t){return t.setHeader&&typeof t.abort=="function"}function iv(t,e,r,n){n=ev(n);var i=!1;t.on("close",function(){i=!0}),Rs===void 0&&(Rs=Do),Rs(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,nv(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new rv("pipe"))}}}function $a(t){t()}function sv(t,e){return t.pipe(e)}function ov(t){return!t.length||typeof t[t.length-1]!="function"?Wa:t.pop()}function av(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=ov(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new tv("streams");var i,s=e.map(function(o,a){var u=a<e.length-1,l=a>0;return iv(o,u,l,function(c){i||(i=c),c&&s.forEach($a),!u&&(s.forEach($a),n(i))})});return e.reduce(sv)}var uv=av;(function(t,e){e=t.exports=$c(),e.Stream=e,e.Readable=e,e.Writable=Fc(),e.Duplex=rr(),e.Transform=Uc,e.PassThrough=Xy,e.finished=Do,e.pipeline=uv})(Cy,Lr);const{Transform:cv}=Lr;var lv=t=>class zc extends cv{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new zc(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:fv}=Lr;var hv=t=>class qc extends fv{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new qc(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const dv=lv,pv=hv;var bv=function(t){const e=dv(t),r=pv(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Gc={};const Ua=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Gc.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],u=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],c=t[8]^t[18]^t[28]^t[38]^t[48],_=t[9]^t[19]^t[29]^t[39]^t[49];let d=c^(i<<1|s>>>31),g=_^(s<<1|i>>>31);const m=t[0]^d,I=t[1]^g,O=t[10]^d,v=t[11]^g,w=t[20]^d,E=t[21]^g,L=t[30]^d,W=t[31]^g,G=t[40]^d,Y=t[41]^g;d=r^(o<<1|a>>>31),g=n^(a<<1|o>>>31);const H=t[2]^d,$=t[3]^g,le=t[12]^d,ce=t[13]^g,J=t[22]^d,se=t[23]^g,V=t[32]^d,fe=t[33]^g,ye=t[42]^d,x=t[43]^g;d=i^(u<<1|l>>>31),g=s^(l<<1|u>>>31);const C=t[4]^d,M=t[5]^g,N=t[14]^d,P=t[15]^g,b=t[24]^d,S=t[25]^g,A=t[34]^d,U=t[35]^g,p=t[44]^d,y=t[45]^g;d=o^(c<<1|_>>>31),g=a^(_<<1|c>>>31);const k=t[6]^d,j=t[7]^g,F=t[16]^d,f=t[17]^g,h=t[26]^d,T=t[27]^g,B=t[36]^d,ae=t[37]^g,Z=t[46]^d,oe=t[47]^g;d=u^(r<<1|n>>>31),g=l^(n<<1|r>>>31);const qe=t[8]^d,R=t[9]^g,xt=t[18]^d,yr=t[19]^g,vr=t[28]^d,Bt=t[29]^g,Ft=t[38]^d,Wt=t[39]^g,dt=t[48]^d,st=t[49]^g,Je=m,Mi=I,Ai=v<<4|O>>>28,Ii=O<<4|v>>>28,Ti=w<<3|E>>>29,Ri=E<<3|w>>>29,Oi=W<<9|L>>>23,Ni=L<<9|W>>>23,ji=G<<18|Y>>>14,Di=Y<<18|G>>>14,Li=H<<1|$>>>31,Pi=$<<1|H>>>31,Bi=ce<<12|le>>>20,Fi=le<<12|ce>>>20,Wi=J<<10|se>>>22,$i=se<<10|J>>>22,Ui=fe<<13|V>>>19,Hi=V<<13|fe>>>19,Vi=ye<<2|x>>>30,zi=x<<2|ye>>>30,qi=M<<30|C>>>2,Gi=C<<30|M>>>2,Yi=N<<6|P>>>26,Qi=P<<6|N>>>26,Ki=S<<11|b>>>21,Zi=b<<11|S>>>21,Ji=A<<15|U>>>17,Xi=U<<15|A>>>17,es=y<<29|p>>>3,ts=p<<29|y>>>3,rs=k<<28|j>>>4,ns=j<<28|k>>>4,is=f<<23|F>>>9,ss=F<<23|f>>>9,os=h<<25|T>>>7,as=T<<25|h>>>7,us=B<<21|ae>>>11,cs=ae<<21|B>>>11,ls=oe<<24|Z>>>8,fs=Z<<24|oe>>>8,hs=qe<<27|R>>>5,ds=R<<27|qe>>>5,ps=xt<<20|yr>>>12,bs=yr<<20|xt>>>12,gs=Bt<<7|vr>>>25,ys=vr<<7|Bt>>>25,vs=Ft<<8|Wt>>>24,_s=Wt<<8|Ft>>>24,ms=dt<<14|st>>>18,ws=st<<14|dt>>>18;t[0]=Je^~Bi&Ki,t[1]=Mi^~Fi&Zi,t[10]=rs^~ps&Ti,t[11]=ns^~bs&Ri,t[20]=Li^~Yi&os,t[21]=Pi^~Qi&as,t[30]=hs^~Ai&Wi,t[31]=ds^~Ii&$i,t[40]=qi^~is&gs,t[41]=Gi^~ss&ys,t[2]=Bi^~Ki&us,t[3]=Fi^~Zi&cs,t[12]=ps^~Ti&Ui,t[13]=bs^~Ri&Hi,t[22]=Yi^~os&vs,t[23]=Qi^~as&_s,t[32]=Ai^~Wi&Ji,t[33]=Ii^~$i&Xi,t[42]=is^~gs&Oi,t[43]=ss^~ys&Ni,t[4]=Ki^~us&ms,t[5]=Zi^~cs&ws,t[14]=Ti^~Ui&es,t[15]=Ri^~Hi&ts,t[24]=os^~vs&ji,t[25]=as^~_s&Di,t[34]=Wi^~Ji&ls,t[35]=$i^~Xi&fs,t[44]=gs^~Oi&Vi,t[45]=ys^~Ni&zi,t[6]=us^~ms&Je,t[7]=cs^~ws&Mi,t[16]=Ui^~es&rs,t[17]=Hi^~ts&ns,t[26]=vs^~ji&Li,t[27]=_s^~Di&Pi,t[36]=Ji^~ls&hs,t[37]=Xi^~fs&ds,t[46]=Oi^~Vi&qi,t[47]=Ni^~zi&Gi,t[8]=ms^~Je&Bi,t[9]=ws^~Mi&Fi,t[18]=es^~rs&ps,t[19]=ts^~ns&bs,t[28]=ji^~Li&Yi,t[29]=Di^~Pi&Qi,t[38]=ls^~hs&Ai,t[39]=fs^~ds&Ii,t[48]=Vi^~qi&is,t[49]=zi^~Gi&ss,t[0]^=Ua[e*2],t[1]^=Ua[e*2+1]}};const On=Gc;function br(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}br.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};br.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(On.p1600(this.state),this.count=0)};br.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&On.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),On.p1600(this.state),this.count=0,this.squeezing=!0};br.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(On.p1600(this.state),this.count=0);return e};br.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var gv=br,yv=bv(gv);const vv=yv,_v=Fn;function Yc(t){return Buffer.allocUnsafe(t).fill(0)}function Qc(t,e,r){const n=Yc(e);return t=ei(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function mv(t,e){return Qc(t,e,!0)}function ei(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Kc(t)?t=Buffer.from(Ev(Zc(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(_v.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function wv(t){return t=ei(t),"0x"+t.toString("hex")}function Sv(t,e){return t=ei(t),e||(e=256),vv("keccak"+e).update(t).digest()}function Ev(t){return t.length%2?"0"+t:t}function Kc(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Zc(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Jc={zeros:Yc,setLength:Qc,setLengthRight:mv,isHexString:Kc,stripHexPrefix:Zc,toBuffer:ei,bufferToHex:wv,keccak:Sv};const Nt=Jc,It=Fn;function Xc(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Yt(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ha(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function el(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Ct(t){var e=typeof t;if(e==="string")return Nt.isHexString(t)?new It(Nt.stripHexPrefix(t),16):new It(t,10);if(e==="number")return new It(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function et(t,e){var r,n,i,s;if(t==="address")return et("uint160",Ct(e));if(t==="bool")return et("uint8",e?1:0);if(t==="string")return et("bytes",new Buffer(e,"utf8"));if(kv(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=el(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(et(t,e[s]));if(r==="dynamic"){var o=et("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([et("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Nt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Yt(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Nt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Yt(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ct(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Yt(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ct(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ha(t),n=Ct(e),n<0)throw new Error("Supplied ufixed is negative");return et("uint256",n.mul(new It(2).pow(new It(r[1]))))}else if(t.startsWith("fixed"))return r=Ha(t),et("int256",Ct(e).mul(new It(2).pow(new It(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function xv(t){return t==="string"||t==="bytes"||el(t)==="dynamic"}function kv(t){return t.lastIndexOf("]")===t.length-1}function Cv(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Xc(t[s]),a=e[s],u=et(o,a);xv(o)?(r.push(et("uint256",i)),n.push(u),i+=u.length):r.push(u)}return Buffer.concat(r.concat(n))}function tl(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Xc(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Nt.setLength(a,20));else if(o.startsWith("bytes")){if(r=Yt(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Nt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Yt(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Ct(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Yt(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Ct(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Mv(t,e){return Nt.keccak(tl(t,e))}var Av={rawEncode:Cv,solidityPack:tl,soliditySHA3:Mv};const Ye=Jc,Cr=Av,rl={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Os={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,u,l)=>{if(r[u]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Ye.keccak(this.encodeData(u,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${u}`);if(u==="bytes")return["bytes32",Ye.keccak(l)];if(u==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Ye.keccak(l)];if(u.lastIndexOf("]")===u.length-1){const c=u.slice(0,u.lastIndexOf("[")),_=l.map(d=>o(a,c,d));return["bytes32",Ye.keccak(Cr.rawEncode(_.map(([d])=>d),_.map(([,d])=>d)))]}return[u,l]};for(const a of r[t]){const[u,l]=o(a.name,a.type,e[a.name]);i.push(u),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Ye.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Ye.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Ye.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return Cr.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Ye.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Ye.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in rl.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Ye.keccak(Buffer.concat(n))}};var Iv={TYPED_MESSAGE_SCHEMA:rl,TypedDataUtils:Os,hashForSignTypedDataLegacy:function(t){return Tv(t.data)},hashForSignTypedData_v3:function(t){return Os.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Os.hash(t.data)}};function Tv(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Ye.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return Cr.soliditySHA3(["bytes32","bytes32"],[Cr.soliditySHA3(new Array(t.length).fill("string"),i),Cr.soliditySHA3(n,r)])}var nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.filterFromParam=nr.FilterPolyfill=void 0;const Ht=Xr,Oe=z,Rv=5*60*1e3,Mt={jsonrpc:"2.0",id:0};class Ov{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Ht.IntNumber)(1),this.provider=e}async newFilter(e){const r=nl(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Oe.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Oe.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Oe.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Oe.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Oe.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(fn())}async getFilterLogs(e){const r=(0,Oe.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Mt),{method:"eth_getLogs",params:[Va(n)]})):fn()}makeFilterId(){return(0,Ht.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return fn();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return hn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Mt),{method:"eth_getLogs",params:[Va(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Oe.intNumberFromHexString)(l.blockNumber||"0x0")),u=Math.max(...a);if(u&&u>n){const l=(0,Ht.IntNumber)(u+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return fn();const n=await this.getCurrentBlockHeight();if(r>n)return hn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Oe.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Ht.IntNumber)(o))))).filter(o=>!!o),s=(0,Ht.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Mt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(hn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Rv);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Mt),{method:"eth_blockNumber",params:[]}));return(0,Oe.intNumberFromHexString)((0,Oe.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Mt),{method:"eth_getBlockByNumber",params:[(0,Oe.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Oe.ensureHexString)(r.result.hash):null}}nr.FilterPolyfill=Ov;function nl(t){return{fromBlock:za(t.fromBlock),toBlock:za(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}nr.filterFromParam=nl;function Va(t){const e={fromBlock:qa(t.fromBlock),toBlock:qa(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function za(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Ht.IntNumber)(0);if((0,Oe.isHexString)(t))return(0,Oe.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function qa(t){return t==="latest"?t:(0,Oe.hexStringFromIntNumber)(t)}function fn(){return Object.assign(Object.assign({},Mt),{error:{code:-32e3,message:"filter not found"}})}function hn(){return Object.assign(Object.assign({},Mt),{result:[]})}var il={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(il);var ti={};const Ga=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const u=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)u[l-1]=arguments[l];o?(u.unshift(o),s(u)):i(u)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let u=0;u<arguments.length;u++)a[u]=arguments[u];i(a)}else i(o)}),t.apply(this,n)})};var Nv=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Ga(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Ga(s,e):s}return n},jv=Lv,Dv=Object.prototype.hasOwnProperty;function Lv(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Dv.call(r,n)&&(t[n]=r[n])}return t}var Pv=Bv;function Bv(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Fv=jv,Wv=Pv();var $v=Q;function Q(t){const e=this;e.currentProvider=t}Q.prototype.getBalance=rn(2,"eth_getBalance");Q.prototype.getCode=rn(2,"eth_getCode");Q.prototype.getTransactionCount=rn(2,"eth_getTransactionCount");Q.prototype.getStorageAt=rn(3,"eth_getStorageAt");Q.prototype.call=rn(2,"eth_call");Q.prototype.protocolVersion=re("eth_protocolVersion");Q.prototype.syncing=re("eth_syncing");Q.prototype.coinbase=re("eth_coinbase");Q.prototype.mining=re("eth_mining");Q.prototype.hashrate=re("eth_hashrate");Q.prototype.gasPrice=re("eth_gasPrice");Q.prototype.accounts=re("eth_accounts");Q.prototype.blockNumber=re("eth_blockNumber");Q.prototype.getBlockTransactionCountByHash=re("eth_getBlockTransactionCountByHash");Q.prototype.getBlockTransactionCountByNumber=re("eth_getBlockTransactionCountByNumber");Q.prototype.getUncleCountByBlockHash=re("eth_getUncleCountByBlockHash");Q.prototype.getUncleCountByBlockNumber=re("eth_getUncleCountByBlockNumber");Q.prototype.sign=re("eth_sign");Q.prototype.sendTransaction=re("eth_sendTransaction");Q.prototype.sendRawTransaction=re("eth_sendRawTransaction");Q.prototype.estimateGas=re("eth_estimateGas");Q.prototype.getBlockByHash=re("eth_getBlockByHash");Q.prototype.getBlockByNumber=re("eth_getBlockByNumber");Q.prototype.getTransactionByHash=re("eth_getTransactionByHash");Q.prototype.getTransactionByBlockHashAndIndex=re("eth_getTransactionByBlockHashAndIndex");Q.prototype.getTransactionByBlockNumberAndIndex=re("eth_getTransactionByBlockNumberAndIndex");Q.prototype.getTransactionReceipt=re("eth_getTransactionReceipt");Q.prototype.getUncleByBlockHashAndIndex=re("eth_getUncleByBlockHashAndIndex");Q.prototype.getUncleByBlockNumberAndIndex=re("eth_getUncleByBlockNumberAndIndex");Q.prototype.getCompilers=re("eth_getCompilers");Q.prototype.compileLLL=re("eth_compileLLL");Q.prototype.compileSolidity=re("eth_compileSolidity");Q.prototype.compileSerpent=re("eth_compileSerpent");Q.prototype.newFilter=re("eth_newFilter");Q.prototype.newBlockFilter=re("eth_newBlockFilter");Q.prototype.newPendingTransactionFilter=re("eth_newPendingTransactionFilter");Q.prototype.uninstallFilter=re("eth_uninstallFilter");Q.prototype.getFilterChanges=re("eth_getFilterChanges");Q.prototype.getFilterLogs=re("eth_getFilterLogs");Q.prototype.getLogs=re("eth_getLogs");Q.prototype.getWork=re("eth_getWork");Q.prototype.submitWork=re("eth_submitWork");Q.prototype.submitHashrate=re("eth_submitHashrate");Q.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Uv(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function re(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function rn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Uv(t){return Fv({id:Wv(),jsonrpc:"2.0",params:[]},t)}var sl={},ol={},Hv=cf,ri=function(){return Hv()&&!!Symbol.toStringTag},Vv=ri(),zv=_o,fo=zv("Object.prototype.toString"),ni=function(e){return Vv&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:fo(e)==="[object Arguments]"},al=function(e){return ni(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&fo(e)!=="[object Array]"&&fo(e.callee)==="[object Function]"},qv=function(){return ni(arguments)}();ni.isLegacyArguments=al;var Gv=qv?ni:al,Yv=Object.prototype.toString,Qv=Function.prototype.toString,Kv=/^\s*(?:function)?\*/,ul=ri(),Ns=Object.getPrototypeOf,Zv=function(){if(!ul)return!1;try{return Function("return function*() {}")()}catch{}},js,Jv=function(e){if(typeof e!="function")return!1;if(Kv.test(Qv.call(e)))return!0;if(!ul){var r=Yv.call(e);return r==="[object GeneratorFunction]"}if(!Ns)return!1;if(typeof js>"u"){var n=Zv();js=n?Ns(n):!1}return Ns(e)===js},cl=Function.prototype.toString,zt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ho,mn;if(typeof zt=="function"&&typeof Object.defineProperty=="function")try{ho=Object.defineProperty({},"length",{get:function(){throw mn}}),mn={},zt(function(){throw 42},null,ho)}catch(t){t!==mn&&(zt=null)}else zt=null;var Xv=/^\s*class\b/,po=function(e){try{var r=cl.call(e);return Xv.test(r)}catch{return!1}},Ds=function(e){try{return po(e)?!1:(cl.call(e),!0)}catch{return!1}},wn=Object.prototype.toString,e_="[object Object]",t_="[object Function]",r_="[object GeneratorFunction]",n_="[object HTMLAllCollection]",i_="[object HTML document.all class]",s_="[object HTMLCollection]",o_=typeof Symbol=="function"&&!!Symbol.toStringTag,a_=!(0 in[,]),bo=function(){return!1};if(typeof document=="object"){var u_=document.all;wn.call(u_)===wn.call(document.all)&&(bo=function(e){if((a_||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=wn.call(e);return(r===n_||r===i_||r===s_||r===e_)&&e("")==null}catch{}return!1})}var c_=zt?function(e){if(bo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{zt(e,null,ho)}catch(r){if(r!==mn)return!1}return!po(e)&&Ds(e)}:function(e){if(bo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(o_)return Ds(e);if(po(e))return!1;var r=wn.call(e);return r!==t_&&r!==r_&&!/^\[object HTML/.test(r)?!1:Ds(e)},l_=c_,f_=Object.prototype.toString,ll=Object.prototype.hasOwnProperty,h_=function(e,r,n){for(var i=0,s=e.length;i<s;i++)ll.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},d_=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},p_=function(e,r,n){for(var i in e)ll.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},b_=function(e,r,n){if(!l_(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),f_.call(e)==="[object Array]"?h_(e,r,i):typeof e=="string"?d_(e,r,i):p_(e,r,i)},fl=b_,Ls=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g_=typeof globalThis>"u"?ee:globalThis,hl=function(){for(var e=[],r=0;r<Ls.length;r++)typeof g_[Ls[r]]=="function"&&(e[e.length]=Ls[r]);return e},y_=lf,Sn=y_("%Object.getOwnPropertyDescriptor%",!0);if(Sn)try{Sn([],"length")}catch{Sn=null}var dl=Sn,pl=fl,v_=hl,Lo=_o,__=Lo("Object.prototype.toString"),bl=ri(),En=dl,m_=typeof globalThis>"u"?ee:globalThis,gl=v_(),w_=Lo("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},S_=Lo("String.prototype.slice"),yl={},Ps=Object.getPrototypeOf;bl&&En&&Ps&&pl(gl,function(t){var e=new m_[t];if(Symbol.toStringTag in e){var r=Ps(e),n=En(r,Symbol.toStringTag);if(!n){var i=Ps(r);n=En(i,Symbol.toStringTag)}yl[t]=n.get}});var E_=function(e){var r=!1;return pl(yl,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},vl=function(e){if(!e||typeof e!="object")return!1;if(!bl||!(Symbol.toStringTag in e)){var r=S_(__(e),8,-1);return w_(gl,r)>-1}return En?E_(e):!1},_l=fl,x_=hl,ml=_o,Bs=dl,k_=ml("Object.prototype.toString"),wl=ri(),Ya=typeof globalThis>"u"?ee:globalThis,C_=x_(),M_=ml("String.prototype.slice"),Sl={},Fs=Object.getPrototypeOf;wl&&Bs&&Fs&&_l(C_,function(t){if(typeof Ya[t]=="function"){var e=new Ya[t];if(Symbol.toStringTag in e){var r=Fs(e),n=Bs(r,Symbol.toStringTag);if(!n){var i=Fs(r);n=Bs(i,Symbol.toStringTag)}Sl[t]=n.get}}});var A_=function(e){var r=!1;return _l(Sl,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},I_=vl,T_=function(e){return I_(e)?!wl||!(Symbol.toStringTag in e)?M_(k_(e),8,-1):A_(e):!1};(function(t){var e=Gv,r=Jv,n=T_,i=vl;function s(R){return R.call.bind(R)}var o=typeof BigInt<"u",a=typeof Symbol<"u",u=s(Object.prototype.toString),l=s(Number.prototype.valueOf),c=s(String.prototype.valueOf),_=s(Boolean.prototype.valueOf);if(o)var d=s(BigInt.prototype.valueOf);if(a)var g=s(Symbol.prototype.valueOf);function m(R,xt){if(typeof R!="object")return!1;try{return xt(R),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function I(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"}t.isPromise=I;function O(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):i(R)||S(R)}t.isArrayBufferView=O;function v(R){return n(R)==="Uint8Array"}t.isUint8Array=v;function w(R){return n(R)==="Uint8ClampedArray"}t.isUint8ClampedArray=w;function E(R){return n(R)==="Uint16Array"}t.isUint16Array=E;function L(R){return n(R)==="Uint32Array"}t.isUint32Array=L;function W(R){return n(R)==="Int8Array"}t.isInt8Array=W;function G(R){return n(R)==="Int16Array"}t.isInt16Array=G;function Y(R){return n(R)==="Int32Array"}t.isInt32Array=Y;function H(R){return n(R)==="Float32Array"}t.isFloat32Array=H;function $(R){return n(R)==="Float64Array"}t.isFloat64Array=$;function le(R){return n(R)==="BigInt64Array"}t.isBigInt64Array=le;function ce(R){return n(R)==="BigUint64Array"}t.isBigUint64Array=ce;function J(R){return u(R)==="[object Map]"}J.working=typeof Map<"u"&&J(new Map);function se(R){return typeof Map>"u"?!1:J.working?J(R):R instanceof Map}t.isMap=se;function V(R){return u(R)==="[object Set]"}V.working=typeof Set<"u"&&V(new Set);function fe(R){return typeof Set>"u"?!1:V.working?V(R):R instanceof Set}t.isSet=fe;function ye(R){return u(R)==="[object WeakMap]"}ye.working=typeof WeakMap<"u"&&ye(new WeakMap);function x(R){return typeof WeakMap>"u"?!1:ye.working?ye(R):R instanceof WeakMap}t.isWeakMap=x;function C(R){return u(R)==="[object WeakSet]"}C.working=typeof WeakSet<"u"&&C(new WeakSet);function M(R){return C(R)}t.isWeakSet=M;function N(R){return u(R)==="[object ArrayBuffer]"}N.working=typeof ArrayBuffer<"u"&&N(new ArrayBuffer);function P(R){return typeof ArrayBuffer>"u"?!1:N.working?N(R):R instanceof ArrayBuffer}t.isArrayBuffer=P;function b(R){return u(R)==="[object DataView]"}b.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&b(new DataView(new ArrayBuffer(1),0,1));function S(R){return typeof DataView>"u"?!1:b.working?b(R):R instanceof DataView}t.isDataView=S;var A=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function U(R){return u(R)==="[object SharedArrayBuffer]"}function p(R){return typeof A>"u"?!1:(typeof U.working>"u"&&(U.working=U(new A)),U.working?U(R):R instanceof A)}t.isSharedArrayBuffer=p;function y(R){return u(R)==="[object AsyncFunction]"}t.isAsyncFunction=y;function k(R){return u(R)==="[object Map Iterator]"}t.isMapIterator=k;function j(R){return u(R)==="[object Set Iterator]"}t.isSetIterator=j;function F(R){return u(R)==="[object Generator]"}t.isGeneratorObject=F;function f(R){return u(R)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=f;function h(R){return m(R,l)}t.isNumberObject=h;function T(R){return m(R,c)}t.isStringObject=T;function B(R){return m(R,_)}t.isBooleanObject=B;function ae(R){return o&&m(R,d)}t.isBigIntObject=ae;function Z(R){return a&&m(R,g)}t.isSymbolObject=Z;function oe(R){return h(R)||T(R)||B(R)||ae(R)||Z(R)}t.isBoxedPrimitive=oe;function qe(R){return typeof Uint8Array<"u"&&(P(R)||p(R))}t.isAnyArrayBuffer=qe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(t,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})})(ol);var R_=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(S){for(var A=Object.keys(S),U={},p=0;p<A.length;p++)U[A[p]]=Object.getOwnPropertyDescriptor(S,A[p]);return U},r=/%[sdj%]/g;t.format=function(b){if(!W(b)){for(var S=[],A=0;A<arguments.length;A++)S.push(o(arguments[A]));return S.join(" ")}for(var A=1,U=arguments,p=U.length,y=String(b).replace(r,function(j){if(j==="%%")return"%";if(A>=p)return j;switch(j){case"%s":return String(U[A++]);case"%d":return Number(U[A++]);case"%j":try{return JSON.stringify(U[A++])}catch{return"[Circular]"}default:return j}}),k=U[A];A<p;k=U[++A])w(k)||!$(k)?y+=" "+k:y+=" "+o(k);return y},t.deprecate=function(b,S){if(typeof process<"u"&&process.noDeprecation===!0)return b;if(typeof process>"u")return function(){return t.deprecate(b,S).apply(this,arguments)};var A=!1;function U(){if(!A){if(process.throwDeprecation)throw new Error(S);process.traceDeprecation?console.trace(S):console.error(S),A=!0}return b.apply(this,arguments)}return U};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(b){if(b=b.toUpperCase(),!n[b])if(i.test(b)){var S=process.pid;n[b]=function(){var A=t.format.apply(t,arguments);console.error("%s %d: %s",b,S,A)}}else n[b]=function(){};return n[b]};function o(b,S){var A={seen:[],stylize:u};return arguments.length>=3&&(A.depth=arguments[2]),arguments.length>=4&&(A.colors=arguments[3]),v(S)?A.showHidden=S:S&&t._extend(A,S),Y(A.showHidden)&&(A.showHidden=!1),Y(A.depth)&&(A.depth=2),Y(A.colors)&&(A.colors=!1),Y(A.customInspect)&&(A.customInspect=!0),A.colors&&(A.stylize=a),c(A,b,A.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(b,S){var A=o.styles[S];return A?"\x1B["+o.colors[A][0]+"m"+b+"\x1B["+o.colors[A][1]+"m":b}function u(b,S){return b}function l(b){var S={};return b.forEach(function(A,U){S[A]=!0}),S}function c(b,S,A){if(b.customInspect&&S&&J(S.inspect)&&S.inspect!==t.inspect&&!(S.constructor&&S.constructor.prototype===S)){var U=S.inspect(A,b);return W(U)||(U=c(b,U,A)),U}var p=_(b,S);if(p)return p;var y=Object.keys(S),k=l(y);if(b.showHidden&&(y=Object.getOwnPropertyNames(S)),ce(S)&&(y.indexOf("message")>=0||y.indexOf("description")>=0))return d(S);if(y.length===0){if(J(S)){var j=S.name?": "+S.name:"";return b.stylize("[Function"+j+"]","special")}if(H(S))return b.stylize(RegExp.prototype.toString.call(S),"regexp");if(le(S))return b.stylize(Date.prototype.toString.call(S),"date");if(ce(S))return d(S)}var F="",f=!1,h=["{","}"];if(O(S)&&(f=!0,h=["[","]"]),J(S)){var T=S.name?": "+S.name:"";F=" [Function"+T+"]"}if(H(S)&&(F=" "+RegExp.prototype.toString.call(S)),le(S)&&(F=" "+Date.prototype.toUTCString.call(S)),ce(S)&&(F=" "+d(S)),y.length===0&&(!f||S.length==0))return h[0]+F+h[1];if(A<0)return H(S)?b.stylize(RegExp.prototype.toString.call(S),"regexp"):b.stylize("[Object]","special");b.seen.push(S);var B;return f?B=g(b,S,A,k,y):B=y.map(function(ae){return m(b,S,A,k,ae,f)}),b.seen.pop(),I(B,F,h)}function _(b,S){if(Y(S))return b.stylize("undefined","undefined");if(W(S)){var A="'"+JSON.stringify(S).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return b.stylize(A,"string")}if(L(S))return b.stylize(""+S,"number");if(v(S))return b.stylize(""+S,"boolean");if(w(S))return b.stylize("null","null")}function d(b){return"["+Error.prototype.toString.call(b)+"]"}function g(b,S,A,U,p){for(var y=[],k=0,j=S.length;k<j;++k)C(S,String(k))?y.push(m(b,S,A,U,String(k),!0)):y.push("");return p.forEach(function(F){F.match(/^\d+$/)||y.push(m(b,S,A,U,F,!0))}),y}function m(b,S,A,U,p,y){var k,j,F;if(F=Object.getOwnPropertyDescriptor(S,p)||{value:S[p]},F.get?F.set?j=b.stylize("[Getter/Setter]","special"):j=b.stylize("[Getter]","special"):F.set&&(j=b.stylize("[Setter]","special")),C(U,p)||(k="["+p+"]"),j||(b.seen.indexOf(F.value)<0?(w(A)?j=c(b,F.value,null):j=c(b,F.value,A-1),j.indexOf(`
`)>-1&&(y?j=j.split(`
`).map(function(f){return"  "+f}).join(`
`).slice(2):j=`
`+j.split(`
`).map(function(f){return"   "+f}).join(`
`))):j=b.stylize("[Circular]","special")),Y(k)){if(y&&p.match(/^\d+$/))return j;k=JSON.stringify(""+p),k.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.slice(1,-1),k=b.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=b.stylize(k,"string"))}return k+": "+j}function I(b,S,A){var U=b.reduce(function(p,y){return y.indexOf(`
`)>=0,p+y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return U>60?A[0]+(S===""?"":S+`
 `)+" "+b.join(`,
  `)+" "+A[1]:A[0]+S+" "+b.join(", ")+" "+A[1]}t.types=ol;function O(b){return Array.isArray(b)}t.isArray=O;function v(b){return typeof b=="boolean"}t.isBoolean=v;function w(b){return b===null}t.isNull=w;function E(b){return b==null}t.isNullOrUndefined=E;function L(b){return typeof b=="number"}t.isNumber=L;function W(b){return typeof b=="string"}t.isString=W;function G(b){return typeof b=="symbol"}t.isSymbol=G;function Y(b){return b===void 0}t.isUndefined=Y;function H(b){return $(b)&&V(b)==="[object RegExp]"}t.isRegExp=H,t.types.isRegExp=H;function $(b){return typeof b=="object"&&b!==null}t.isObject=$;function le(b){return $(b)&&V(b)==="[object Date]"}t.isDate=le,t.types.isDate=le;function ce(b){return $(b)&&(V(b)==="[object Error]"||b instanceof Error)}t.isError=ce,t.types.isNativeError=ce;function J(b){return typeof b=="function"}t.isFunction=J;function se(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||typeof b>"u"}t.isPrimitive=se,t.isBuffer=R_;function V(b){return Object.prototype.toString.call(b)}function fe(b){return b<10?"0"+b.toString(10):b.toString(10)}var ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(){var b=new Date,S=[fe(b.getHours()),fe(b.getMinutes()),fe(b.getSeconds())].join(":");return[b.getDate(),ye[b.getMonth()],S].join(" ")}t.log=function(){console.log("%s - %s",x(),t.format.apply(t,arguments))},t.inherits=He,t._extend=function(b,S){if(!S||!$(S))return b;for(var A=Object.keys(S),U=A.length;U--;)b[A[U]]=S[A[U]];return b};function C(b,S){return Object.prototype.hasOwnProperty.call(b,S)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(S){if(typeof S!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&S[M]){var A=S[M];if(typeof A!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(A,M,{value:A,enumerable:!1,writable:!1,configurable:!0}),A}function A(){for(var U,p,y=new Promise(function(F,f){U=F,p=f}),k=[],j=0;j<arguments.length;j++)k.push(arguments[j]);k.push(function(F,f){F?p(F):U(f)});try{S.apply(this,k)}catch(F){p(F)}return y}return Object.setPrototypeOf(A,Object.getPrototypeOf(S)),M&&Object.defineProperty(A,M,{value:A,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(A,e(S))},t.promisify.custom=M;function N(b,S){if(!b){var A=new Error("Promise was rejected with a falsy value");A.reason=b,b=A}return S(b)}function P(b){if(typeof b!="function")throw new TypeError('The "original" argument must be of type Function');function S(){for(var A=[],U=0;U<arguments.length;U++)A.push(arguments[U]);var p=A.pop();if(typeof p!="function")throw new TypeError("The last argument must be of type Function");var y=this,k=function(){return p.apply(y,arguments)};b.apply(this,A).then(function(j){process.nextTick(k.bind(null,null,j))},function(j){process.nextTick(N.bind(null,j,k))})}return Object.setPrototypeOf(S,Object.getPrototypeOf(b)),Object.defineProperties(S,e(b)),S}t.callbackify=P})(sl);const O_=sl,El=Wn;var Ws=typeof Reflect=="object"?Reflect:null,N_=Ws&&typeof Ws.apply=="function"?Ws.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},j_=Po;function Po(){El.call(this)}O_.inherits(Po,El);Po.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")Qa(a,this,e);else for(var u=a.length,l=D_(a,u),r=0;r<u;++r)Qa(l[r],this,e);return!0};function Qa(t,e,r){try{N_(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function D_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const L_=j_,P_=1e3,B_=(t,e)=>t+e,Ka=["sync","latest"];let F_=class extends L_{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*P_,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){Ka.includes(e)&&this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Ka.map(e=>this.listenerCount(e)).reduce(B_)}_newPotentialLatest(e){const r=this._currentBlock;r&&Za(e)<=Za(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var W_=F_;function Za(t){return Number.parseInt(t,16)}const $_=Nv,U_=W_,H_=1e3;let V_=class extends U_{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*H_,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Ja(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await Ja(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await $_(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}};var z_=V_;function Ja(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Nn={},q_={get exports(){return Nn},set exports(t){Nn=t}},G_=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=G_})(q_);var Bo={},ii={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.getUniqueId=void 0;const xl=4294967295;let $s=Math.floor(Math.random()*xl);function Y_(){return $s=($s+1)%xl,$s}nn.getUniqueId=Y_;Object.defineProperty(ii,"__esModule",{value:!0});ii.createIdRemapMiddleware=void 0;const Q_=nn;function K_(){return(t,e,r,n)=>{const i=t.id,s=Q_.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}ii.createIdRemapMiddleware=K_;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.createAsyncMiddleware=void 0;function Z_(t){return async(e,r,n,i)=>{let s;const o=new Promise(c=>{s=c});let a=null,u=!1;const l=async()=>{u=!0,n(c=>{a=c,s()}),await o};try{await t(e,r,l),u?(await o,a(null)):i(null)}catch(c){a?a(c):i(c)}}}si.createAsyncMiddleware=Z_;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.createScaffoldMiddleware=void 0;function J_(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}oi.createScaffoldMiddleware=J_;var sn={},X_=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.JsonRpcEngine=void 0;const e1=X_(ar),Fe=Hr;class ot extends e1.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await ot._runAllMiddleware(e,r,this._middleware);return o?(await ot._runReturnHandlers(a),i(s)):n(async u=>{try{await ot._runReturnHandlers(a)}catch(l){return u(l)}return u()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Fe.EthereumRpcError(Fe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Fe.EthereumRpcError(Fe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Fe.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await ot._runAllMiddleware(e,r,this._middleware);if(ot._checkForCompletion(e,r,i),await ot._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await ot._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=u=>{const l=u||r.error;l&&(r.error=Fe.serializeError(l)),s([l,!0])},a=u=>{r.error?o(r.error):(u&&(typeof u!="function"&&o(new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof u}" for request:
${Us(e)}`,{request:e})),i.push(u)),s([null,!1]))};try{n(e,r,a,o)}catch(u){o(u)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Us(e)}`,{request:e});if(!n)throw new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Us(e)}`,{request:e})}}sn.JsonRpcEngine=ot;function Us(t){return JSON.stringify(t,null,2)}var ai={};Object.defineProperty(ai,"__esModule",{value:!0});ai.mergeMiddleware=void 0;const t1=sn;function r1(t){const e=new t1.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}ai.mergeMiddleware=r1;(function(t){var e=ee&&ee.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=ee&&ee.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ii,t),r(si,t),r(oi,t),r(nn,t),r(sn,t),r(ai,t)})(Bo);var kl={},Fo={},Br={},n1={get exports(){return Br},set exports(t){Br=t}};(function(t){var e,r,n,i,s,o,a,u,l,c,_,d,g,m,I,O,v,w,E,L,W,G,Y,H,$,le,ce,J,se;(function(V){var fe=typeof ee=="object"?ee:typeof self=="object"?self:typeof this=="object"?this:{};V(ye(fe,ye(t.exports)));function ye(x,C){return x!==fe&&(typeof Object.create=="function"?Object.defineProperty(x,"__esModule",{value:!0}):x.__esModule=!0),function(M,N){return x[M]=C?C(M,N):N}}})(function(V){var fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,C){x.__proto__=C}||function(x,C){for(var M in C)Object.prototype.hasOwnProperty.call(C,M)&&(x[M]=C[M])};e=function(x,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");fe(x,C);function M(){this.constructor=x}x.prototype=C===null?Object.create(C):(M.prototype=C.prototype,new M)},r=Object.assign||function(x){for(var C,M=1,N=arguments.length;M<N;M++){C=arguments[M];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(x[P]=C[P])}return x},n=function(x,C){var M={};for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&C.indexOf(N)<0&&(M[N]=x[N]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var P=0,N=Object.getOwnPropertySymbols(x);P<N.length;P++)C.indexOf(N[P])<0&&Object.prototype.propertyIsEnumerable.call(x,N[P])&&(M[N[P]]=x[N[P]]);return M},i=function(x,C,M,N){var P=arguments.length,b=P<3?C:N===null?N=Object.getOwnPropertyDescriptor(C,M):N,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(x,C,M,N);else for(var A=x.length-1;A>=0;A--)(S=x[A])&&(b=(P<3?S(b):P>3?S(C,M,b):S(C,M))||b);return P>3&&b&&Object.defineProperty(C,M,b),b},s=function(x,C){return function(M,N){C(M,N,x)}},o=function(x,C,M,N,P,b){function S(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var A=N.kind,U=A==="getter"?"get":A==="setter"?"set":"value",p=!C&&x?N.static?x:x.prototype:null,y=C||(p?Object.getOwnPropertyDescriptor(p,N.name):{}),k,j=!1,F=M.length-1;F>=0;F--){var f={};for(var h in N)f[h]=h==="access"?{}:N[h];for(var h in N.access)f.access[h]=N.access[h];f.addInitializer=function(B){if(j)throw new TypeError("Cannot add initializers after decoration has completed");b.push(S(B||null))};var T=(0,M[F])(A==="accessor"?{get:y.get,set:y.set}:y[U],f);if(A==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(k=S(T.get))&&(y.get=k),(k=S(T.set))&&(y.set=k),(k=S(T.init))&&P.push(k)}else(k=S(T))&&(A==="field"?P.push(k):y[U]=k)}p&&Object.defineProperty(p,N.name,y),j=!0},a=function(x,C,M){for(var N=arguments.length>2,P=0;P<C.length;P++)M=N?C[P].call(x,M):C[P].call(x);return N?M:void 0},u=function(x){return typeof x=="symbol"?x:"".concat(x)},l=function(x,C,M){return typeof C=="symbol"&&(C=C.description?"[".concat(C.description,"]"):""),Object.defineProperty(x,"name",{configurable:!0,value:M?"".concat(M," ",C):C})},c=function(x,C){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(x,C)},_=function(x,C,M,N){function P(b){return b instanceof M?b:new M(function(S){S(b)})}return new(M||(M=Promise))(function(b,S){function A(y){try{p(N.next(y))}catch(k){S(k)}}function U(y){try{p(N.throw(y))}catch(k){S(k)}}function p(y){y.done?b(y.value):P(y.value).then(A,U)}p((N=N.apply(x,C||[])).next())})},d=function(x,C){var M={label:0,sent:function(){if(b[0]&1)throw b[1];return b[1]},trys:[],ops:[]},N,P,b,S;return S={next:A(0),throw:A(1),return:A(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function A(p){return function(y){return U([p,y])}}function U(p){if(N)throw new TypeError("Generator is already executing.");for(;S&&(S=0,p[0]&&(M=0)),M;)try{if(N=1,P&&(b=p[0]&2?P.return:p[0]?P.throw||((b=P.return)&&b.call(P),0):P.next)&&!(b=b.call(P,p[1])).done)return b;switch(P=0,b&&(p=[p[0]&2,b.value]),p[0]){case 0:case 1:b=p;break;case 4:return M.label++,{value:p[1],done:!1};case 5:M.label++,P=p[1],p=[0];continue;case 7:p=M.ops.pop(),M.trys.pop();continue;default:if(b=M.trys,!(b=b.length>0&&b[b.length-1])&&(p[0]===6||p[0]===2)){M=0;continue}if(p[0]===3&&(!b||p[1]>b[0]&&p[1]<b[3])){M.label=p[1];break}if(p[0]===6&&M.label<b[1]){M.label=b[1],b=p;break}if(b&&M.label<b[2]){M.label=b[2],M.ops.push(p);break}b[2]&&M.ops.pop(),M.trys.pop();continue}p=C.call(x,M)}catch(y){p=[6,y],P=0}finally{N=b=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},g=function(x,C){for(var M in x)M!=="default"&&!Object.prototype.hasOwnProperty.call(C,M)&&se(C,x,M)},se=Object.create?function(x,C,M,N){N===void 0&&(N=M);var P=Object.getOwnPropertyDescriptor(C,M);(!P||("get"in P?!C.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return C[M]}}),Object.defineProperty(x,N,P)}:function(x,C,M,N){N===void 0&&(N=M),x[N]=C[M]},m=function(x){var C=typeof Symbol=="function"&&Symbol.iterator,M=C&&x[C],N=0;if(M)return M.call(x);if(x&&typeof x.length=="number")return{next:function(){return x&&N>=x.length&&(x=void 0),{value:x&&x[N++],done:!x}}};throw new TypeError(C?"Object is not iterable.":"Symbol.iterator is not defined.")},I=function(x,C){var M=typeof Symbol=="function"&&x[Symbol.iterator];if(!M)return x;var N=M.call(x),P,b=[],S;try{for(;(C===void 0||C-- >0)&&!(P=N.next()).done;)b.push(P.value)}catch(A){S={error:A}}finally{try{P&&!P.done&&(M=N.return)&&M.call(N)}finally{if(S)throw S.error}}return b},O=function(){for(var x=[],C=0;C<arguments.length;C++)x=x.concat(I(arguments[C]));return x},v=function(){for(var x=0,C=0,M=arguments.length;C<M;C++)x+=arguments[C].length;for(var N=Array(x),P=0,C=0;C<M;C++)for(var b=arguments[C],S=0,A=b.length;S<A;S++,P++)N[P]=b[S];return N},w=function(x,C,M){if(M||arguments.length===2)for(var N=0,P=C.length,b;N<P;N++)(b||!(N in C))&&(b||(b=Array.prototype.slice.call(C,0,N)),b[N]=C[N]);return x.concat(b||Array.prototype.slice.call(C))},E=function(x){return this instanceof E?(this.v=x,this):new E(x)},L=function(x,C,M){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=M.apply(x,C||[]),P,b=[];return P={},S("next"),S("throw"),S("return"),P[Symbol.asyncIterator]=function(){return this},P;function S(j){N[j]&&(P[j]=function(F){return new Promise(function(f,h){b.push([j,F,f,h])>1||A(j,F)})})}function A(j,F){try{U(N[j](F))}catch(f){k(b[0][3],f)}}function U(j){j.value instanceof E?Promise.resolve(j.value.v).then(p,y):k(b[0][2],j)}function p(j){A("next",j)}function y(j){A("throw",j)}function k(j,F){j(F),b.shift(),b.length&&A(b[0][0],b[0][1])}},W=function(x){var C,M;return C={},N("next"),N("throw",function(P){throw P}),N("return"),C[Symbol.iterator]=function(){return this},C;function N(P,b){C[P]=x[P]?function(S){return(M=!M)?{value:E(x[P](S)),done:!1}:b?b(S):S}:b}},G=function(x){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=x[Symbol.asyncIterator],M;return C?C.call(x):(x=typeof m=="function"?m(x):x[Symbol.iterator](),M={},N("next"),N("throw"),N("return"),M[Symbol.asyncIterator]=function(){return this},M);function N(b){M[b]=x[b]&&function(S){return new Promise(function(A,U){S=x[b](S),P(A,U,S.done,S.value)})}}function P(b,S,A,U){Promise.resolve(U).then(function(p){b({value:p,done:A})},S)}},Y=function(x,C){return Object.defineProperty?Object.defineProperty(x,"raw",{value:C}):x.raw=C,x};var ye=Object.create?function(x,C){Object.defineProperty(x,"default",{enumerable:!0,value:C})}:function(x,C){x.default=C};H=function(x){if(x&&x.__esModule)return x;var C={};if(x!=null)for(var M in x)M!=="default"&&Object.prototype.hasOwnProperty.call(x,M)&&se(C,x,M);return ye(C,x),C},$=function(x){return x&&x.__esModule?x:{default:x}},le=function(x,C,M,N){if(M==="a"&&!N)throw new TypeError("Private accessor was defined without a getter");if(typeof C=="function"?x!==C||!N:!C.has(x))throw new TypeError("Cannot read private member from an object whose class did not declare it");return M==="m"?N:M==="a"?N.call(x):N?N.value:C.get(x)},ce=function(x,C,M,N,P){if(N==="m")throw new TypeError("Private method is not writable");if(N==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof C=="function"?x!==C||!P:!C.has(x))throw new TypeError("Cannot write private member to an object whose class did not declare it");return N==="a"?P.call(x,M):P?P.value=M:C.set(x,M),M},J=function(x,C){if(C===null||typeof C!="object"&&typeof C!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof x=="function"?C===x:x.has(C)},V("__extends",e),V("__assign",r),V("__rest",n),V("__decorate",i),V("__param",s),V("__esDecorate",o),V("__runInitializers",a),V("__propKey",u),V("__setFunctionName",l),V("__metadata",c),V("__awaiter",_),V("__generator",d),V("__exportStar",g),V("__createBinding",se),V("__values",m),V("__read",I),V("__spread",O),V("__spreadArrays",v),V("__spreadArray",w),V("__await",E),V("__asyncGenerator",L),V("__asyncDelegator",W),V("__asyncValues",G),V("__makeTemplateObject",Y),V("__importStar",H),V("__importDefault",$),V("__classPrivateFieldGet",le),V("__classPrivateFieldSet",ce),V("__classPrivateFieldIn",J)})})(n1);var ui={};Object.defineProperty(ui,"__esModule",{value:!0});var Xa=Br,i1=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Xa.__awaiter(this,void 0,void 0,function(){var r,n,i;return Xa.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ui.default=i1;Object.defineProperty(Fo,"__esModule",{value:!0});var eu=Br,s1=ui,o1=function(){function t(){this._semaphore=new s1.default(1)}return t.prototype.acquire=function(){return eu.__awaiter(this,void 0,void 0,function(){var e,r;return eu.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Fo.default=o1;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.withTimeout=void 0;var dn=Br;function a1(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return dn.__awaiter(n,void 0,void 0,function(){var o,a,u;return dn.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(u=Array.isArray(a)?a[1]:a,u()):i(a),[2]}})})})},runExclusive:function(i){return dn.__awaiter(this,void 0,void 0,function(){var s,o;return dn.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ci.withTimeout=a1;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Fo;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ui;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=ci;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(kl);const tu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,c)=>{l?a(l):o(c)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},ru=new WeakMap;var u1=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let u=ru.get(o);if(u||(u={},ru.set(o,u)),a in u)return u[a];const l=m=>typeof m=="string"||typeof a=="symbol"?a===m:m.test(a),c=Reflect.getOwnPropertyDescriptor(o,a),_=c===void 0||c.writable||c.configurable,g=(e.include?e.include.some(l):!e.exclude.some(l))&&_;return u[a]=g,g},i=new WeakMap,s=new Proxy(t,{apply(o,a,u){const l=i.get(o);if(l)return Reflect.apply(l,a,u);const c=e.excludeMain?o:tu(o,e,s,o);return i.set(o,c),Reflect.apply(c,a,u)},get(o,a){const u=o[a];if(!n(o,a)||u===Function.prototype[a])return u;const l=i.get(u);if(l)return l;if(typeof u=="function"){const c=tu(u,e,s,o);return i.set(u,c),c}return u}});return s};const c1=ar.default;let l1=class extends c1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Wo=l1;const f1=Wo;let h1=class extends f1{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var d1=h1,on={minBlockRef:p1,maxBlockRef:b1,sortBlockRefs:$o,bnToHex:g1,blockRefIsNumber:y1,hexToInt:jn,incrementHexInt:v1,intToHex:Cl,unsafeRandomBytes:_1};function p1(...t){return $o(t)[0]}function b1(...t){const e=$o(t);return e[e.length-1]}function $o(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:jn(e)-jn(r))}function g1(t){return"0x"+t.toString(16)}function y1(t){return t&&!["earliest","latest","pending"].includes(t)}function jn(t){return t==null?t:Number.parseInt(t,16)}function v1(t){if(t==null)return t;const e=jn(t);return Cl(e+1)}function Cl(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function _1(t){let e="0x";for(let r=0;r<t;r++)e+=nu(),e+=nu();return e}function nu(){return Math.floor(Math.random()*16).toString(16)}const m1=$v,w1=u1,S1=d1,{bnToHex:E2,hexToInt:pn,incrementHexInt:E1,minBlockRef:x1,blockRefIsNumber:k1}=on;let C1=class extends S1{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new m1(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=x1(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=E1(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(u=>this.matchLog(u));this.addResults(a)}async _fetchLogs(e){return await w1(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(pn(this.params.fromBlock)>=pn(e.blockNumber)||k1(this.params.toBlock)&&pn(this.params.toBlock)<=pn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(c=>c.toLowerCase()),a.includes(o))})}};var M1=C1,Uo=A1;async function A1({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=iu(e),s=iu(r)-n+1,o=Array(s).fill().map((u,l)=>n+l).map(I1);return await Promise.all(o.map(u=>T1(t,"eth_getBlockByNumber",[u,!1])))}function iu(t){return t==null?t:Number.parseInt(t,16)}function I1(t){return t==null?t:"0x"+t.toString(16)}function T1(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const R1=Wo,O1=Uo,{incrementHexInt:N1}=on;let j1=class extends R1{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=N1(e),o=(await O1({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var D1=j1;const L1=Wo,P1=Uo,{incrementHexInt:B1}=on;let F1=class extends L1{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=B1(e),i=await P1({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var W1=F1;const $1=kl.Mutex,{createAsyncMiddleware:U1}=Bo,H1=Nn,V1=M1,z1=D1,q1=W1,{intToHex:Ml,hexToInt:Hs}=on;var G1=Y1;function Y1({blockTracker:t,provider:e}){let r=0,n={};const i=new $1,s=Q1({mutex:i}),o=H1({eth_newFilter:s(Vs(u)),eth_newBlockFilter:s(Vs(l)),eth_newPendingTransactionFilter:s(Vs(c)),eth_uninstallFilter:s(xn(g)),eth_getFilterChanges:s(xn(_)),eth_getFilterLogs:s(xn(d))}),a=async({oldBlock:w,newBlock:E})=>{if(n.length===0)return;const L=await i.acquire();try{await Promise.all($t(n).map(async W=>{try{await W.update({oldBlock:w,newBlock:E})}catch(G){console.error(G)}}))}catch(W){console.error(W)}L()};return o.newLogFilter=u,o.newBlockFilter=l,o.newPendingTransactionFilter=c,o.uninstallFilter=g,o.getFilterChanges=_,o.getFilterLogs=d,o.destroy=()=>{O()},o;async function u(w){const E=new V1({provider:e,params:w});return await m(E),E}async function l(){const w=new z1({provider:e});return await m(w),w}async function c(){const w=new q1({provider:e});return await m(w),w}async function _(w){const E=Hs(w),L=n[E];if(!L)throw new Error(`No filter for index "${E}"`);return L.getChangesAndClear()}async function d(w){const E=Hs(w),L=n[E];if(!L)throw new Error(`No filter for index "${E}"`);return L.type==="log"?results=L.getAllResults():results=[],results}async function g(w){const E=Hs(w),L=n[E],W=Boolean(L);return W&&await I(E),W}async function m(w){const E=$t(n).length,L=await t.getLatestBlock();await w.initialize({currentBlock:L}),r++,n[r]=w,w.id=r,w.idHex=Ml(r);const W=$t(n).length;return v({prevFilterCount:E,newFilterCount:W}),r}async function I(w){const E=$t(n).length;delete n[w];const L=$t(n).length;v({prevFilterCount:E,newFilterCount:L})}async function O(){const w=$t(n).length;n={},v({prevFilterCount:w,newFilterCount:0})}function v({prevFilterCount:w,newFilterCount:E}){if(w===0&&E>0){t.on("sync",a);return}if(w>0&&E===0){t.removeListener("sync",a);return}}}function Vs(t){return xn(async(...e)=>{const r=await t(...e);return Ml(r.id)})}function xn(t){return U1(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function Q1({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function $t(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const K1=ar.default,Z1=Nn,{createAsyncMiddleware:su}=Bo,J1=G1,{unsafeRandomBytes:X1,incrementHexInt:em}=on,tm=Uo;var rm=nm;function nm({blockTracker:t,provider:e}){const r={},n=J1({blockTracker:t,provider:e});let i=!1;const s=new K1,o=Z1({eth_subscribe:su(a),eth_unsubscribe:su(u)});return o.destroy=c,{events:s,middleware:o};async function a(_,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=_.params[0],m=X1(16);let I;switch(g){case"newHeads":I=O({subId:m});break;case"logs":const w=_.params[1],E=await n.newLogFilter(w);I=v({subId:m,filter:E});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${g}"`)}r[m]=I,d.result=m;return;function O({subId:w}){const E={type:g,destroy:async()=>{t.removeListener("sync",E.update)},update:async({oldBlock:L,newBlock:W})=>{const G=W,Y=em(L);(await tm({provider:e,fromBlock:Y,toBlock:G})).map(im).forEach(le=>{l(w,le)})}};return t.on("sync",E.update),E}function v({subId:w,filter:E}){return E.on("update",W=>l(w,W)),{type:g,destroy:async()=>await n.uninstallFilter(E.idHex)}}}async function u(_,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const g=_.params[0],m=r[g];if(!m){d.result=!1;return}delete r[g],await m.destroy(),d.result=!0}function l(_,d){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:_,result:d}})}function c(){s.removeAllListeners();for(const _ in r)r[_].destroy(),delete r[_];i=!0}}function im(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(ti,"__esModule",{value:!0});ti.SubscriptionManager=void 0;const sm=z_,om=rm,ou=()=>{};class am{constructor(e){const r=new sm({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=om({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,ou,ou),r}destroy(){this.subscriptionMiddleware.destroy()}}ti.SubscriptionManager=am;var Ho=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.CoinbaseWalletProvider=void 0;const um=Ho(ar),cm=Ho(Fn),Ie=Hr,zs=ur,au=cr,uu=Ke,X=z,qs=Ho(Iv),lm=nr,ue=il,fm=ti,cu="DefaultChainId",lu="DefaultJsonRpcUrl",hm=[1,10,137,61,56,250,42161,100,43114,3,4,5,42,69,80001,97,4002,421611,43113];class dm extends um.default{constructor(e){var r,n;super(),this._filterPolyfill=new lm.FilterPolyfill(this),this._subscriptionManager=new fm.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,X.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(uu.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(u=>(0,X.ensureAddressString)(u)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var u;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,c=(u=a.data.data.jsonRpcUrl)!==null&&u!==void 0?u:this.jsonRpcUrl;this.updateProviderInfo(c,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,X.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(lu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(lu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this._jsonRpcUrlFromOpts,this._chainIdFromOpts)}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(cu,r.toString(10)),((0,X.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,u;if((0,X.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),c=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!c&&await l.requestEthereumAccounts().promise;const _=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=_.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((u=_.result)===null||u===void 0?void 0:u.isApproved)===!0}async switchEthereumChain(e){hm.includes(e)&&this.updateProviderInfo(this.jsonRpcUrl,e);const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw Ie.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?au.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(ue.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw Ie.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw Ie.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw Ie.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,X.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,X.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(uu.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ue.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ue.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ue.JSONRPCMethod.net_version:return this._net_version();case ue.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ue.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ue.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ue.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ue.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ue.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ue.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ue.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ue.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ue.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ue.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ue.JSONRPCMethod.eth_signTypedData_v4:case ue.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ue.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ue.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ue.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ue.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ue.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ue.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ue.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ue.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ue.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ue.JSONRPCMethod.eth_subscribe:case ue.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,X.ensureAddressString)(e);return this._addresses.map(i=>(0,X.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(zs.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,X.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,X.ensureAddressString)(e.to):null,i=e.value!=null?(0,X.ensureBN)(e.value):new cm.default(0),s=e.data?(0,X.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,X.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,X.ensureBN)(e.gasPrice):null,u=e.maxFeePerGas!=null?(0,X.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,X.ensureBN)(e.maxPriorityFeePerGas):null,c=e.gas!=null?(0,X.ensureBN)(e.gas):null,_=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:u,maxPriorityFeePerGas:l,gasLimit:c,chainId:_}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw Ie.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw Ie.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?Ie.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,X.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(cu);if(!e)return(0,X.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,X.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(zs.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?au.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ie.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,X.ensureBuffer)(e[0]),n=(0,X.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ie.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,X.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?Ie.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,X.ensureParsedJSONObject)(e[0]),n=(0,X.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=qs.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,X.ensureAddressString)(e[0]),n=(0,X.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=qs.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw Ie.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw Ie.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw Ie.ethErrors.rpc.invalidParams({message:"Type is required"});if(r?.type!=="ERC20")throw Ie.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!r?.options)throw Ie.ethErrors.rpc.invalidParams({message:"Options are required"});if(!r?.options.address)throw Ie.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,X.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}Zt.CoinbaseWalletProvider=dm;var li={},fi={},an,K,Al,Il,Mr,fu,Tl,Dn={},Rl=[],pm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function at(t,e){for(var r in e)t[r]=e[r];return t}function Ol(t){var e=t.parentNode;e&&e.removeChild(t)}function go(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?an.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Ar(t,o,n,i,null)}function Ar(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Al};return i==null&&K.vnode!=null&&K.vnode(s),s}function bm(){return{current:null}}function un(t){return t.children}function Ir(t,e){this.props=t,this.context=e}function Fr(t,e){if(e==null)return t.__?Fr(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Fr(t):null}function Nl(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Nl(t)}}function yo(t){(!t.__d&&(t.__d=!0)&&Mr.push(t)&&!Ln.__r++||fu!==K.debounceRendering)&&((fu=K.debounceRendering)||setTimeout)(Ln)}function Ln(){for(var t;Ln.__r=Mr.length;)t=Mr.sort(function(e,r){return e.__v.__b-r.__v.__b}),Mr=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=at({},s)).__v=s.__v+1,Vo(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??Fr(s),s.__h),Bl(n,s),s.__e!=o&&Nl(s)))})}function jl(t,e,r,n,i,s,o,a,u,l){var c,_,d,g,m,I,O,v=n&&n.__k||Rl,w=v.length;for(r.__k=[],c=0;c<e.length;c++)if((g=r.__k[c]=(g=e[c])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?Ar(null,g,null,null,g):Array.isArray(g)?Ar(un,{children:g},null,null,null):g.__b>0?Ar(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)!=null){if(g.__=r,g.__b=r.__b+1,(d=v[c])===null||d&&g.key==d.key&&g.type===d.type)v[c]=void 0;else for(_=0;_<w;_++){if((d=v[_])&&g.key==d.key&&g.type===d.type){v[_]=void 0;break}d=null}Vo(t,g,d=d||Dn,i,s,o,a,u,l),m=g.__e,(_=g.ref)&&d.ref!=_&&(O||(O=[]),d.ref&&O.push(d.ref,null,g),O.push(_,g.__c||m,g)),m!=null?(I==null&&(I=m),typeof g.type=="function"&&g.__k===d.__k?g.__d=u=Dl(g,u,t):u=Pl(t,g,d,v,m,u),typeof r.type=="function"&&(r.__d=u)):u&&d.__e==u&&u.parentNode!=t&&(u=Fr(d))}for(r.__e=I,c=w;c--;)v[c]!=null&&Wl(v[c],v[c]);if(O)for(c=0;c<O.length;c++)Fl(O[c],O[++c],O[++c])}function Dl(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Dl(n,e,r):Pl(r,n,n,i,n.__e,e));return e}function Ll(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Ll(r,e)}):e.push(t)),e}function Pl(t,e,r,n,i,s){var o,a,u;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,u=0;(a=a.nextSibling)&&u<n.length;u+=2)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function gm(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Pn(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Pn(t,s,e[s],r[s],n)}function hu(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||pm.test(e)?r:r+"px"}function Pn(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||hu(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||hu(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?pu:du,s):t.removeEventListener(e,s?pu:du,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function du(t){this.l[t.type+!1](K.event?K.event(t):t)}function pu(t){this.l[t.type+!0](K.event?K.event(t):t)}function Vo(t,e,r,n,i,s,o,a,u){var l,c,_,d,g,m,I,O,v,w,E,L,W,G,Y,H=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(u=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=K.__b)&&l(e);try{e:if(typeof H=="function"){if(O=e.props,v=(l=H.contextType)&&n[l.__c],w=l?v?v.props.value:l.__:n,r.__c?I=(c=e.__c=r.__c).__=c.__E:("prototype"in H&&H.prototype.render?e.__c=c=new H(O,w):(e.__c=c=new Ir(O,w),c.constructor=H,c.render=vm),v&&v.sub(c),c.props=O,c.state||(c.state={}),c.context=w,c.__n=n,_=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),H.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=at({},c.__s)),at(c.__s,H.getDerivedStateFromProps(O,c.__s))),d=c.props,g=c.state,_)H.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(H.getDerivedStateFromProps==null&&O!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(O,w),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(O,c.__s,w)===!1||e.__v===r.__v){for(c.props=O,c.state=c.__s,e.__v!==r.__v&&(c.__d=!1),c.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function($){$&&($.__=e)}),E=0;E<c._sb.length;E++)c.__h.push(c._sb[E]);c._sb=[],c.__h.length&&o.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(O,c.__s,w),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,g,m)})}if(c.context=w,c.props=O,c.__v=e,c.__P=t,L=K.__r,W=0,"prototype"in H&&H.prototype.render){for(c.state=c.__s,c.__d=!1,L&&L(e),l=c.render(c.props,c.state,c.context),G=0;G<c._sb.length;G++)c.__h.push(c._sb[G]);c._sb=[]}else do c.__d=!1,L&&L(e),l=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++W<25);c.state=c.__s,c.getChildContext!=null&&(n=at(at({},n),c.getChildContext())),_||c.getSnapshotBeforeUpdate==null||(m=c.getSnapshotBeforeUpdate(d,g)),Y=l!=null&&l.type===un&&l.key==null?l.props.children:l,jl(t,Array.isArray(Y)?Y:[Y],e,r,n,i,s,o,a,u),c.base=e.__e,e.__h=null,c.__h.length&&o.push(c),I&&(c.__E=c.__=null),c.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=ym(r.__e,e,r,n,i,s,o,u);(l=K.diffed)&&l(e)}catch($){e.__v=null,(u||s!=null)&&(e.__e=a,e.__h=!!u,s[s.indexOf(a)]=null),K.__e($,e,r)}}function Bl(t,e){K.__c&&K.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){K.__e(n,r.__v)}})}function ym(t,e,r,n,i,s,o,a){var u,l,c,_=r.props,d=e.props,g=e.type,m=0;if(g==="svg"&&(i=!0),s!=null){for(;m<s.length;m++)if((u=s[m])&&"setAttribute"in u==!!g&&(g?u.localName===g:u.nodeType===3)){t=u,s[m]=null;break}}if(t==null){if(g===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,d.is&&d),s=null,a=!1}if(g===null)_===d||a&&t.data===d||(t.data=d);else{if(s=s&&an.call(t.childNodes),l=(_=r.props||Dn).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!a){if(s!=null)for(_={},m=0;m<t.attributes.length;m++)_[t.attributes[m].name]=t.attributes[m].value;(c||l)&&(c&&(l&&c.__html==l.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||""))}if(gm(t,d,_,i,a),c)e.__k=[];else if(m=e.props.children,jl(t,Array.isArray(m)?m:[m],e,r,n,i&&g!=="foreignObject",s,o,s?s[0]:r.__k&&Fr(r,0),a),s!=null)for(m=s.length;m--;)s[m]!=null&&Ol(s[m]);a||("value"in d&&(m=d.value)!==void 0&&(m!==t.value||g==="progress"&&!m||g==="option"&&m!==_.value)&&Pn(t,"value",m,_.value,!1),"checked"in d&&(m=d.checked)!==void 0&&m!==t.checked&&Pn(t,"checked",m,_.checked,!1))}return t}function Fl(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){K.__e(n,r)}}function Wl(t,e,r){var n,i;if(K.unmount&&K.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Fl(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){K.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Wl(n[i],e,r||typeof t.type!="function");r||t.__e==null||Ol(t.__e),t.__=t.__e=t.__d=void 0}function vm(t,e,r){return this.constructor(t,r)}function $l(t,e,r){var n,i,s;K.__&&K.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],Vo(e,t=(!n&&r||e).__k=go(un,null,[t]),i||Dn,Dn,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?an.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Bl(s,t)}function Ul(t,e){$l(t,e,Ul)}function _m(t,e,r){var n,i,s,o=at({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?an.call(arguments,2):r),Ar(t.type,o,n||t.key,i||t.ref,null)}function mm(t,e){var r={__c:e="__cC"+Tl++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(yo)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}an=Rl.slice,K={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Al=0,Il=function(t){return t!=null&&t.constructor===void 0},Ir.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=at({},this.state),typeof t=="function"&&(t=t(at({},r),this.props)),t&&at(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),yo(this))},Ir.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),yo(this))},Ir.prototype.render=un,Mr=[],Ln.__r=0,Tl=0;const wm=Object.freeze(Object.defineProperty({__proto__:null,Component:Ir,Fragment:un,cloneElement:_m,createContext:mm,createElement:go,createRef:bm,h:go,hydrate:Ul,get isValidElement(){return Il},get options(){return K},render:$l,toChildArray:Ll},Symbol.toStringTag,{value:"Module"})),cn=$r(wm);var hi={};const Hl=$r(ff);var ft,he,Gs,bu,ir=0,Vl=[],kn=[],gu=K.__b,yu=K.__r,vu=K.diffed,_u=K.__c,mu=K.unmount;function Pt(t,e){K.__h&&K.__h(he,t,ir||e),ir=0;var r=he.__H||(he.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:kn}),r.__[t]}function zl(t){return ir=1,ql(Yl,t)}function ql(t,e,r){var n=Pt(ft++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Yl(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=he,!he.u)){he.u=!0;var i=he.shouldComponentUpdate;he.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(c){return c.__c});if(u.every(function(c){return!c.__N}))return!i||i.call(this,s,o,a);var l=!1;return u.forEach(function(c){if(c.__N){var _=c.__[0];c.__=c.__N,c.__N=void 0,_!==c.__[0]&&(l=!0)}}),!(!l&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function Sm(t,e){var r=Pt(ft++,3);!K.__s&&qo(r.__H,e)&&(r.__=t,r.i=e,he.__H.__h.push(r))}function Gl(t,e){var r=Pt(ft++,4);!K.__s&&qo(r.__H,e)&&(r.__=t,r.i=e,he.__h.push(r))}function Em(t){return ir=5,zo(function(){return{current:t}},[])}function xm(t,e,r){ir=6,Gl(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function zo(t,e){var r=Pt(ft++,7);return qo(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function km(t,e){return ir=8,zo(function(){return t},e)}function Cm(t){var e=he.context[t.__c],r=Pt(ft++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(he)),e.props.value):t.__}function Mm(t,e){K.useDebugValue&&K.useDebugValue(e?e(t):t)}function Am(t){var e=Pt(ft++,10),r=zl();return e.__=t,he.componentDidCatch||(he.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Im(){var t=Pt(ft++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(he.__v.__m)+ft),t.__}function Tm(){for(var t;t=Vl.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Cn),t.__H.__h.forEach(vo),t.__H.__h=[]}catch(e){t.__H.__h=[],K.__e(e,t.__v)}}K.__b=function(t){typeof t.type!="function"||t.__m||t.__===null?t.__m||(t.__m=t.__&&t.__.__m?t.__.__m:""):t.__m=(t.__&&t.__.__m?t.__.__m:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),he=null,gu&&gu(t)},K.__r=function(t){yu&&yu(t),ft=0;var e=(he=t.__c).__H;e&&(Gs===he?(e.__h=[],he.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=kn,r.__N=r.i=void 0})):(e.__h.forEach(Cn),e.__h.forEach(vo),e.__h=[])),Gs=he},K.diffed=function(t){vu&&vu(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Vl.push(e)!==1&&bu===K.requestAnimationFrame||((bu=K.requestAnimationFrame)||Rm)(Tm)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==kn&&(r.__=r.__V),r.i=void 0,r.__V=kn})),Gs=he=null},K.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Cn),r.__h=r.__h.filter(function(n){return!n.__||vo(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],K.__e(n,r.__v)}}),_u&&_u(t,e)},K.unmount=function(t){mu&&mu(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Cn(n)}catch(i){e=i}}),r.__H=void 0,e&&K.__e(e,r.__v))};var wu=typeof requestAnimationFrame=="function";function Rm(t){var e,r=function(){clearTimeout(n),wu&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);wu&&(e=requestAnimationFrame(r))}function Cn(t){var e=he,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),he=e}function vo(t){var e=he;t.__c=t.__(),he=e}function qo(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Yl(t,e){return typeof e=="function"?e(t):e}const Om=Object.freeze(Object.defineProperty({__proto__:null,useCallback:km,useContext:Cm,useDebugValue:Mm,useEffect:Sm,useErrorBoundary:Am,useId:Im,useImperativeHandle:xm,useLayoutEffect:Gl,useMemo:zo,useReducer:ql,useRef:Em,useState:zl},Symbol.toStringTag,{value:"Module"})),Go=$r(Om);var di={};Object.defineProperty(di,"__esModule",{value:!0});di.LIB_VERSION=void 0;di.LIB_VERSION="3.5.4";var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==";var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+";var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.default=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="50" cy="50" r="50" fill="white"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
<circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
</svg>

`;var pi={};function Ql(t){this.mode=Le.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ql.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function rt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}rt.prototype={addData:function(t){var e=new Ql(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=rt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=be.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var u=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(u,o),n.lineTo(u+i,o),n.lineTo(u+i,o+i),n.lineTo(u,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=be.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=be.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=be.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var u=!1;s<t.length&&(u=(t[s]>>>i&1)==1);var l=be.getMask(e,n,o-a);l&&(u=!u),this.modules[n][o-a]=u,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};rt.PAD0=236;rt.PAD1=17;rt.createData=function(t,e,r){for(var n=tt.getRSBlocks(t,e),i=new Kl,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),be.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(rt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(rt.PAD1,8);return rt.createBytes(i,n)};rt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,l=e[a].totalCount-u;n=Math.max(n,u),i=Math.max(i,l),s[a]=new Array(u);for(var c=0;c<s[a].length;c++)s[a][c]=255&t.buffer[c+r];r+=u;var _=be.getErrorCorrectPolynomial(l),d=new Qt(s[a],_.getLength()-1),g=d.mod(_);o[a]=new Array(_.getLength()-1);for(var c=0;c<o[a].length;c++){var m=c+g.getLength()-o[a].length;o[a][c]=m>=0?g.get(m):0}}for(var I=0,c=0;c<e.length;c++)I+=e[c].totalCount;for(var O=new Array(I),v=0,c=0;c<n;c++)for(var a=0;a<e.length;a++)c<s[a].length&&(O[v++]=s[a][c]);for(var c=0;c<i;c++)for(var a=0;a<e.length;a++)c<o[a].length&&(O[v++]=o[a][c]);return O};var Le={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},vt={L:1,M:0,Q:3,H:2},pt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},be={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;be.getBCHDigit(e)-be.getBCHDigit(be.G15)>=0;)e^=be.G15<<be.getBCHDigit(e)-be.getBCHDigit(be.G15);return(t<<10|e)^be.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;be.getBCHDigit(e)-be.getBCHDigit(be.G18)>=0;)e^=be.G18<<be.getBCHDigit(e)-be.getBCHDigit(be.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return be.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case pt.PATTERN000:return(e+r)%2==0;case pt.PATTERN001:return e%2==0;case pt.PATTERN010:return r%3==0;case pt.PATTERN011:return(e+r)%3==0;case pt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case pt.PATTERN101:return e*r%2+e*r%3==0;case pt.PATTERN110:return(e*r%2+e*r%3)%2==0;case pt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Qt([1],0),r=0;r<t;r++)e=e.multiply(new Qt([1,xe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Le.MODE_NUMBER:return 10;case Le.MODE_ALPHA_NUM:return 9;case Le.MODE_8BIT_BYTE:return 8;case Le.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Le.MODE_NUMBER:return 12;case Le.MODE_ALPHA_NUM:return 11;case Le.MODE_8BIT_BYTE:return 16;case Le.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Le.MODE_NUMBER:return 14;case Le.MODE_ALPHA_NUM:return 13;case Le.MODE_8BIT_BYTE:return 16;case Le.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||a==0&&u==0||o==t.isDark(n+a,i+u)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var c=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&c++;var _=Math.abs(100*c/e/e-50)/5;return r+=_*10,r}},xe={glog:function(t){if(t<1)throw new Error("glog("+t+")");return xe.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return xe.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Me=0;Me<8;Me++)xe.EXP_TABLE[Me]=1<<Me;for(var Me=8;Me<256;Me++)xe.EXP_TABLE[Me]=xe.EXP_TABLE[Me-4]^xe.EXP_TABLE[Me-5]^xe.EXP_TABLE[Me-6]^xe.EXP_TABLE[Me-8];for(var Me=0;Me<255;Me++)xe.LOG_TABLE[xe.EXP_TABLE[Me]]=Me;function Qt(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Qt.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=xe.gexp(xe.glog(this.get(r))+xe.glog(t.get(n)));return new Qt(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=xe.glog(this.get(0))-xe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=xe.gexp(xe.glog(t.get(n))+e);return new Qt(r,0).mod(t)}};function tt(t,e){this.totalCount=t,this.dataCount=e}tt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];tt.getRSBlocks=function(t,e){var r=tt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],u=r[s*3+2],l=0;l<o;l++)i.push(new tt(a,u));return i};tt.getRsBlockTable=function(t,e){switch(e){case vt.L:return tt.RS_BLOCK_TABLE[(t-1)*4+0];case vt.M:return tt.RS_BLOCK_TABLE[(t-1)*4+1];case vt.Q:return tt.RS_BLOCK_TABLE[(t-1)*4+2];case vt.H:return tt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Kl(){this.buffer=[],this.length=0}Kl.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Ys=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Zl(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(u){switch(u){case"L":return vt.L;case"M":return vt.M;case"Q":return vt.Q;case"H":return vt.H;default:throw new Error("Unknwon error correction level: "+u)}}function n(u,l){for(var c=i(u),_=1,d=0,g=0,m=Ys.length;g<=m;g++){var I=Ys[g];if(!I)throw new Error("Content too long: expected "+d+" but got "+c);switch(l){case"L":d=I[0];break;case"M":d=I[1];break;case"Q":d=I[2];break;case"H":d=I[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(c<=d)break;_++}if(_>Ys.length)throw new Error("Content too long");return _}function i(u){var l=encodeURI(u).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=u?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new rt(o,a),this.qrcode.addData(s),this.qrcode.make()}Zl.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,u=r.length,l=o/(u+2*e.padding),c=a/(u+2*e.padding),_=typeof e.join<"u"?!!e.join:!1,d=typeof e.swap<"u"?!!e.swap:!1,g=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,m=typeof e.predefined<"u"?!!e.predefined:!1,I=m?i+'<defs><path id="qrmodule" d="M0 0 h'+c+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",O=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,v="",w="",E=0;E<u;E++)for(var L=0;L<u;L++){var W=r[L][E];if(W){var G=L*l+e.padding*l,Y=E*c+e.padding*c;if(d){var H=G;G=Y,Y=H}if(_){var $=l+G,le=c+Y;G=Number.isInteger(G)?Number(G):G.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),$=Number.isInteger($)?Number($):$.toFixed(2),le=Number.isInteger(le)?Number(le):le.toFixed(2),w+="M"+G+","+Y+" V"+le+" H"+$+" V"+Y+" H"+G+" Z "}else m?v+=i+'<use x="'+G.toString()+'" y="'+Y.toString()+'" href="#qrmodule" />'+s:v+=i+'<rect x="'+G.toString()+'" y="'+Y.toString()+'" width="'+l+'" height="'+c+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}_&&(v=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+w+'" />');let ce="";if(this.options.image!==void 0&&this.options.image.svg){const se=o*this.options.image.width/100,V=a*this.options.image.height/100,fe=o/2-se/2,ye=a/2-V/2;ce+=`<svg x="${fe}" y="${ye}" width="${se}" height="${V}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ce+=this.options.image.svg+s,ce+="</svg>"}var J="";switch(t.container){case"svg":g&&(J+='<?xml version="1.0" standalone="yes"?>'+s),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,J+=I+O+v,J+=ce,J+="</svg>";break;case"svg-viewbox":g&&(J+='<?xml version="1.0" standalone="yes"?>'+s),J+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,J+=I+O+v,J+=ce,J+="</svg>";break;case"g":J+='<g width="'+o+'" height="'+a+'">'+s,J+=I+O+v,J+=ce,J+="</g>";break;default:J+=(I+O+v+ce).replace(/^\s+/,"");break}return J};var Nm=Zl,jm=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.QRCode=void 0;const Dm=cn,Su=Go,Lm=jm(Nm),Pm=t=>{const[e,r]=(0,Su.useState)("");return(0,Su.useEffect)(()=>{var n,i;const s=new Lm.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Dm.h)("img",{src:e,alt:"QR Code"}):null};pi.QRCode=Pm;var bi={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var Bm=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});bi.Spinner=void 0;const bn=cn,Fm=Bm(Jo),Wm=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,bn.h)("div",{class:"-cbwsdk-spinner"},(0,bn.h)("style",null,Fm.default),(0,bn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,bn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};bi.Spinner=Wm;var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.default='.-cbwsdk-css-reset .-cbwsdk-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top{display:flex;flex-direction:row;border-radius:8px;overflow:hidden;min-height:300px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.dark{color:#fff;background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-subtext{margin-top:15px;font-size:12px;line-height:1.5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-install-region button.dark{background-color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-info-region.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;align-self:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-top-description-text.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;margin-top:8px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.light{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom.dark{background-color:#000;box-shadow:0 4px 16px rgba(255,255,255,.05)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description.dark a{color:#3773f5}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1);background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-wrapper img{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.light>p{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark{background-color:rgba(20,21,25,.9)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.light{background-color:#fafbfc}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel.dark{background-color:#141519}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.light::after{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x.dark::after{background-color:#fff}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{content:"";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;transition:background-color .2s}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-a,.-cbwsdk-css-reset .-cbwsdk-extension-dialog-box-cancel:hover .-cbwsdk-link-dialog-box-cancel-x-b{background-color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-extension-dialog-container-hidden{display:none}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.light{color:#000}.-cbwsdk-css-reset .-cbwsdk-extension-dialog h2.dark{color:#fff}';var gr=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hi,"__esModule",{value:!0});hi.TryExtensionLinkDialog=void 0;const Ze=gr(Hl),ne=cn,Tr=Go,$m=z,Um=di,Hm=gr(Yo),Vm=gr(Qo),zm=gr(Ko),qm=gr(Zo),Gm=pi,Ym=bi,Qm=gr(Xo),Km=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Tr.useState)(!e),[s,o]=(0,Tr.useState)(!e);(0,Tr.useEffect)(()=>{const u=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):u.push(window.setTimeout(()=>{i(!0)},360)),()=>{u.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-container",n&&"-cbwsdk-extension-dialog-container-hidden")},(0,ne.h)("style",null,Qm.default),(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-backdrop",a,s&&"-cbwsdk-extension-dialog-backdrop-hidden")}),(0,ne.h)("div",{class:"-cbwsdk-extension-dialog"},(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box",s&&"-cbwsdk-extension-dialog-box-hidden")},(0,ne.h)(Zm,{darkMode:r,onInstallClick:()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")}}),t.connectDisabled?null:(0,ne.h)(Jm,{darkMode:r,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId}),t.onCancel&&(0,ne.h)(Xm,{darkMode:r,onClick:t.onCancel}))))};hi.TryExtensionLinkDialog=Km;const Zm=({darkMode:t,onInstallClick:e})=>{const[r,n]=(0,Tr.useState)(!1),i=(0,Tr.useCallback)(()=>{r?window.location.reload():(e(),n(!0))},[e,r]),s=t?"dark":"light";return(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box-top",s)},(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-top-install-region"},(0,ne.h)("h2",{class:s},"Try the Coinbase Wallet extension"),r&&(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-top-subtext"},"After installing Coinbase Wallet, refresh the page and connect again."),(0,ne.h)("button",{type:"button",onClick:i},r?"Refresh":"Install")),(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box-top-info-region",s)},(0,ne.h)(Qs,{darkMode:t,icon:Vm.default,text:"Connect to crypto apps with one click"}),(0,ne.h)(Qs,{darkMode:t,icon:zm.default,text:"Your private key is stored securely"}),(0,ne.h)(Qs,{darkMode:t,icon:Hm.default,text:"Works with Ethereum, Polygon, and more"})))},Jm=t=>{const e=(0,$m.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),r=t.darkMode?"dark":"light";return(0,ne.h)("div",{"data-testid":"scan-qr-box",class:(0,Ze.default)("-cbwsdk-extension-dialog-box-bottom",r)},(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-description-region"},(0,ne.h)("h2",{class:r},"Or scan to connect"),(0,ne.h)("body",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box-bottom-description",r)},"Open"," ",(0,ne.h)("a",{href:"https://wallet.coinbase.com/",target:"_blank",rel:"noopener noreferrer"},"Coinbase Wallet")," ","on your mobile phone and scan")),(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-region"},(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-bottom-qr-wrapper"},(0,ne.h)(Gm.QRCode,{content:e,width:150,height:150,fgColor:"#000",bgColor:"transparent",image:{svg:qm.default,width:34,height:34}})),(0,ne.h)("input",{type:"hidden",name:"cbwsdk-version",value:Um.LIB_VERSION}),(0,ne.h)("input",{type:"hidden",value:e}),!t.isConnected&&(0,ne.h)("div",{"data-testid":"connecting-spinner",class:(0,Ze.default)("-cbwsdk-extension-dialog-box-bottom-qr-connecting",r)},(0,ne.h)(Ym.Spinner,{size:36,color:t.darkMode?"#FFF":"#000"}),(0,ne.h)("p",null,"Connecting..."))))},Qs=t=>{const e=t.darkMode?"dark":"light";return(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description"},(0,ne.h)("div",{class:"-cbwsdk-extension-dialog-box-top-description-icon-wrapper"},(0,ne.h)("img",{src:t.icon})),(0,ne.h)("body",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box-top-description-text",e)},t.text))},Xm=t=>{const e=t.darkMode?"dark":"light";return(0,ne.h)("button",{type:"button",class:(0,Ze.default)("-cbwsdk-extension-dialog-box-cancel",e),onClick:t.onClick},(0,ne.h)("div",{class:(0,Ze.default)("-cbwsdk-extension-dialog-box-cancel-x",e)}))};Object.defineProperty(fi,"__esModule",{value:!0});fi.LinkFlow=void 0;const Ks=cn,Eu=dr,ew=hi;class tw{constructor(e){this.extensionUI$=new Eu.BehaviorSubject({}),this.subscriptions=new Eu.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Ks.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Ks.render)((0,Ks.h)(ew.TryExtensionLinkDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}fi.LinkFlow=tw;var Jl={},ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=ee&&ee.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Hl),n=cn,i=Go,s=e(ea),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class u{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const g=this.nextItemKey++;return this.items.set(g,d),this.render(),()=>{this.items.delete(g),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,g])=>(0,n.h)(t.SnackbarInstance,Object.assign({},g,{key:d}))))),this.root)}}t.Snackbar=u;const l=_=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},_.children));t.SnackbarContainer=l;const c=({autoExpand:_,message:d,menuItems:g})=>{const[m,I]=(0,i.useState)(!0),[O,v]=(0,i.useState)(_??!1);(0,i.useEffect)(()=>{const E=[window.setTimeout(()=>{I(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{E.forEach(window.clearTimeout)}});const w=()=>{v(!O)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",m&&"-cbwsdk-snackbar-instance-hidden",O&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:o,class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,n.h)("div",{class:"-gear-container"},!O&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:a,class:"-gear-icon",title:"Expand"}))),g&&g.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},g.map((E,L)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",E.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:E.onClick,key:L},(0,n.h)("svg",{width:E.svgWidth,height:E.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":E.defaultFillRule,"clip-rule":E.defaultClipRule,d:E.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",E.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},E.info)))))};t.SnackbarInstance=c})(Jl);var gi={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var rw=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});gi.injectCssReset=void 0;const nw=rw(ta);function iw(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(nw.default)),document.documentElement.appendChild(t)}gi.injectCssReset=iw;Object.defineProperty(li,"__esModule",{value:!0});li.WalletSDKUI=void 0;const sw=fi,ow=Jl,aw=gi;class uw{constructor(e){this.standalone=null,this.attached=!1,this.snackbar=new ow.Snackbar({darkMode:e.darkMode}),this.linkFlow=new sw.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,aw.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}li.WalletSDKUI=uw;var yi={},vi={};Object.defineProperty(vi,"__esModule",{value:!0});var qt;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(qt||(qt={}));function Xl(t,e,r){if(!r||typeof r.value!==qt.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:qt.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:qt.boolTrue,writable:qt.boolTrue}),n}}}vi.bind=Xl;vi.default=Xl;var _i={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.ClientMessagePublishEvent=$e.ClientMessageSetSessionConfig=$e.ClientMessageGetSessionConfig=$e.ClientMessageIsLinked=$e.ClientMessageHostSession=void 0;function cw(t){return Object.assign({type:"HostSession"},t)}$e.ClientMessageHostSession=cw;function lw(t){return Object.assign({type:"IsLinked"},t)}$e.ClientMessageIsLinked=lw;function fw(t){return Object.assign({type:"GetSessionConfig"},t)}$e.ClientMessageGetSessionConfig=fw;function hw(t){return Object.assign({type:"SetSessionConfig"},t)}$e.ClientMessageSetSessionConfig=hw;function dw(t){return Object.assign({type:"PublishEvent"},t)}$e.ClientMessagePublishEvent=dw;var ef={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=dr,r=Gn;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(u){o.error(u);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=u=>{this.clearWebSocket(),o.error(new Error(`websocket error ${u.code}: ${u.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=u=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=u=>{this.incomingDataSubject.next(u.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(ef);var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.isServerMessageFail=void 0;function pw(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}mi.isServerMessageFail=pw;Object.defineProperty(_i,"__esModule",{value:!0});_i.WalletSDKConnection=void 0;const Ge=dr,ie=Gn,mr=cr,Ut=Xr,wr=$e,Sr=ur,gn=ef,Zs=mi,xu=1e4,bw=6e4;class gw{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Ge.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ut.IntNumber)(1),this.connectedSubject=new Ge.BehaviorSubject(!1),this.linkedSubject=new Ge.BehaviorSubject(!1),this.sessionConfigSubject=new Ge.ReplaySubject(1);const o=new gn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,ie.tap)(a=>{var u;return(u=this.diagnostic)===null||u===void 0?void 0:u.log(Sr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:mr.Session.hash(e)})}),(0,ie.skip)(1),(0,ie.filter)(a=>a===gn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,ie.delay)(5e3),(0,ie.filter)(a=>!this.destroyed),(0,ie.flatMap)(a=>o.connect()),(0,ie.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,ie.skip)(2),(0,ie.switchMap)(a=>(0,Ge.iif)(()=>a===gn.ConnectionState.CONNECTED,this.authenticate().pipe((0,ie.tap)(u=>this.sendIsLinked()),(0,ie.tap)(u=>this.sendGetSessionConfig()),(0,ie.map)(u=>!0)),(0,Ge.of)(!1))),(0,ie.distinctUntilChanged)(),(0,ie.catchError)(a=>(0,Ge.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,ie.skip)(1),(0,ie.switchMap)(a=>(0,Ge.iif)(()=>a===gn.ConnectionState.CONNECTED,(0,Ge.timer)(0,xu)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,ie.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,ie.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Sr.EVENTS.LINKED,{sessionIdHash:mr.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,ie.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var u;const l=a;(u=this.diagnostic)===null||u===void 0||u.log(Sr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:mr.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Sr.EVENTS.STARTED_CONNECTING,{sessionIdHash:mr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Sr.EVENTS.DISCONNECTED,{sessionIdHash:mr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,ie.filter)(e=>e),(0,ie.take)(1),(0,ie.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,ie.filter)(e=>e),(0,ie.take)(1),(0,ie.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,ie.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,ie.map)(e=>e))}setSessionMetadata(e,r){const n=(0,wr.ClientMessageSetSessionConfig)({id:(0,Ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,ie.flatMap)(i=>this.makeRequest(n)),(0,ie.map)(i=>{if((0,Zs.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,wr.ClientMessagePublishEvent)({id:(0,Ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,ie.flatMap)(s=>this.makeRequest(i)),(0,ie.map)(s=>{if((0,Zs.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>xu*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=bw){const n=e.id;try{this.sendData(e)}catch(i){return(0,Ge.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,ie.timeoutWith)(r,(0,Ge.throwError)(new Error(`request ${n} timed out`))),(0,ie.filter)(i=>i.id===n),(0,ie.take)(1))}authenticate(){const e=(0,wr.ClientMessageHostSession)({id:(0,Ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,ie.map)(r=>{if((0,Zs.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,wr.ClientMessageIsLinked)({id:(0,Ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,wr.ClientMessageGetSessionConfig)({id:(0,Ut.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}_i.WalletSDKConnection=gw;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.WalletUIError=void 0;class Wr extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}wi.WalletUIError=Wr;Wr.UserRejectedRequest=new Wr("User rejected request");Wr.SwitchEthereumChainUnsupportedChainId=new Wr("Unsupported chainId",4902);var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.decrypt=sr.encrypt=void 0;const yw=dr,Bn=z;async function vw(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Bn.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),u=s.slice(0,s.byteLength-o),l=new Uint8Array(a),c=new Uint8Array(u),_=new Uint8Array([...r,...l,...c]);return(0,Bn.uint8ArrayToHex)(_)}sr.encrypt=vw;function _w(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new yw.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,Bn.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,Bn.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),u=new Uint8Array([...a,...o]),l={name:"AES-GCM",iv:new Uint8Array(s)};try{const c=await window.crypto.subtle.decrypt(l,n,u),_=new TextDecoder;r.next(_.decode(c)),r.complete()}catch(c){r.error(c)}})()})}sr.decrypt=_w;var ra={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(ra);var Si={},Ei={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ei);Object.defineProperty(Si,"__esModule",{value:!0});Si.Web3RequestCanceledMessage=void 0;const mw=Ei;function ww(t){return{type:mw.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Si.Web3RequestCanceledMessage=ww;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.Web3RequestMessage=void 0;const Sw=Ei;function Ew(t){return Object.assign({type:Sw.RelayMessageType.WEB3_REQUEST},t)}xi.Web3RequestMessage=Ew;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});pe.EthereumAddressFromSignedMessageResponse=pe.SubmitEthereumTransactionResponse=pe.SignEthereumTransactionResponse=pe.SignEthereumMessageResponse=pe.isRequestEthereumAccountsResponse=pe.SelectProviderResponse=pe.WatchAssetReponse=pe.RequestEthereumAccountsResponse=pe.SwitchEthereumChainResponse=pe.AddEthereumChainResponse=pe.ErrorResponse=void 0;const it=ra;function xw(t,e,r){return{method:t,errorMessage:e,errorCode:r}}pe.ErrorResponse=xw;function kw(t){return{method:it.Web3Method.addEthereumChain,result:t}}pe.AddEthereumChainResponse=kw;function Cw(t){return{method:it.Web3Method.switchEthereumChain,result:t}}pe.SwitchEthereumChainResponse=Cw;function Mw(t){return{method:it.Web3Method.requestEthereumAccounts,result:t}}pe.RequestEthereumAccountsResponse=Mw;function Aw(t){return{method:it.Web3Method.watchAsset,result:t}}pe.WatchAssetReponse=Aw;function Iw(t){return{method:it.Web3Method.selectProvider,result:t}}pe.SelectProviderResponse=Iw;function Tw(t){return t&&t.method===it.Web3Method.requestEthereumAccounts}pe.isRequestEthereumAccountsResponse=Tw;function Rw(t){return{method:it.Web3Method.signEthereumMessage,result:t}}pe.SignEthereumMessageResponse=Rw;function Ow(t){return{method:it.Web3Method.signEthereumTransaction,result:t}}pe.SignEthereumTransactionResponse=Ow;function Nw(t){return{method:it.Web3Method.submitEthereumTransaction,result:t}}pe.SubmitEthereumTransactionResponse=Nw;function jw(t){return{method:it.Web3Method.ethereumAddressFromSignedMessage,result:t}}pe.EthereumAddressFromSignedMessageResponse=jw;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.isWeb3ResponseMessage=or.Web3ResponseMessage=void 0;const tf=Ei;function Dw(t){return Object.assign({type:tf.RelayMessageType.WEB3_RESPONSE},t)}or.Web3ResponseMessage=Dw;function Lw(t){return t&&t.type===tf.RelayMessageType.WEB3_RESPONSE}or.isWeb3ResponseMessage=Lw;var Pw=ee&&ee.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Bw=ee&&ee.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rf=ee&&ee.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Fw=ee&&ee.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pw(e,t,r);return Bw(e,t),e},Ww=ee&&ee.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.WalletSDKRelay=void 0;const nf=Ww(vi),ku=Hr,Er=dr,Ce=Gn,Te=ur,$w=_i,Js=wi,Uw=Xr,de=z,kt=Fw(sr),bt=cr,yn=Ke,Se=ra,Hw=Si,Vw=xi,De=pe,Re=or;class Qe extends yn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Er.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Er.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=bt.Session.load(this.storage)||new bt.Session(this.storage).save(),r=new $w.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ce.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ce.skip)(1),(0,Ce.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(yn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),u=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!u){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Te.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ce.mergeMap)(i=>kt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(yn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ce.mergeMap)(i=>kt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(yn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ce.mergeMap)(i=>(0,Er.zip)(kt.decrypt(i.metadata.ChainId,e.secret),kt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ce.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ce.mergeMap)(i=>kt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Qe.accountRequestCallbackIds.size>0&&(Array.from(Qe.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Re.Web3ResponseMessage)({id:s,response:(0,De.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Qe.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ce.timeout)(1e3),(0,Ce.catchError)(e=>(0,Er.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Te.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=bt.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Te.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:bt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:u,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=u,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Se.Web3Method.signEthereumMessage,params:{message:(0,de.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Se.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,de.hexStringFromBuffer)(e,!0),signature:(0,de.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Se.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,de.bigIntStringFromBN)(e.weiValue),data:(0,de.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,de.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,de.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,de.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,de.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Se.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,de.bigIntStringFromBN)(e.weiValue),data:(0,de.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,de.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,de.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,de.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,de.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Se.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,de.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Se.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,de.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Se.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,de.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,u=>{if(r?.(),u.errorMessage)return a(new Error(u.errorMessage));o(u)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,Vw.Web3RequestMessage)({id:e,request:r}),s=bt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Te.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?bt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Te.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?bt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,Hw.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Er.Observable(s=>{kt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ce.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(kt.decrypt(e.data,this.session.secret).pipe((0,Ce.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Re.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Te.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,De.isRequestEthereumAccountsResponse)(n)){Qe.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Qe.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:e,response:(0,De.ErrorResponse)(r,(n??Js.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Se.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,de.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const u=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(u&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(u)){let l;try{(0,de.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=c=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:r,response:(0,De.RequestEthereumAccountsResponse)(c)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=ku.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}Qe.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Se.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,de.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,c=>{if(c.errorMessage)return a(new Error(c.errorMessage));o(c)});const u=c=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:n,response:(0,De.SelectProviderResponse)(Uw.ProviderType.Unselected)}))},l=c=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:n,response:(0,De.SelectProviderResponse)(c)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:u,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Se.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let u=null;const l=(0,de.randomBytesHex)(8),c=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),u?.()};this.ui.inlineWatchAsset()||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload}));const _=new Promise((d,g)=>{this.relayEventManager.callbacks.set(l,O=>{if(u?.(),O.errorMessage)return g(new Error(O.errorMessage));d(O)});const m=O=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:l,response:(0,De.WatchAssetReponse)(!1)}))},I=()=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:l,response:(0,De.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:I,onCancel:m,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:c,promise:_}}addEthereumChain(e,r,n,i,s,o){const a={method:Se.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let u=null;const l=(0,de.randomBytesHex)(8),c=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),u?.()};return this.ui.inlineAddEthereumChain(e)||(u=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:c,onResetConnection:this.resetAndReload})),{promise:new Promise((d,g)=>{this.relayEventManager.callbacks.set(l,O=>{if(u?.(),O.errorMessage)return g(new Error(O.errorMessage));d(O)});const m=O=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:l,response:(0,De.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},I=O=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:l,response:(0,De.AddEthereumChainResponse)({isApproved:!0,rpcUrl:O})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:m,onApprove:I,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:c}}switchEthereumChain(e,r){const n={method:Se.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,de.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,u)=>{this.relayEventManager.callbacks.set(i,_=>{if(_.errorMessage&&_.errorCode)return u(ku.ethErrors.provider.custom({code:_.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(_.errorMessage)return u(new Error(_.errorMessage));a(_)});const l=_=>{if(typeof _=="number"){const d=_;this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:i,response:(0,De.ErrorResponse)(Se.Web3Method.switchEthereumChain,Js.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,d)}))}else _ instanceof Js.WalletUIError?this.handleErrorResponse(i,Se.Web3Method.switchEthereumChain,_,_.errorCode):this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:i,response:(0,De.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},c=_=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:i,response:(0,De.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:_})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:c,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return bt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Re.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Se.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Se.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Se.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Se.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Qe.accountRequestCallbackIds=new Set;rf([nf.default],Qe.prototype,"resetAndReload",null);rf([nf.default],Qe.prototype,"handleIncomingEvent",null);yi.WalletSDKRelay=Qe;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.WalletSDKRelayEventManager=void 0;const zw=z;class qw{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,zw.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}ki.WalletSDKRelayEventManager=qw;const Gw="@coinbase/wallet-sdk",Yw="3.5.4",Qw="Coinbase Wallet JavaScript SDK",Kw=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],Zw="dist/index.js",Jw="dist/index.d.ts",Xw="https://github.com/coinbase/coinbase-wallet-sdk.git",e2="Coinbase, Inc.",t2="Apache-2.0",r2={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},n2={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},i2={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},s2={node:">= 10.0.0"},o2={name:Gw,version:Yw,description:Qw,keywords:Kw,main:Zw,types:Jw,repository:Xw,author:e2,license:t2,scripts:r2,dependencies:n2,devDependencies:i2,engines:s2};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.CoinbaseWalletSDK=void 0;const a2=$n,u2=Un,c2=Zt,l2=li,f2=yi,h2=ki,d2=z,p2={}.LINK_API_URL||"https://www.walletlink.org",sf={}.SDK_VERSION||o2.version||"unknown";class Ci{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||p2;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new l2.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),u=`${a.protocol}//${a.host}`;this._storage=new u2.ScopedLocalStorage(`-walletlink:${u}`),this._storage.setItem("version",Ci.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new h2.WalletSDKRelayEventManager,this._relay=new f2.WalletSDKRelay({linkAPIUrl:s,version:sf,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new c2.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,d2.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,a2.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Rr.CoinbaseWalletSDK=Ci;Ci.VERSION=sf;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Rr,r=Zt;var n=Rr;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Zt;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(mo);const b2=hf(mo),M2=df({__proto__:null,default:b2},[mo]);export{M2 as i};
