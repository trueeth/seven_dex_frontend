import{c as Ka}from"./index-34346f55.js";function Ba(a){switch(a.split(":")[0].toLowerCase()){case"https":return[a];case"http":return[`https${a.substring(4)}`,a];case"ipfs":const t=a.match(/^ipfs:(\/\/)?(.*)$/i)?.[2];return[`https://cloudflare-ipfs.com/ipfs/${t}/`,`https://ipfs.io/ipfs/${t}/`];case"ipns":const i=a.match(/^ipns:(\/\/)?(.*)$/i)?.[2];return[`https://cloudflare-ipfs.com/ipns/${i}/`,`https://ipfs.io/ipns/${i}/`];default:return[]}}var rr={},Ja={get exports(){return rr},set exports(a){rr=a}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(a,e){(function(t,i){i(e)})(Ka,function(t){function i(){for(var f=arguments.length,s=Array(f),u=0;u<f;u++)s[u]=arguments[u];if(s.length>1){s[0]=s[0].slice(0,-1);for(var E=s.length-1,y=1;y<E;++y)s[y]=s[y].slice(1,-1);return s[E]=s[E].slice(1),s.join("")}else return s[0]}function r(f){return"(?:"+f+")"}function o(f){return f===void 0?"undefined":f===null?"null":Object.prototype.toString.call(f).split(" ").pop().split("]").shift().toLowerCase()}function h(f){return f.toUpperCase()}function l(f){return f!=null?f instanceof Array?f:typeof f.length!="number"||f.split||f.setInterval||f.call?[f]:Array.prototype.slice.call(f):[]}function $(f,s){var u=f;if(s)for(var E in s)u[E]=s[E];return u}function P(f){var s="[A-Za-z]",u="[0-9]",E=i(u,"[A-Fa-f]"),y=r(r("%[EFef]"+E+"%"+E+E+"%"+E+E)+"|"+r("%[89A-Fa-f]"+E+"%"+E+E)+"|"+r("%"+E+E)),C="[\\:\\/\\?\\#\\[\\]\\@]",z="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Q=i(C,z),G=f?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ae=f?"[\\uE000-\\uF8FF]":"[]",M=i(s,u,"[\\-\\.\\_\\~]",G);r(s+i(s,u,"[\\+\\-\\.]")+"*"),r(r(y+"|"+i(M,z,"[\\:]"))+"*");var J=r(r("25[0-5]")+"|"+r("2[0-4]"+u)+"|"+r("1"+u+u)+"|"+r("0?[1-9]"+u)+"|0?0?"+u),te=r(J+"\\."+J+"\\."+J+"\\."+J),V=r(E+"{1,4}"),Z=r(r(V+"\\:"+V)+"|"+te),ne=r(r(V+"\\:")+"{6}"+Z),X=r("\\:\\:"+r(V+"\\:")+"{5}"+Z),xe=r(r(V)+"?\\:\\:"+r(V+"\\:")+"{4}"+Z),Ee=r(r(r(V+"\\:")+"{0,1}"+V)+"?\\:\\:"+r(V+"\\:")+"{3}"+Z),Se=r(r(r(V+"\\:")+"{0,2}"+V)+"?\\:\\:"+r(V+"\\:")+"{2}"+Z),Ue=r(r(r(V+"\\:")+"{0,3}"+V)+"?\\:\\:"+V+"\\:"+Z),Le=r(r(r(V+"\\:")+"{0,4}"+V)+"?\\:\\:"+Z),ye=r(r(r(V+"\\:")+"{0,5}"+V)+"?\\:\\:"+V),$e=r(r(r(V+"\\:")+"{0,6}"+V)+"?\\:\\:"),Te=r([ne,X,xe,Ee,Se,Ue,Le,ye,$e].join("|")),_e=r(r(M+"|"+y)+"+");r("[vV]"+E+"+\\."+i(M,z,"[\\:]")+"+"),r(r(y+"|"+i(M,z))+"*");var Qe=r(y+"|"+i(M,z,"[\\:\\@]"));return r(r(y+"|"+i(M,z,"[\\@]"))+"+"),r(r(Qe+"|"+i("[\\/\\?]",ae))+"*"),{NOT_SCHEME:new RegExp(i("[^]",s,u,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",M,z),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",M,z),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",M,z),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",M,z),"g"),NOT_QUERY:new RegExp(i("[^\\%]",M,z,"[\\:\\@\\/\\?]",ae),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",M,z,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",M,z),"g"),UNRESERVED:new RegExp(M,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",M,Q),"g"),PCT_ENCODED:new RegExp(y,"g"),IPV4ADDRESS:new RegExp("^("+te+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Te+")"+r(r("\\%25|\\%(?!"+E+"{2})")+"("+_e+")")+"?\\]?$")}}var m=P(!1),v=P(!0),g=function(){function f(s,u){var E=[],y=!0,C=!1,z=void 0;try{for(var Q=s[Symbol.iterator](),G;!(y=(G=Q.next()).done)&&(E.push(G.value),!(u&&E.length===u));y=!0);}catch(ae){C=!0,z=ae}finally{try{!y&&Q.return&&Q.return()}finally{if(C)throw z}}return E}return function(s,u){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return f(s,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),n=function(f){if(Array.isArray(f)){for(var s=0,u=Array(f.length);s<f.length;s++)u[s]=f[s];return u}else return Array.from(f)},c=2147483647,p=36,d=1,S=26,I=38,b=700,_=72,R=128,x="-",j=/^xn--/,O=/[^\0-\x7E]/,F=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=p-d,A=Math.floor,D=String.fromCharCode;function w(f){throw new RangeError(L[f])}function N(f,s){for(var u=[],E=f.length;E--;)u[E]=s(f[E]);return u}function H(f,s){var u=f.split("@"),E="";u.length>1&&(E=u[0]+"@",f=u[1]),f=f.replace(F,".");var y=f.split("."),C=N(y,s).join(".");return E+C}function k(f){for(var s=[],u=0,E=f.length;u<E;){var y=f.charCodeAt(u++);if(y>=55296&&y<=56319&&u<E){var C=f.charCodeAt(u++);(C&64512)==56320?s.push(((y&1023)<<10)+(C&1023)+65536):(s.push(y),u--)}else s.push(y)}return s}var K=function(s){return String.fromCodePoint.apply(String,n(s))},q=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:p},U=function(s,u){return s+22+75*(s<26)-((u!=0)<<5)},se=function(s,u,E){var y=0;for(s=E?A(s/b):s>>1,s+=A(s/u);s>T*S>>1;y+=p)s=A(s/T);return A(y+(T+1)*s/(s+I))},ue=function(s){var u=[],E=s.length,y=0,C=R,z=_,Q=s.lastIndexOf(x);Q<0&&(Q=0);for(var G=0;G<Q;++G)s.charCodeAt(G)>=128&&w("not-basic"),u.push(s.charCodeAt(G));for(var ae=Q>0?Q+1:0;ae<E;){for(var M=y,J=1,te=p;;te+=p){ae>=E&&w("invalid-input");var V=q(s.charCodeAt(ae++));(V>=p||V>A((c-y)/J))&&w("overflow"),y+=V*J;var Z=te<=z?d:te>=z+S?S:te-z;if(V<Z)break;var ne=p-Z;J>A(c/ne)&&w("overflow"),J*=ne}var X=u.length+1;z=se(y-M,X,M==0),A(y/X)>c-C&&w("overflow"),C+=A(y/X),y%=X,u.splice(y++,0,C)}return String.fromCodePoint.apply(String,u)},ce=function(s){var u=[];s=k(s);var E=s.length,y=R,C=0,z=_,Q=!0,G=!1,ae=void 0;try{for(var M=s[Symbol.iterator](),J;!(Q=(J=M.next()).done);Q=!0){var te=J.value;te<128&&u.push(D(te))}}catch(He){G=!0,ae=He}finally{try{!Q&&M.return&&M.return()}finally{if(G)throw ae}}var V=u.length,Z=V;for(V&&u.push(x);Z<E;){var ne=c,X=!0,xe=!1,Ee=void 0;try{for(var Se=s[Symbol.iterator](),Ue;!(X=(Ue=Se.next()).done);X=!0){var Le=Ue.value;Le>=y&&Le<ne&&(ne=Le)}}catch(He){xe=!0,Ee=He}finally{try{!X&&Se.return&&Se.return()}finally{if(xe)throw Ee}}var ye=Z+1;ne-y>A((c-C)/ye)&&w("overflow"),C+=(ne-y)*ye,y=ne;var $e=!0,Te=!1,_e=void 0;try{for(var Qe=s[Symbol.iterator](),Qr;!($e=(Qr=Qe.next()).done);$e=!0){var Hr=Qr.value;if(Hr<y&&++C>c&&w("overflow"),Hr==y){for(var Je=C,Ge=p;;Ge+=p){var Ze=Ge<=z?d:Ge>=z+S?S:Ge-z;if(Je<Ze)break;var Kr=Je-Ze,Br=p-Ze;u.push(D(U(Ze+Kr%Br,0))),Je=A(Kr/Br)}u.push(D(U(Je,0))),z=se(C,ye,Z==V),C=0,++Z}}}catch(He){Te=!0,_e=He}finally{try{!$e&&Qe.return&&Qe.return()}finally{if(Te)throw _e}}++C,++y}return u.join("")},B=function(s){return H(s,function(u){return j.test(u)?ue(u.slice(4).toLowerCase()):u})},be=function(s){return H(s,function(u){return O.test(u)?"xn--"+ce(u):u})},me={version:"2.1.0",ucs2:{decode:k,encode:K},decode:ue,encode:ce,toASCII:be,toUnicode:B},re={};function ve(f){var s=f.charCodeAt(0),u=void 0;return s<16?u="%0"+s.toString(16).toUpperCase():s<128?u="%"+s.toString(16).toUpperCase():s<2048?u="%"+(s>>6|192).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase():u="%"+(s>>12|224).toString(16).toUpperCase()+"%"+(s>>6&63|128).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase(),u}function ge(f){for(var s="",u=0,E=f.length;u<E;){var y=parseInt(f.substr(u+1,2),16);if(y<128)s+=String.fromCharCode(y),u+=3;else if(y>=194&&y<224){if(E-u>=6){var C=parseInt(f.substr(u+4,2),16);s+=String.fromCharCode((y&31)<<6|C&63)}else s+=f.substr(u,6);u+=6}else if(y>=224){if(E-u>=9){var z=parseInt(f.substr(u+4,2),16),Q=parseInt(f.substr(u+7,2),16);s+=String.fromCharCode((y&15)<<12|(z&63)<<6|Q&63)}else s+=f.substr(u,9);u+=9}else s+=f.substr(u,3),u+=3}return s}function oe(f,s){function u(E){var y=ge(E);return y.match(s.UNRESERVED)?y:E}return f.scheme&&(f.scheme=String(f.scheme).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_SCHEME,"")),f.userinfo!==void 0&&(f.userinfo=String(f.userinfo).replace(s.PCT_ENCODED,u).replace(s.NOT_USERINFO,ve).replace(s.PCT_ENCODED,h)),f.host!==void 0&&(f.host=String(f.host).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_HOST,ve).replace(s.PCT_ENCODED,h)),f.path!==void 0&&(f.path=String(f.path).replace(s.PCT_ENCODED,u).replace(f.scheme?s.NOT_PATH:s.NOT_PATH_NOSCHEME,ve).replace(s.PCT_ENCODED,h)),f.query!==void 0&&(f.query=String(f.query).replace(s.PCT_ENCODED,u).replace(s.NOT_QUERY,ve).replace(s.PCT_ENCODED,h)),f.fragment!==void 0&&(f.fragment=String(f.fragment).replace(s.PCT_ENCODED,u).replace(s.NOT_FRAGMENT,ve).replace(s.PCT_ENCODED,h)),f}function Y(f){return f.replace(/^0*(.*)/,"$1")||"0"}function we(f,s){var u=f.match(s.IPV4ADDRESS)||[],E=g(u,2),y=E[1];return y?y.split(".").map(Y).join("."):f}function he(f,s){var u=f.match(s.IPV6ADDRESS)||[],E=g(u,3),y=E[1],C=E[2];if(y){for(var z=y.toLowerCase().split("::").reverse(),Q=g(z,2),G=Q[0],ae=Q[1],M=ae?ae.split(":").map(Y):[],J=G.split(":").map(Y),te=s.IPV4ADDRESS.test(J[J.length-1]),V=te?7:8,Z=J.length-V,ne=Array(V),X=0;X<V;++X)ne[X]=M[X]||J[Z+X]||"";te&&(ne[V-1]=we(ne[V-1],s));var xe=ne.reduce(function(ye,$e,Te){if(!$e||$e==="0"){var _e=ye[ye.length-1];_e&&_e.index+_e.length===Te?_e.length++:ye.push({index:Te,length:1})}return ye},[]),Ee=xe.sort(function(ye,$e){return $e.length-ye.length})[0],Se=void 0;if(Ee&&Ee.length>1){var Ue=ne.slice(0,Ee.index),Le=ne.slice(Ee.index+Ee.length);Se=Ue.join(":")+"::"+Le.join(":")}else Se=ne.join(":");return C&&(Se+="%"+C),Se}else return f}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Re="".match(/(){0}/)[1]===void 0;function de(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={},E=s.iri!==!1?v:m;s.reference==="suffix"&&(f=(s.scheme?s.scheme+":":"")+"//"+f);var y=f.match(W);if(y){Re?(u.scheme=y[1],u.userinfo=y[3],u.host=y[4],u.port=parseInt(y[5],10),u.path=y[6]||"",u.query=y[7],u.fragment=y[8],isNaN(u.port)&&(u.port=y[5])):(u.scheme=y[1]||void 0,u.userinfo=f.indexOf("@")!==-1?y[3]:void 0,u.host=f.indexOf("//")!==-1?y[4]:void 0,u.port=parseInt(y[5],10),u.path=y[6]||"",u.query=f.indexOf("?")!==-1?y[7]:void 0,u.fragment=f.indexOf("#")!==-1?y[8]:void 0,isNaN(u.port)&&(u.port=f.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?y[4]:void 0)),u.host&&(u.host=he(we(u.host,E),E)),u.scheme===void 0&&u.userinfo===void 0&&u.host===void 0&&u.port===void 0&&!u.path&&u.query===void 0?u.reference="same-document":u.scheme===void 0?u.reference="relative":u.fragment===void 0?u.reference="absolute":u.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==u.reference&&(u.error=u.error||"URI is not a "+s.reference+" reference.");var C=re[(s.scheme||u.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!C||!C.unicodeSupport)){if(u.host&&(s.domainHost||C&&C.domainHost))try{u.host=me.toASCII(u.host.replace(E.PCT_ENCODED,ge).toLowerCase())}catch(z){u.error=u.error||"Host's domain name can not be converted to ASCII via punycode: "+z}oe(u,m)}else oe(u,E);C&&C.parse&&C.parse(u,s)}else u.error=u.error||"URI can not be parsed.";return u}function Ne(f,s){var u=s.iri!==!1?v:m,E=[];return f.userinfo!==void 0&&(E.push(f.userinfo),E.push("@")),f.host!==void 0&&E.push(he(we(String(f.host),u),u).replace(u.IPV6ADDRESS,function(y,C,z){return"["+C+(z?"%25"+z:"")+"]"})),(typeof f.port=="number"||typeof f.port=="string")&&(E.push(":"),E.push(String(f.port))),E.length?E.join(""):void 0}var je=/^\.\.?\//,fe=/^\/\.(\/|$)/,Ie=/^\/\.\.(\/|$)/,ke=/^\/?(?:.|\n)*?(?=\/|$)/;function ie(f){for(var s=[];f.length;)if(f.match(je))f=f.replace(je,"");else if(f.match(fe))f=f.replace(fe,"/");else if(f.match(Ie))f=f.replace(Ie,"/"),s.pop();else if(f==="."||f==="..")f="";else{var u=f.match(ke);if(u){var E=u[0];f=f.slice(E.length),s.push(E)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function le(f){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.iri?v:m,E=[],y=re[(s.scheme||f.scheme||"").toLowerCase()];if(y&&y.serialize&&y.serialize(f,s),f.host&&!u.IPV6ADDRESS.test(f.host)){if(s.domainHost||y&&y.domainHost)try{f.host=s.iri?me.toUnicode(f.host):me.toASCII(f.host.replace(u.PCT_ENCODED,ge).toLowerCase())}catch(Q){f.error=f.error||"Host's domain name can not be converted to "+(s.iri?"Unicode":"ASCII")+" via punycode: "+Q}}oe(f,u),s.reference!=="suffix"&&f.scheme&&(E.push(f.scheme),E.push(":"));var C=Ne(f,s);if(C!==void 0&&(s.reference!=="suffix"&&E.push("//"),E.push(C),f.path&&f.path.charAt(0)!=="/"&&E.push("/")),f.path!==void 0){var z=f.path;!s.absolutePath&&(!y||!y.absolutePath)&&(z=ie(z)),C===void 0&&(z=z.replace(/^\/\//,"/%2F")),E.push(z)}return f.query!==void 0&&(E.push("?"),E.push(f.query)),f.fragment!==void 0&&(E.push("#"),E.push(f.fragment)),E.join("")}function pe(f,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments[3],y={};return E||(f=de(le(f,u),u),s=de(le(s,u),u)),u=u||{},!u.tolerant&&s.scheme?(y.scheme=s.scheme,y.userinfo=s.userinfo,y.host=s.host,y.port=s.port,y.path=ie(s.path||""),y.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(y.userinfo=s.userinfo,y.host=s.host,y.port=s.port,y.path=ie(s.path||""),y.query=s.query):(s.path?(s.path.charAt(0)==="/"?y.path=ie(s.path):((f.userinfo!==void 0||f.host!==void 0||f.port!==void 0)&&!f.path?y.path="/"+s.path:f.path?y.path=f.path.slice(0,f.path.lastIndexOf("/")+1)+s.path:y.path=s.path,y.path=ie(y.path)),y.query=s.query):(y.path=f.path,s.query!==void 0?y.query=s.query:y.query=f.query),y.userinfo=f.userinfo,y.host=f.host,y.port=f.port),y.scheme=f.scheme),y.fragment=s.fragment,y}function Be(f,s,u){var E=$({scheme:"null"},u);return le(pe(de(f,E),de(s,E),E,!0),E)}function cr(f,s){return typeof f=="string"?f=le(de(f,s),s):o(f)==="object"&&(f=de(le(f,s),s)),f}function dr(f,s,u){return typeof f=="string"?f=le(de(f,u),u):o(f)==="object"&&(f=le(f,u)),typeof s=="string"?s=le(de(s,u),u):o(s)==="object"&&(s=le(s,u)),f===s}function La(f,s){return f&&f.toString().replace(!s||!s.iri?m.ESCAPE:v.ESCAPE,ve)}function De(f,s){return f&&f.toString().replace(!s||!s.iri?m.PCT_ENCODED:v.PCT_ENCODED,ge)}var qe={scheme:"http",domainHost:!0,parse:function(s,u){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,u){var E=String(s.scheme).toLowerCase()==="https";return(s.port===(E?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},Cr={scheme:"https",domainHost:qe.domainHost,parse:qe.parse,serialize:qe.serialize};function Nr(f){return typeof f.secure=="boolean"?f.secure:String(f.scheme).toLowerCase()==="wss"}var Me={scheme:"ws",domainHost:!0,parse:function(s,u){var E=s;return E.secure=Nr(E),E.resourceName=(E.path||"/")+(E.query?"?"+E.query:""),E.path=void 0,E.query=void 0,E},serialize:function(s,u){if((s.port===(Nr(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var E=s.resourceName.split("?"),y=g(E,2),C=y[0],z=y[1];s.path=C&&C!=="/"?C:void 0,s.query=z,s.resourceName=void 0}return s.fragment=void 0,s}},zr={scheme:"wss",domainHost:Me.domainHost,parse:Me.parse,serialize:Me.serialize},Ta={},Ur="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pe="[0-9A-Fa-f]",Ca=r(r("%[EFef]"+Pe+"%"+Pe+Pe+"%"+Pe+Pe)+"|"+r("%[89A-Fa-f]"+Pe+"%"+Pe+Pe)+"|"+r("%"+Pe+Pe)),Na="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",za="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Ua=i(za,'[\\"\\\\]'),Va="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ka=new RegExp(Ur,"g"),ze=new RegExp(Ca,"g"),qa=new RegExp(i("[^]",Na,"[\\.]",'[\\"]',Ua),"g"),Vr=new RegExp(i("[^]",Ur,Va),"g"),Ma=Vr;function vr(f){var s=ge(f);return s.match(ka)?s:f}var kr={scheme:"mailto",parse:function(s,u){var E=s,y=E.to=E.path?E.path.split(","):[];if(E.path=void 0,E.query){for(var C=!1,z={},Q=E.query.split("&"),G=0,ae=Q.length;G<ae;++G){var M=Q[G].split("=");switch(M[0]){case"to":for(var J=M[1].split(","),te=0,V=J.length;te<V;++te)y.push(J[te]);break;case"subject":E.subject=De(M[1],u);break;case"body":E.body=De(M[1],u);break;default:C=!0,z[De(M[0],u)]=De(M[1],u);break}}C&&(E.headers=z)}E.query=void 0;for(var Z=0,ne=y.length;Z<ne;++Z){var X=y[Z].split("@");if(X[0]=De(X[0]),u.unicodeSupport)X[1]=De(X[1],u).toLowerCase();else try{X[1]=me.toASCII(De(X[1],u).toLowerCase())}catch(xe){E.error=E.error||"Email address's domain name can not be converted to ASCII via punycode: "+xe}y[Z]=X.join("@")}return E},serialize:function(s,u){var E=s,y=l(s.to);if(y){for(var C=0,z=y.length;C<z;++C){var Q=String(y[C]),G=Q.lastIndexOf("@"),ae=Q.slice(0,G).replace(ze,vr).replace(ze,h).replace(qa,ve),M=Q.slice(G+1);try{M=u.iri?me.toUnicode(M):me.toASCII(De(M,u).toLowerCase())}catch(Z){E.error=E.error||"Email address's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+Z}y[C]=ae+"@"+M}E.path=y.join(",")}var J=s.headers=s.headers||{};s.subject&&(J.subject=s.subject),s.body&&(J.body=s.body);var te=[];for(var V in J)J[V]!==Ta[V]&&te.push(V.replace(ze,vr).replace(ze,h).replace(Vr,ve)+"="+J[V].replace(ze,vr).replace(ze,h).replace(Ma,ve));return te.length&&(E.query=te.join("&")),E}},Qa=/^([^\:]+)\:(.*)/,qr={scheme:"urn",parse:function(s,u){var E=s.path&&s.path.match(Qa),y=s;if(E){var C=u.scheme||y.scheme||"urn",z=E[1].toLowerCase(),Q=E[2],G=C+":"+(u.nid||z),ae=re[G];y.nid=z,y.nss=Q,y.path=void 0,ae&&(y=ae.parse(y,u))}else y.error=y.error||"URN can not be parsed.";return y},serialize:function(s,u){var E=u.scheme||s.scheme||"urn",y=s.nid,C=E+":"+(u.nid||y),z=re[C];z&&(s=z.serialize(s,u));var Q=s,G=s.nss;return Q.path=(y||u.nid)+":"+G,Q}},Ha=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Mr={scheme:"urn:uuid",parse:function(s,u){var E=s;return E.uuid=E.nss,E.nss=void 0,!u.tolerant&&(!E.uuid||!E.uuid.match(Ha))&&(E.error=E.error||"UUID is not valid."),E},serialize:function(s,u){var E=s;return E.nss=(s.uuid||"").toLowerCase(),E}};re[qe.scheme]=qe,re[Cr.scheme]=Cr,re[Me.scheme]=Me,re[zr.scheme]=zr,re[kr.scheme]=kr,re[qr.scheme]=qr,re[Mr.scheme]=Mr,t.SCHEMES=re,t.pctEncChar=ve,t.pctDecChars=ge,t.parse=de,t.removeDotSegments=ie,t.serialize=le,t.resolveComponents=pe,t.resolve=Be,t.normalize=cr,t.equal=dr,t.escapeComponent=La,t.unescapeComponent=De,Object.defineProperty(t,"__esModule",{value:!0})})})(Ja,rr);var Rr=function a(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,r,o;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(r=i;r--!==0;)if(!a(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=i;r--!==0;){var h=o[r];if(!a(e[h],t[h]))return!1}return!0}return e!==e&&t!==t},Ga=function(e){for(var t=0,i=e.length,r=0,o;r<i;)t++,o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<i&&(o=e.charCodeAt(r),(o&64512)==56320&&r++);return t},Ve={copy:Za,checkDataType:yr,checkDataTypes:Xa,coerceToTypes:Ya,toHash:Ir,getProperty:xr,escapeQuotes:Fr,equal:Rr,ucs2length:Ga,varOccurences:rt,varReplace:at,schemaHasRules:tt,schemaHasRulesExcept:st,schemaUnknownRules:ot,toQuotedString:Pr,getPathExpr:nt,getPath:it,getData:ut,unescapeFragment:ht,unescapeJsonPointer:Ar,escapeFragment:ct,escapeJsonPointer:Or};function Za(a,e){e=e||{};for(var t in a)e[t]=a[t];return e}function yr(a,e,t,i){var r=i?" !== ":" === ",o=i?" || ":" && ",h=i?"!":"",l=i?"":"!";switch(a){case"null":return e+r+"null";case"array":return h+"Array.isArray("+e+")";case"object":return"("+h+e+o+"typeof "+e+r+'"object"'+o+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+o+l+"("+e+" % 1)"+o+e+r+e+(t?o+h+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(t?o+h+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function Xa(a,e,t){switch(a.length){case 1:return yr(a[0],e,t,!0);default:var i="",r=Ir(a);r.array&&r.object&&(i=r.null?"(":"(!"+e+" || ",i+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var o in r)i+=(i?" && ":"")+yr(o,e,t,!0);return i}}var Jr=Ir(["string","number","integer","boolean","null"]);function Ya(a,e){if(Array.isArray(e)){for(var t=[],i=0;i<e.length;i++){var r=e[i];(Jr[r]||a==="array"&&r==="array")&&(t[t.length]=r)}if(t.length)return t}else{if(Jr[e])return[e];if(a==="array"&&e==="array")return["array"]}}function Ir(a){for(var e={},t=0;t<a.length;t++)e[a[t]]=!0;return e}var Wa=/^[a-z$_][a-z$_0-9]*$/i,et=/'|\\/g;function xr(a){return typeof a=="number"?"["+a+"]":Wa.test(a)?"."+a:"['"+Fr(a)+"']"}function Fr(a){return a.replace(et,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function rt(a,e){e+="[^0-9]";var t=a.match(new RegExp(e,"g"));return t?t.length:0}function at(a,e,t){return e+="([^0-9])",t=t.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),t+"$1")}function tt(a,e){if(typeof a=="boolean")return!a;for(var t in a)if(e[t])return!0}function st(a,e,t){if(typeof a=="boolean")return!a&&t!="not";for(var i in a)if(i!=t&&e[i])return!0}function ot(a,e){if(typeof a!="boolean"){for(var t in a)if(!e[t])return t}}function Pr(a){return"'"+Fr(a)+"'"}function nt(a,e,t,i){var r=t?"'/' + "+e+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return ia(a,r)}function it(a,e,t){var i=Pr(t?"/"+Or(e):xr(e));return ia(a,i)}var lt=/^\/(?:[^~]|~0|~1)*$/,ft=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ut(a,e,t){var i,r,o,h;if(a==="")return"rootData";if(a[0]=="/"){if(!lt.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,o="rootData"}else{if(h=a.match(ft),!h)throw new Error("Invalid JSON-pointer: "+a);if(i=+h[1],r=h[2],r=="#"){if(i>=e)throw new Error("Cannot access property/index "+i+" levels up, current level is "+e);return t[e-i]}if(i>e)throw new Error("Cannot access data "+i+" levels up, current level is "+e);if(o="data"+(e-i||""),!r)return o}for(var l=o,$=r.split("/"),P=0;P<$.length;P++){var m=$[P];m&&(o+=xr(Ar(m)),l+=" && "+o)}return l}function ia(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function ht(a){return Ar(decodeURIComponent(a))}function ct(a){return encodeURIComponent(Or(a))}function Or(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function Ar(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}var dt=Ve,la=vt;function vt(a){dt.copy(a,this)}var Er={},mt={get exports(){return Er},set exports(a){Er=a}},Fe=mt.exports=function(a,e,t){typeof e=="function"&&(t=e,e={}),t=e.cb||t;var i=typeof t=="function"?t:t.pre||function(){},r=t.post||function(){};er(e,i,r,a,"",a)};Fe.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};Fe.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Fe.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Fe.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function er(a,e,t,i,r,o,h,l,$,P){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,r,o,h,l,$,P);for(var m in i){var v=i[m];if(Array.isArray(v)){if(m in Fe.arrayKeywords)for(var g=0;g<v.length;g++)er(a,e,t,v[g],r+"/"+m+"/"+g,o,r,m,i,g)}else if(m in Fe.propsKeywords){if(v&&typeof v=="object")for(var n in v)er(a,e,t,v[n],r+"/"+m+"/"+pt(n),o,r,m,i,n)}else(m in Fe.keywords||a.allKeys&&!(m in Fe.skipKeywords))&&er(a,e,t,v,r+"/"+m,o,r,m,i)}t(i,r,o,h,l,$,P)}}function pt(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}var Ke=rr,Gr=Rr,ir=Ve,ar=la,gt=Er,jr=Ae;Ae.normalizeId=Oe;Ae.fullPath=tr;Ae.url=sr;Ae.ids=$t;Ae.inlineRef=Sr;Ae.schema=lr;function Ae(a,e,t){var i=this._refs[t];if(typeof i=="string")if(this._refs[i])i=this._refs[i];else return Ae.call(this,a,e,i);if(i=i||this._schemas[t],i instanceof ar)return Sr(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var r=lr.call(this,e,t),o,h,l;return r&&(o=r.schema,e=r.root,l=r.baseId),o instanceof ar?h=o.validate||a.call(this,o.schema,e,void 0,l):o!==void 0&&(h=Sr(o,this._opts.inlineRefs)?o:a.call(this,o,e,void 0,l)),h}function lr(a,e){var t=Ke.parse(e),i=ua(t),r=tr(this._getId(a.schema));if(Object.keys(a.schema).length===0||i!==r){var o=Oe(i),h=this._refs[o];if(typeof h=="string")return yt.call(this,a,h,t);if(h instanceof ar)h.validate||this._compile(h),a=h;else if(h=this._schemas[o],h instanceof ar){if(h.validate||this._compile(h),o==Oe(e))return{schema:h,root:a,baseId:r};a=h}else return;if(!a.schema)return;r=tr(this._getId(a.schema))}return fa.call(this,t,r,a.schema,a)}function yt(a,e,t){var i=lr.call(this,a,e);if(i){var r=i.schema,o=i.baseId;a=i.root;var h=this._getId(r);return h&&(o=sr(o,h)),fa.call(this,t,o,r,a)}}var Pt=ir.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function fa(a,e,t,i){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),o=1;o<r.length;o++){var h=r[o];if(h){if(h=ir.unescapeFragment(h),t=t[h],t===void 0)break;var l;if(!Pt[h]&&(l=this._getId(t),l&&(e=sr(e,l)),t.$ref)){var $=sr(e,t.$ref),P=lr.call(this,i,$);P&&(t=P.schema,i=P.root,e=P.baseId)}}}if(t!==void 0&&t!==i.schema)return{schema:t,root:i,baseId:e}}}var Et=ir.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Sr(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return $r(a);if(e)return br(a)<=e}function $r(a){var e;if(Array.isArray(a)){for(var t=0;t<a.length;t++)if(e=a[t],typeof e=="object"&&!$r(e))return!1}else for(var i in a)if(i=="$ref"||(e=a[i],typeof e=="object"&&!$r(e)))return!1;return!0}function br(a){var e=0,t;if(Array.isArray(a)){for(var i=0;i<a.length;i++)if(t=a[i],typeof t=="object"&&(e+=br(t)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(Et[r])e++;else if(t=a[r],typeof t=="object"&&(e+=br(t)+1),e==1/0)return 1/0}return e}function tr(a,e){e!==!1&&(a=Oe(a));var t=Ke.parse(a);return ua(t)}function ua(a){return Ke.serialize(a).split("#")[0]+"#"}var St=/#\/?$/;function Oe(a){return a?a.replace(St,""):""}function sr(a,e){return e=Oe(e),Ke.resolve(a,e)}function $t(a){var e=Oe(this._getId(a)),t={"":e},i={"":tr(e,!1)},r={},o=this;return gt(a,{allKeys:!0},function(h,l,$,P,m,v,g){if(l!==""){var n=o._getId(h),c=t[P],p=i[P]+"/"+m;if(g!==void 0&&(p+="/"+(typeof g=="number"?g:ir.escapeFragment(g))),typeof n=="string"){n=c=Oe(c?Ke.resolve(c,n):n);var d=o._refs[n];if(typeof d=="string"&&(d=o._refs[d]),d&&d.schema){if(!Gr(h,d.schema))throw new Error('id "'+n+'" resolves to more than one schema')}else if(n!=Oe(p))if(n[0]=="#"){if(r[n]&&!Gr(h,r[n]))throw new Error('id "'+n+'" resolves to more than one schema');r[n]=h}else o._refs[n]=p}t[l]=c,i[l]=p}}),r}var mr=jr,Lr={Validation:Zr(bt),MissingRef:Zr(Tr)};function bt(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}Tr.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function Tr(a,e,t){this.message=t||Tr.message(a,e),this.missingRef=mr.url(a,e),this.missingSchema=mr.normalizeId(mr.fullPath(this.missingRef))}function Zr(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}var ha=function(a,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var t=typeof e.cycles=="boolean"?e.cycles:!1,i=e.cmp&&function(o){return function(h){return function(l,$){var P={key:l,value:h[l]},m={key:$,value:h[$]};return o(P,m)}}}(e.cmp),r=[];return function o(h){if(h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),h!==void 0){if(typeof h=="number")return isFinite(h)?""+h:"null";if(typeof h!="object")return JSON.stringify(h);var l,$;if(Array.isArray(h)){for($="[",l=0;l<h.length;l++)l&&($+=","),$+=o(h[l])||"null";return $+"]"}if(h===null)return"null";if(r.indexOf(h)!==-1){if(t)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var P=r.push(h)-1,m=Object.keys(h).sort(i&&i(h));for($="",l=0;l<m.length;l++){var v=m[l],g=o(h[v]);g&&($&&($+=","),$+=JSON.stringify(v)+":"+g)}return r.splice(P,1),"{"+$+"}"}}(a)},ca=function(e,t,i){var r="",o=e.schema.$async===!0,h=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var $=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if($){var P="unknown keyword: "+$;if(e.opts.strictKeywords==="log")e.logger.warn(P);else throw new Error(P)}}if(e.isTop&&(r+=" var validate = ",o&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(h||e.schema.$ref)){var t="false schema",m=e.level,v=e.dataLevel,g=e.schema[t],n=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,R=!e.opts.allErrors,O,p="data"+(v||""),_="valid"+m;if(e.schema===!1){e.isTop?R=!0:r+=" var "+_+" = false; ";var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var S=r;r=d.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?o?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+_+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var I=e.isTop,m=e.level=0,v=e.dataLevel=0,p="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var b="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var m=e.level,v=e.dataLevel,p="data"+(v||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),o&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+m+" = errors;"}var _="valid"+m,R=!e.opts.allErrors,x="",j="",O,F=e.schema.type,L=Array.isArray(F);if(F&&e.opts.nullable&&e.schema.nullable===!0&&(L?F.indexOf("null")==-1&&(F=F.concat("null")):F!="null"&&(F=[F,"null"],L=!0)),L&&F.length==1&&(F=F[0],L=!1),e.schema.$ref&&h){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(h=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),F){if(e.opts.coerceTypes)var T=e.util.coerceToTypes(e.opts.coerceTypes,F);var A=e.RULES.types[F];if(T||L||A===!0||A&&!fe(A)){var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",n=e.schemaPath+".type",c=e.errSchemaPath+"/type",D=L?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[D](F,p,e.opts.strictNumbers,!0)+") { ",T){var w="dataType"+m,N="coerced"+m;r+=" var "+w+" = typeof "+p+"; var "+N+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+w+" == 'object' && Array.isArray("+p+") && "+p+".length == 1) { "+p+" = "+p+"[0]; "+w+" = typeof "+p+"; if ("+e.util.checkDataType(e.schema.type,p,e.opts.strictNumbers)+") "+N+" = "+p+"; } "),r+=" if ("+N+" !== undefined) ; ";var H=T;if(H)for(var k,K=-1,q=H.length-1;K<q;)k=H[K+=1],k=="string"?r+=" else if ("+w+" == 'number' || "+w+" == 'boolean') "+N+" = '' + "+p+"; else if ("+p+" === null) "+N+" = ''; ":k=="number"||k=="integer"?(r+=" else if ("+w+" == 'boolean' || "+p+" === null || ("+w+" == 'string' && "+p+" && "+p+" == +"+p+" ",k=="integer"&&(r+=" && !("+p+" % 1)"),r+=")) "+N+" = +"+p+"; "):k=="boolean"?r+=" else if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+N+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+N+" = true; ":k=="null"?r+=" else if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+N+" = null; ":e.opts.coerceTypes=="array"&&k=="array"&&(r+=" else if ("+w+" == 'string' || "+w+" == 'number' || "+w+" == 'boolean' || "+p+" == null) "+N+" = ["+p+"]; ");r+=" else {   ";var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",L?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",L?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var S=r;r=d.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+N+" !== undefined) {  ";var U=v?"data"+(v-1||""):"parentData",se=v?e.dataPathArr[v]:"parentDataProperty";r+=" "+p+" = "+N+"; ",v||(r+="if ("+U+" !== undefined)"),r+=" "+U+"["+se+"] = "+N+"; } "}else{var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",L?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",L?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var S=r;r=d.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!h)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",R&&(r+=" } if (errors === ",I?r+="0":r+="errs_"+m,r+=") { ",j+="}");else{var ue=e.RULES;if(ue){for(var A,ce=-1,B=ue.length-1;ce<B;)if(A=ue[ce+=1],fe(A)){if(A.type&&(r+=" if ("+e.util.checkDataType(A.type,p,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(A.type=="object"&&e.schema.properties){var g=e.schema.properties,be=Object.keys(g),me=be;if(me)for(var re,ve=-1,ge=me.length-1;ve<ge;){re=me[ve+=1];var oe=g[re];if(oe.default!==void 0){var Y=p+e.util.getProperty(re);if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+Y;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else r+=" if ("+Y+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Y+" === null || "+Y+" === '' "),r+=" ) "+Y+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}else if(A.type=="array"&&Array.isArray(e.schema.items)){var we=e.schema.items;if(we){for(var oe,K=-1,he=we.length-1;K<he;)if(oe=we[K+=1],oe.default!==void 0){var Y=p+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var b="default is ignored for: "+Y;if(e.opts.strictDefaults==="log")e.logger.warn(b);else throw new Error(b)}}else r+=" if ("+Y+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+Y+" === null || "+Y+" === '' "),r+=" ) "+Y+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(oe.default)+" ":r+=" "+JSON.stringify(oe.default)+" ",r+="; "}}}}var W=A.rules;if(W){for(var Re,de=-1,Ne=W.length-1;de<Ne;)if(Re=W[de+=1],Ie(Re)){var je=Re.code(e,Re.keyword,A.type);je&&(r+=" "+je+" ",R&&(x+="}"))}}if(R&&(r+=" "+x+" ",x=""),A.type&&(r+=" } ",F&&F===A.type&&!T)){r+=" else { ";var n=e.schemaPath+".type",c=e.errSchemaPath+"/type",d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(O||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { type: '",L?r+=""+F.join(","):r+=""+F,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",L?r+=""+F.join(","):r+=""+F,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+n+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),r+=" } "):r+=" {} ";var S=r;r=d.pop(),!e.compositeRule&&R?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}R&&(r+=" if (errors === ",I?r+="0":r+="errs_"+m,r+=") { ",j+="}")}}}R&&(r+=" "+j+" "),I?(o?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+_+" = errors === errs_"+m+";";function fe(ie){for(var le=ie.rules,pe=0;pe<le.length;pe++)if(Ie(le[pe]))return!0}function Ie(ie){return e.schema[ie.keyword]!==void 0||ie.implements&&ke(ie)}function ke(ie){for(var le=ie.implements,pe=0;pe<le.length;pe++)if(e.schema[le[pe]]!==void 0)return!0}return r},Xe=jr,or=Ve,da=Lr,wt=ha,Xr=ca,Dt=or.ucs2length,_t=Rr,Rt=da.Validation,It=wr;function wr(a,e,t,i){var r=this,o=this._opts,h=[void 0],l={},$=[],P={},m=[],v={},g=[];e=e||{schema:a,refVal:h,refs:l};var n=xt.call(this,a,e,i),c=this._compilations[n.index];if(n.compiling)return c.callValidate=b;var p=this._formats,d=this.RULES;try{var S=_(a,e,t,i);c.validate=S;var I=c.callValidate;return I&&(I.schema=S.schema,I.errors=null,I.refs=S.refs,I.refVal=S.refVal,I.root=S.root,I.$async=S.$async,o.sourceCode&&(I.source=S.source)),S}finally{Ft.call(this,a,e,i)}function b(){var D=c.validate,w=D.apply(this,arguments);return b.errors=D.errors,w}function _(D,w,N,H){var k=!w||w&&w.schema==D;if(w.schema!=e.schema)return wr.call(r,D,w,N,H);var K=D.$async===!0,q=Xr({isTop:!0,schema:D,isRoot:k,baseId:H,root:w,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:da.MissingRef,RULES:d,validate:Xr,util:or,resolve:Xe,resolveRef:R,usePattern:L,useDefault:T,useCustomRule:A,opts:o,formats:p,logger:r.logger,self:r});q=Ye(h,jt)+Ye($,Ot)+Ye(m,At)+Ye(g,Lt)+q,o.processCode&&(q=o.processCode(q,D));var U;try{var se=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",q);U=se(r,d,p,e,h,m,g,_t,Dt,Rt),h[0]=U}catch(ue){throw r.logger.error("Error compiling schema, function code:",q),ue}return U.schema=D,U.errors=null,U.refs=l,U.refVal=h,U.root=k?U:w,K&&(U.$async=!0),o.sourceCode===!0&&(U.source={code:q,patterns:$,defaults:m}),U}function R(D,w,N){w=Xe.url(D,w);var H=l[w],k,K;if(H!==void 0)return k=h[H],K="refVal["+H+"]",F(k,K);if(!N&&e.refs){var q=e.refs[w];if(q!==void 0)return k=e.refVal[q],K=x(w,k),F(k,K)}K=x(w);var U=Xe.call(r,_,e,w);if(U===void 0){var se=t&&t[w];se&&(U=Xe.inlineRef(se,o.inlineRefs)?se:wr.call(r,se,e,t,D))}if(U===void 0)j(w);else return O(w,U),F(U,K)}function x(D,w){var N=h.length;return h[N]=w,l[D]=N,"refVal"+N}function j(D){delete l[D]}function O(D,w){var N=l[D];h[N]=w}function F(D,w){return typeof D=="object"||typeof D=="boolean"?{code:w,schema:D,inline:!0}:{code:w,$async:D&&!!D.$async}}function L(D){var w=P[D];return w===void 0&&(w=P[D]=$.length,$[w]=D),"pattern"+w}function T(D){switch(typeof D){case"boolean":case"number":return""+D;case"string":return or.toQuotedString(D);case"object":if(D===null)return"null";var w=wt(D),N=v[w];return N===void 0&&(N=v[w]=m.length,m[N]=D),"default"+N}}function A(D,w,N,H){if(r._opts.validateSchema!==!1){var k=D.definition.dependencies;if(k&&!k.every(function(me){return Object.prototype.hasOwnProperty.call(N,me)}))throw new Error("parent schema must have all required keywords: "+k.join(","));var K=D.definition.validateSchema;if(K){var q=K(w);if(!q){var U="keyword schema is invalid: "+r.errorsText(K.errors);if(r._opts.validateSchema=="log")r.logger.error(U);else throw new Error(U)}}}var se=D.definition.compile,ue=D.definition.inline,ce=D.definition.macro,B;if(se)B=se.call(r,w,N,H);else if(ce)B=ce.call(r,w,N,H),o.validateSchema!==!1&&r.validateSchema(B,!0);else if(ue)B=ue.call(r,H,D.keyword,w,N);else if(B=D.definition.validate,!B)return;if(B===void 0)throw new Error('custom keyword "'+D.keyword+'"failed to compile');var be=g.length;return g[be]=B,{code:"customRule"+be,validate:B}}}function xt(a,e,t){var i=va.call(this,a,e,t);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:a,root:e,baseId:t},{index:i,compiling:!1})}function Ft(a,e,t){var i=va.call(this,a,e,t);i>=0&&this._compilations.splice(i,1)}function va(a,e,t){for(var i=0;i<this._compilations.length;i++){var r=this._compilations[i];if(r.schema==a&&r.root==e&&r.baseId==t)return i}return-1}function Ot(a,e){return"var pattern"+a+" = new RegExp("+or.toQuotedString(e[a])+");"}function At(a){return"var default"+a+" = defaults["+a+"];"}function jt(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function Lt(a){return"var customRule"+a+" = customRules["+a+"];"}function Ye(a,e){if(!a.length)return"";for(var t="",i=0;i<a.length;i++)t+=e(i,a);return t}var Dr={},Tt={get exports(){return Dr},set exports(a){Dr=a}},fr=Tt.exports=function(){this._cache={}};fr.prototype.put=function(e,t){this._cache[e]=t};fr.prototype.get=function(e){return this._cache[e]};fr.prototype.del=function(e){delete this._cache[e]};fr.prototype.clear=function(){this._cache={}};var Ct=Ve,Nt=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,zt=[0,31,28,31,30,31,30,31,31,30,31,30,31],Ut=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,ma=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Vt=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,kt=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,pa=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,ga=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,ya=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Pa=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Ea=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,Sa=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,qt=ur;function ur(a){return a=a=="full"?"full":"fast",Ct.copy(ur[a])}ur.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":pa,url:ga,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:ma,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wa,uuid:ya,"json-pointer":Pa,"json-pointer-uri-fragment":Ea,"relative-json-pointer":Sa};ur.full={date:$a,time:ba,"date-time":Ht,uri:Bt,"uri-reference":kt,"uri-template":pa,url:ga,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:ma,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:wa,uuid:ya,"json-pointer":Pa,"json-pointer-uri-fragment":Ea,"relative-json-pointer":Sa};function Mt(a){return a%4===0&&(a%100!==0||a%400===0)}function $a(a){var e=a.match(Nt);if(!e)return!1;var t=+e[1],i=+e[2],r=+e[3];return i>=1&&i<=12&&r>=1&&r<=(i==2&&Mt(t)?29:zt[i])}function ba(a,e){var t=a.match(Ut);if(!t)return!1;var i=t[1],r=t[2],o=t[3],h=t[5];return(i<=23&&r<=59&&o<=59||i==23&&r==59&&o==60)&&(!e||h)}var Qt=/t|\s/i;function Ht(a){var e=a.split(Qt);return e.length==2&&$a(e[0])&&ba(e[1],!0)}var Kt=/\/|:/;function Bt(a){return Kt.test(a)&&Vt.test(a)}var Jt=/[^\\]\\Z/;function wa(a){if(Jt.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}var Gt=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.errSchemaPath+"/"+t,P=!e.opts.allErrors,m="data"+(h||""),v="valid"+o,g,n;if(l=="#"||l=="#/")e.isRoot?(g=e.async,n="validate"):(g=e.root.schema.$async===!0,n="root.refVal[0]");else{var c=e.resolveRef(e.baseId,l,e.isRoot);if(c===void 0){var p=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(p);var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString($)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),r+=" } "):r+=" {} ";var S=r;r=d.pop(),!e.compositeRule&&P?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(p),P&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,p)}else if(c.inline){var I=e.util.copy(e);I.level++;var b="valid"+I.level;I.schema=c.schema,I.schemaPath="",I.errSchemaPath=l;var _=e.validate(I).replace(/validate\.schema/g,c.code);r+=" "+_+" ",P&&(r+=" if ("+b+") { ")}else g=c.$async===!0||e.async&&c.$async!==!1,n=c.code}if(n){var d=d||[];d.push(r),r="",e.opts.passContext?r+=" "+n+".call(this, ":r+=" "+n+"( ",r+=" "+m+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var R=h?"data"+(h-1||""):"parentData",x=h?e.dataPathArr[h]:"parentDataProperty";r+=" , "+R+" , "+x+", rootData)  ";var j=r;if(r=d.pop(),g){if(!e.async)throw new Error("async schema referenced by sync schema");P&&(r+=" var "+v+"; "),r+=" try { await "+j+"; ",P&&(r+=" "+v+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",P&&(r+=" "+v+" = false; "),r+=" } ",P&&(r+=" if ("+v+") { ")}else r+=" if (!"+j+") { if (vErrors === null) vErrors = "+n+".errors; else vErrors = vErrors.concat("+n+".errors); errors = vErrors.length; } ",P&&(r+=" else { ")}return r},Zt=function(e,t,i){var r=" ",o=e.schema[t],h=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,$=!e.opts.allErrors,P=e.util.copy(e),m="";P.level++;var v="valid"+P.level,g=P.baseId,n=!0,c=o;if(c)for(var p,d=-1,S=c.length-1;d<S;)p=c[d+=1],(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all))&&(n=!1,P.schema=p,P.schemaPath=h+"["+d+"]",P.errSchemaPath=l+"/"+d,r+="  "+e.validate(P)+" ",P.baseId=g,$&&(r+=" if ("+v+") { ",m+="}"));return $&&(n?r+=" if (true) { ":r+=" "+m.slice(0,-1)+" "),r},Xt=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),p="";c.level++;var d="valid"+c.level,S=l.every(function(O){return e.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:e.util.schemaHasRules(O,e.RULES.all)});if(S){var I=c.baseId;r+=" var "+n+" = errors; var "+g+" = false;  ";var b=e.compositeRule;e.compositeRule=c.compositeRule=!0;var _=l;if(_)for(var R,x=-1,j=_.length-1;x<j;)R=_[x+=1],c.schema=R,c.schemaPath=$+"["+x+"]",c.errSchemaPath=P+"/"+x,r+="  "+e.validate(c)+" ",c.baseId=I,r+=" "+g+" = "+g+" || "+d+"; if (!"+g+") { ",p+="}";e.compositeRule=c.compositeRule=b,r+=" "+p+" if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else m&&(r+=" if (true) { ");return r},Yt=function(e,t,i){var r=" ",o=e.schema[t],h=e.errSchemaPath+"/"+t;e.opts.allErrors;var l=e.util.toQuotedString(o);return e.opts.$comment===!0?r+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+l+", "+e.util.toQuotedString(h)+", validate.root.schema);"),r},Wt=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n=e.opts.$data&&l&&l.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; "),n||(r+=" var schema"+o+" = validate.schema"+$+";"),r+="var "+g+" = equal("+v+", schema"+o+"); if (!"+g+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValue: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var p=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},es=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),p="";c.level++;var d="valid"+c.level,S="i"+o,I=c.dataLevel=e.dataLevel+1,b="data"+I,_=e.baseId,R=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(r+="var "+n+" = errors;var "+g+";",R){var x=e.compositeRule;e.compositeRule=c.compositeRule=!0,c.schema=l,c.schemaPath=$,c.errSchemaPath=P,r+=" var "+d+" = false; for (var "+S+" = 0; "+S+" < "+v+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var j=v+"["+S+"]";c.dataPathArr[I]=S;var O=e.validate(c);c.baseId=_,e.util.varOccurences(O,b)<2?r+=" "+e.util.varReplace(O,b,j)+" ":r+=" var "+b+" = "+j+"; "+O+" ",r+=" if ("+d+") break; }  ",e.compositeRule=c.compositeRule=x,r+=" "+p+" if (!"+d+") {"}else r+=" if ("+v+".length == 0) {";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var L=r;return r=F.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+L+"]); ":r+=" validate.errors = ["+L+"]; return false; ":r+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",R&&(r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r},rs=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var p="valid"+n.level,d={},S={},I=e.opts.ownProperties;for(x in l)if(x!="__proto__"){var b=l[x],_=Array.isArray(b)?S:d;_[x]=b}r+="var "+g+" = errors;";var R=e.errorPath;r+="var missing"+o+";";for(var x in S)if(_=S[x],_.length){if(r+=" if ( "+v+e.util.getProperty(x)+" !== undefined ",I&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(x)+"') "),m){r+=" && ( ";var j=_;if(j)for(var O,F=-1,L=j.length-1;F<L;){O=j[F+=1],F&&(r+=" || ");var T=e.util.getProperty(O),A=v+T;r+=" ( ( "+A+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(O)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:T)+") ) "}r+=")) {  ";var D="missing"+o,w="' + "+D+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,D,!0):R+" + "+D);var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+w+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var H=r;r=N.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var k=_;if(k)for(var O,K=-1,q=k.length-1;K<q;){O=k[K+=1];var T=e.util.getProperty(O),w=e.util.escapeQuotes(O),A=v+T;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,O,e.opts.jsonPointers)),r+=" if ( "+A+" === undefined ",I&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(O)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+w+"', depsCount: "+_.length+", deps: '"+e.util.escapeQuotes(_.length==1?_[0]:_.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",_.length==1?r+="property "+e.util.escapeQuotes(_[0]):r+="properties "+e.util.escapeQuotes(_.join(", ")),r+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",m&&(c+="}",r+=" else { ")}e.errorPath=R;var U=n.baseId;for(var x in d){var b=d[x];(e.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:e.util.schemaHasRules(b,e.RULES.all))&&(r+=" "+p+" = true; if ( "+v+e.util.getProperty(x)+" !== undefined ",I&&(r+=" && Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(x)+"') "),r+=") { ",n.schema=b,n.schemaPath=$+e.util.getProperty(x),n.errSchemaPath=P+"/"+e.util.escapeFragment(x),r+="  "+e.validate(n)+" ",n.baseId=U,r+=" }  ",m&&(r+=" if ("+p+") { ",c+="}"))}return m&&(r+="   "+c+" if ("+g+" == errors) {"),r},as=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n=e.opts.$data&&l&&l.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ");var c="i"+o,p="schema"+o;n||(r+=" var "+p+" = validate.schema"+$+";"),r+="var "+g+";",n&&(r+=" if (schema"+o+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+o+")) "+g+" = false; else {"),r+=""+g+" = false;for (var "+c+"=0; "+c+"<"+p+".length; "+c+"++) if (equal("+v+", "+p+"["+c+"])) { "+g+" = true; break; }",n&&(r+="  }  "),r+=" if (!"+g+") {   ";var d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValues: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;return r=d.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",m&&(r+=" else { "),r},ts=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||"");if(e.opts.format===!1)return m&&(r+=" if (true) { "),r;var g=e.opts.$data&&l&&l.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l;var c=e.opts.unknownFormats,p=Array.isArray(c);if(g){var d="format"+o,S="isObject"+o,I="formatType"+o;r+=" var "+d+" = formats["+n+"]; var "+S+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; var "+I+" = "+S+" && "+d+".type || 'string'; if ("+S+") { ",e.async&&(r+=" var async"+o+" = "+d+".async; "),r+=" "+d+" = "+d+".validate; } if (  ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" (",c!="ignore"&&(r+=" ("+n+" && !"+d+" ",p&&(r+=" && self._opts.unknownFormats.indexOf("+n+") == -1 "),r+=") || "),r+=" ("+d+" && "+I+" == '"+i+"' && !(typeof "+d+" == 'function' ? ",e.async?r+=" (async"+o+" ? await "+d+"("+v+") : "+d+"("+v+")) ":r+=" "+d+"("+v+") ",r+=" : "+d+".test("+v+"))))) {"}else{var d=e.formats[l];if(!d){if(c=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),m&&(r+=" if (true) { "),r;if(p&&c.indexOf(l)>=0)return m&&(r+=" if (true) { "),r;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var S=typeof d=="object"&&!(d instanceof RegExp)&&d.validate,I=S&&d.type||"string";if(S){var b=d.async===!0;d=d.validate}if(I!=i)return m&&(r+=" if (true) { "),r;if(b){if(!e.async)throw new Error("async format in sync schema");var _="formats"+e.util.getProperty(l)+".validate";r+=" if (!(await "+_+"("+v+"))) { "}else{r+=" if (! ";var _="formats"+e.util.getProperty(l);S&&(_+=".validate"),typeof d=="function"?r+=" "+_+"("+v+") ":r+=" "+_+".test("+v+") ",r+=") { "}}var R=R||[];R.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { format:  ",g?r+=""+n:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,g?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var x=r;return r=R.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},ss=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e);c.level++;var p="valid"+c.level,d=e.schema.then,S=e.schema.else,I=d!==void 0&&(e.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:e.util.schemaHasRules(d,e.RULES.all)),b=S!==void 0&&(e.opts.strictKeywords?typeof S=="object"&&Object.keys(S).length>0||S===!1:e.util.schemaHasRules(S,e.RULES.all)),_=c.baseId;if(I||b){var R;c.createErrors=!1,c.schema=l,c.schemaPath=$,c.errSchemaPath=P,r+=" var "+n+" = errors; var "+g+" = true;  ";var x=e.compositeRule;e.compositeRule=c.compositeRule=!0,r+="  "+e.validate(c)+" ",c.baseId=_,c.createErrors=!0,r+="  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }  ",e.compositeRule=c.compositeRule=x,I?(r+=" if ("+p+") {  ",c.schema=e.schema.then,c.schemaPath=e.schemaPath+".then",c.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(c)+" ",c.baseId=_,r+=" "+g+" = "+p+"; ",I&&b?(R="ifClause"+o,r+=" var "+R+" = 'then'; "):R="'then'",r+=" } ",b&&(r+=" else { ")):r+=" if (!"+p+") { ",b&&(c.schema=e.schema.else,c.schemaPath=e.schemaPath+".else",c.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(c)+" ",c.baseId=_,r+=" "+g+" = "+p+"; ",I&&b?(R="ifClause"+o,r+=" var "+R+" = 'else'; "):R="'else'",r+=" } "),r+=" if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { failingKeyword: "+R+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+R+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},os=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),p="";c.level++;var d="valid"+c.level,S="i"+o,I=c.dataLevel=e.dataLevel+1,b="data"+I,_=e.baseId;if(r+="var "+n+" = errors;var "+g+";",Array.isArray(l)){var R=e.schema.additionalItems;if(R===!1){r+=" "+g+" = "+v+".length <= "+l.length+"; ";var x=P;P=e.errSchemaPath+"/additionalItems",r+="  if (!"+g+") {   ";var j=j||[];j.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var O=r;r=j.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+O+"]); ":r+=" validate.errors = ["+O+"]; return false; ":r+=" var err = "+O+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",P=x,m&&(p+="}",r+=" else { ")}var F=l;if(F){for(var L,T=-1,A=F.length-1;T<A;)if(L=F[T+=1],e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all)){r+=" "+d+" = true; if ("+v+".length > "+T+") { ";var D=v+"["+T+"]";c.schema=L,c.schemaPath=$+"["+T+"]",c.errSchemaPath=P+"/"+T,c.errorPath=e.util.getPathExpr(e.errorPath,T,e.opts.jsonPointers,!0),c.dataPathArr[I]=T;var w=e.validate(c);c.baseId=_,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,D)+" ":r+=" var "+b+" = "+D+"; "+w+" ",r+=" }  ",m&&(r+=" if ("+d+") { ",p+="}")}}if(typeof R=="object"&&(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))){c.schema=R,c.schemaPath=e.schemaPath+".additionalItems",c.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+d+" = true; if ("+v+".length > "+l.length+") {  for (var "+S+" = "+l.length+"; "+S+" < "+v+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var D=v+"["+S+"]";c.dataPathArr[I]=S;var w=e.validate(c);c.baseId=_,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,D)+" ":r+=" var "+b+" = "+D+"; "+w+" ",m&&(r+=" if (!"+d+") break; "),r+=" } }  ",m&&(r+=" if ("+d+") { ",p+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){c.schema=l,c.schemaPath=$,c.errSchemaPath=P,r+="  for (var "+S+" = "+0+"; "+S+" < "+v+".length; "+S+"++) { ",c.errorPath=e.util.getPathExpr(e.errorPath,S,e.opts.jsonPointers,!0);var D=v+"["+S+"]";c.dataPathArr[I]=S;var w=e.validate(c);c.baseId=_,e.util.varOccurences(w,b)<2?r+=" "+e.util.varReplace(w,b,D)+" ":r+=" var "+b+" = "+D+"; "+w+" ",m&&(r+=" if (!"+d+") break; "),r+=" }"}return m&&(r+=" "+p+" if ("+n+" == errors) {"),r},Yr=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,_,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l;var c=t=="maximum",p=c?"exclusiveMaximum":"exclusiveMinimum",d=e.schema[p],S=e.opts.$data&&d&&d.$data,I=c?"<":">",b=c?">":"<",_=void 0;if(!(g||typeof l=="number"||l===void 0))throw new Error(t+" must be number");if(!(S||d===void 0||typeof d=="number"||typeof d=="boolean"))throw new Error(p+" must be number or boolean");if(S){var R=e.util.getData(d.$data,h,e.dataPathArr),x="exclusive"+o,j="exclType"+o,O="exclIsNumber"+o,F="op"+o,L="' + "+F+" + '";r+=" var schemaExcl"+o+" = "+R+"; ",R="schemaExcl"+o,r+=" var "+x+"; var "+j+" = typeof "+R+"; if ("+j+" != 'boolean' && "+j+" != 'undefined' && "+j+" != 'number') { ";var _=p,T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(_||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+p+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var A=r;r=T.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+j+" == 'number' ? ( ("+x+" = "+n+" === undefined || "+R+" "+I+"= "+n+") ? "+v+" "+b+"= "+R+" : "+v+" "+b+" "+n+" ) : ( ("+x+" = "+R+" === true) ? "+v+" "+b+"= "+n+" : "+v+" "+b+" "+n+" ) || "+v+" !== "+v+") { var op"+o+" = "+x+" ? '"+I+"' : '"+I+"='; ",l===void 0&&(_=p,P=e.errSchemaPath+"/"+p,n=R,g=S)}else{var O=typeof d=="number",L=I;if(O&&g){var F="'"+L+"'";r+=" if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" ( "+n+" === undefined || "+d+" "+I+"= "+n+" ? "+v+" "+b+"= "+d+" : "+v+" "+b+" "+n+" ) || "+v+" !== "+v+") { "}else{O&&l===void 0?(x=!0,_=p,P=e.errSchemaPath+"/"+p,n=d,b+="="):(O&&(n=Math[c?"min":"max"](d,l)),d===(O?n:!0)?(x=!0,_=p,P=e.errSchemaPath+"/"+p,b+="="):(x=!1,L+="="));var F="'"+L+"'";r+=" if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+v+" "+b+" "+n+" || "+v+" !== "+v+") { "}}_=_||t;var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(_||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { comparison: "+F+", limit: "+n+", exclusive: "+x+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+L+" ",g?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var A=r;return r=T.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { "),r},Wr=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,p,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l,!(g||typeof l=="number"))throw new Error(t+" must be number");var c=t=="maxItems"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" "+v+".length "+c+" "+n+") { ";var p=t,d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxItems"?r+="more":r+="fewer",r+=" than ",g?r+="' + "+n+" + '":r+=""+l,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;return r=d.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},ea=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,p,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l,!(g||typeof l=="number"))throw new Error(t+" must be number");var c=t=="maxLength"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),e.opts.unicode===!1?r+=" "+v+".length ":r+=" ucs2length("+v+") ",r+=" "+c+" "+n+") { ";var p=t,d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",t=="maxLength"?r+="longer":r+="shorter",r+=" than ",g?r+="' + "+n+" + '":r+=""+l,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;return r=d.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},ra=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,p,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l,!(g||typeof l=="number"))throw new Error(t+" must be number");var c=t=="maxProperties"?">":"<";r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'number') || "),r+=" Object.keys("+v+").length "+c+" "+n+") { ";var p=t,d=d||[];d.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",t=="maxProperties"?r+="more":r+="fewer",r+=" than ",g?r+="' + "+n+" + '":r+=""+l,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var S=r;return r=d.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+S+"]); ":r+=" validate.errors = ["+S+"]; return false; ":r+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},ns=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;if(g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l,!(g||typeof l=="number"))throw new Error(t+" must be number");r+="var division"+o+";if (",g&&(r+=" "+n+" !== undefined && ( typeof "+n+" != 'number' || "),r+=" (division"+o+" = "+v+" / "+n+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+o+" !== parseInt(division"+o+") ",r+=" ) ",g&&(r+="  )  "),r+=" ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { multipleOf: "+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",g?r+="' + "+n:r+=""+n+"'"),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var p=r;return r=c.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},is=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="errs__"+o,n=e.util.copy(e);n.level++;var c="valid"+n.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){n.schema=l,n.schemaPath=$,n.errSchemaPath=P,r+=" var "+g+" = errors;  ";var p=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.createErrors=!1;var d;n.opts.allErrors&&(d=n.opts.allErrors,n.opts.allErrors=!1),r+=" "+e.validate(n)+" ",n.createErrors=!0,d&&(n.opts.allErrors=d),e.compositeRule=n.compositeRule=p,r+=" if ("+c+") {   ";var S=S||[];S.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var I=r;r=S.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+g+"; if (vErrors !== null) { if ("+g+") vErrors.length = "+g+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(r+=" if (false) { ");return r},ls=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n="errs__"+o,c=e.util.copy(e),p="";c.level++;var d="valid"+c.level,S=c.baseId,I="prevValid"+o,b="passingSchemas"+o;r+="var "+n+" = errors , "+I+" = false , "+g+" = false , "+b+" = null; ";var _=e.compositeRule;e.compositeRule=c.compositeRule=!0;var R=l;if(R)for(var x,j=-1,O=R.length-1;j<O;)x=R[j+=1],(e.opts.strictKeywords?typeof x=="object"&&Object.keys(x).length>0||x===!1:e.util.schemaHasRules(x,e.RULES.all))?(c.schema=x,c.schemaPath=$+"["+j+"]",c.errSchemaPath=P+"/"+j,r+="  "+e.validate(c)+" ",c.baseId=S):r+=" var "+d+" = true; ",j&&(r+=" if ("+d+" && "+I+") { "+g+" = false; "+b+" = ["+b+", "+j+"]; } else { ",p+="}"),r+=" if ("+d+") { "+g+" = "+I+" = true; "+b+" = "+j+"; }";return e.compositeRule=c.compositeRule=_,r+=""+p+"if (!"+g+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { passingSchemas: "+b+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+n+"; if (vErrors !== null) { if ("+n+") vErrors.length = "+n+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r},fs=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g=e.opts.$data&&l&&l.$data,n;g?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",n="schema"+o):n=l;var c=g?"(new RegExp("+n+"))":e.usePattern(l);r+="if ( ",g&&(r+=" ("+n+" !== undefined && typeof "+n+" != 'string') || "),r+=" !"+c+".test("+v+") ) {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { pattern:  ",g?r+=""+n:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,g?r+="' + "+n+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",g?r+="validate.schema"+$:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var d=r;return r=p.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",m&&(r+=" else { "),r},us=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var p="valid"+n.level,d="key"+o,S="idx"+o,I=n.dataLevel=e.dataLevel+1,b="data"+I,_="dataProperties"+o,R=Object.keys(l||{}).filter(K),x=e.schema.patternProperties||{},j=Object.keys(x).filter(K),O=e.schema.additionalProperties,F=R.length||j.length,L=O===!1,T=typeof O=="object"&&Object.keys(O).length,A=e.opts.removeAdditional,D=L||T||A,w=e.opts.ownProperties,N=e.baseId,H=e.schema.required;if(H&&!(e.opts.$data&&H.$data)&&H.length<e.opts.loopRequired)var k=e.util.toHash(H);function K(dr){return dr!=="__proto__"}if(r+="var "+g+" = errors;var "+p+" = true;",w&&(r+=" var "+_+" = undefined;"),D){if(w?r+=" "+_+" = "+_+" || Object.keys("+v+"); for (var "+S+"=0; "+S+"<"+_+".length; "+S+"++) { var "+d+" = "+_+"["+S+"]; ":r+=" for (var "+d+" in "+v+") { ",F){if(r+=" var isAdditional"+o+" = !(false ",R.length)if(R.length>8)r+=" || validate.schema"+$+".hasOwnProperty("+d+") ";else{var q=R;if(q)for(var U,se=-1,ue=q.length-1;se<ue;)U=q[se+=1],r+=" || "+d+" == "+e.util.toQuotedString(U)+" "}if(j.length){var ce=j;if(ce)for(var B,be=-1,me=ce.length-1;be<me;)B=ce[be+=1],r+=" || "+e.usePattern(B)+".test("+d+") "}r+=" ); if (isAdditional"+o+") { "}if(A=="all")r+=" delete "+v+"["+d+"]; ";else{var re=e.errorPath,ve="' + "+d+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers)),L)if(A)r+=" delete "+v+"["+d+"]; ";else{r+=" "+p+" = false; ";var ge=P;P=e.errSchemaPath+"/additionalProperties";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { additionalProperty: '"+ve+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Y=r;r=oe.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Y+"]); ":r+=" validate.errors = ["+Y+"]; return false; ":r+=" var err = "+Y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,m&&(r+=" break; ")}else if(T)if(A=="failing"){r+=" var "+g+" = errors;  ";var we=e.compositeRule;e.compositeRule=n.compositeRule=!0,n.schema=O,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers);var he=v+"["+d+"]";n.dataPathArr[I]=d;var W=e.validate(n);n.baseId=N,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,he)+" ":r+=" var "+b+" = "+he+"; "+W+" ",r+=" if (!"+p+") { errors = "+g+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+v+"["+d+"]; }  ",e.compositeRule=n.compositeRule=we}else{n.schema=O,n.schemaPath=e.schemaPath+".additionalProperties",n.errSchemaPath=e.errSchemaPath+"/additionalProperties",n.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers);var he=v+"["+d+"]";n.dataPathArr[I]=d;var W=e.validate(n);n.baseId=N,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,he)+" ":r+=" var "+b+" = "+he+"; "+W+" ",m&&(r+=" if (!"+p+") break; ")}e.errorPath=re}F&&(r+=" } "),r+=" }  ",m&&(r+=" if ("+p+") { ",c+="}")}var Re=e.opts.useDefaults&&!e.compositeRule;if(R.length){var de=R;if(de)for(var U,Ne=-1,je=de.length-1;Ne<je;){U=de[Ne+=1];var fe=l[U];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){var Ie=e.util.getProperty(U),he=v+Ie,ke=Re&&fe.default!==void 0;n.schema=fe,n.schemaPath=$+Ie,n.errSchemaPath=P+"/"+e.util.escapeFragment(U),n.errorPath=e.util.getPath(e.errorPath,U,e.opts.jsonPointers),n.dataPathArr[I]=e.util.toQuotedString(U);var W=e.validate(n);if(n.baseId=N,e.util.varOccurences(W,b)<2){W=e.util.varReplace(W,b,he);var ie=he}else{var ie=b;r+=" var "+b+" = "+he+"; "}if(ke)r+=" "+W+" ";else{if(k&&k[U]){r+=" if ( "+ie+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+p+" = false; ";var re=e.errorPath,ge=P,le=e.util.escapeQuotes(U);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(re,U,e.opts.jsonPointers)),P=e.errSchemaPath+"/required";var oe=oe||[];oe.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+le+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+le+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var Y=r;r=oe.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+Y+"]); ":r+=" validate.errors = ["+Y+"]; return false; ":r+=" var err = "+Y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=ge,e.errorPath=re,r+=" } else { "}else m?(r+=" if ( "+ie+" === undefined ",w&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(U)+"') "),r+=") { "+p+" = true; } else { "):(r+=" if ("+ie+" !== undefined ",w&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(U)+"') "),r+=" ) { ");r+=" "+W+" } "}}m&&(r+=" if ("+p+") { ",c+="}")}}if(j.length){var pe=j;if(pe)for(var B,Be=-1,cr=pe.length-1;Be<cr;){B=pe[Be+=1];var fe=x[B];if(e.opts.strictKeywords?typeof fe=="object"&&Object.keys(fe).length>0||fe===!1:e.util.schemaHasRules(fe,e.RULES.all)){n.schema=fe,n.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(B),n.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(B),w?r+=" "+_+" = "+_+" || Object.keys("+v+"); for (var "+S+"=0; "+S+"<"+_+".length; "+S+"++) { var "+d+" = "+_+"["+S+"]; ":r+=" for (var "+d+" in "+v+") { ",r+=" if ("+e.usePattern(B)+".test("+d+")) { ",n.errorPath=e.util.getPathExpr(e.errorPath,d,e.opts.jsonPointers);var he=v+"["+d+"]";n.dataPathArr[I]=d;var W=e.validate(n);n.baseId=N,e.util.varOccurences(W,b)<2?r+=" "+e.util.varReplace(W,b,he)+" ":r+=" var "+b+" = "+he+"; "+W+" ",m&&(r+=" if (!"+p+") break; "),r+=" } ",m&&(r+=" else "+p+" = true; "),r+=" }  ",m&&(r+=" if ("+p+") { ",c+="}")}}}return m&&(r+=" "+c+" if ("+g+" == errors) {"),r},hs=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="errs__"+o,n=e.util.copy(e),c="";n.level++;var p="valid"+n.level;if(r+="var "+g+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){n.schema=l,n.schemaPath=$,n.errSchemaPath=P;var d="key"+o,S="idx"+o,I="i"+o,b="' + "+d+" + '",_=n.dataLevel=e.dataLevel+1,R="data"+_,x="dataProperties"+o,j=e.opts.ownProperties,O=e.baseId;j&&(r+=" var "+x+" = undefined; "),j?r+=" "+x+" = "+x+" || Object.keys("+v+"); for (var "+S+"=0; "+S+"<"+x+".length; "+S+"++) { var "+d+" = "+x+"["+S+"]; ":r+=" for (var "+d+" in "+v+") { ",r+=" var startErrs"+o+" = errors; ";var F=d,L=e.compositeRule;e.compositeRule=n.compositeRule=!0;var T=e.validate(n);n.baseId=O,e.util.varOccurences(T,R)<2?r+=" "+e.util.varReplace(T,R,F)+" ":r+=" var "+R+" = "+F+"; "+T+" ",e.compositeRule=n.compositeRule=L,r+=" if (!"+p+") { for (var "+I+"=startErrs"+o+"; "+I+"<errors; "+I+"++) { vErrors["+I+"].propertyName = "+d+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { propertyName: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+b+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),m&&(r+=" break; "),r+=" } }"}return m&&(r+=" "+c+" if ("+g+" == errors) {"),r},cs=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n=e.opts.$data&&l&&l.$data;n&&(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ");var c="schema"+o;if(!n)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],d=l;if(d)for(var S,I=-1,b=d.length-1;I<b;){S=d[I+=1];var _=e.schema.properties[S];_&&(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))||(p[p.length]=S)}}else var p=l;if(n||p.length){var R=e.errorPath,x=n||p.length>=e.opts.loopRequired,j=e.opts.ownProperties;if(m)if(r+=" var missing"+o+"; ",x){n||(r+=" var "+c+" = validate.schema"+$+"; ");var O="i"+o,F="schema"+o+"["+O+"]",L="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,F,e.opts.jsonPointers)),r+=" var "+g+" = true; ",n&&(r+=" if (schema"+o+" === undefined) "+g+" = true; else if (!Array.isArray(schema"+o+")) "+g+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+c+".length; "+O+"++) { "+g+" = "+v+"["+c+"["+O+"]] !== undefined ",j&&(r+=" &&   Object.prototype.hasOwnProperty.call("+v+", "+c+"["+O+"]) "),r+="; if (!"+g+") break; } ",n&&(r+="  }  "),r+="  if (!"+g+") {   ";var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+L+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var A=r;r=T.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var D=p;if(D)for(var w,O=-1,N=D.length-1;O<N;){w=D[O+=1],O&&(r+=" || ");var H=e.util.getProperty(w),k=v+H;r+=" ( ( "+k+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(w)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?w:H)+") ) "}r+=") {  ";var F="missing"+o,L="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,F,!0):R+" + "+F);var T=T||[];T.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+L+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var A=r;r=T.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+A+"]); ":r+=" validate.errors = ["+A+"]; return false; ":r+=" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){n||(r+=" var "+c+" = validate.schema"+$+"; ");var O="i"+o,F="schema"+o+"["+O+"]",L="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,F,e.opts.jsonPointers)),n&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+L+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+c+".length; "+O+"++) { if ("+v+"["+c+"["+O+"]] === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", "+c+"["+O+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+L+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",n&&(r+="  }  ")}else{var K=p;if(K)for(var w,q=-1,U=K.length-1;q<U;){w=K[q+=1];var H=e.util.getProperty(w),L=e.util.escapeQuotes(w),k=v+H;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,w,e.opts.jsonPointers)),r+=" if ( "+k+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+v+", '"+e.util.escapeQuotes(w)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+L+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+L+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=R}else m&&(r+=" if (true) {");return r},ds=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v="data"+(h||""),g="valid"+o,n=e.opts.$data&&l&&l.$data,c;if(n?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",c="schema"+o):c=l,(l||n)&&e.opts.uniqueItems!==!1){n&&(r+=" var "+g+"; if ("+c+" === false || "+c+" === undefined) "+g+" = true; else if (typeof "+c+" != 'boolean') "+g+" = false; else { "),r+=" var i = "+v+".length , "+g+" = true , j; if (i > 1) { ";var p=e.schema.items&&e.schema.items.type,d=Array.isArray(p);if(!p||p=="object"||p=="array"||d&&(p.indexOf("object")>=0||p.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+v+"[i], "+v+"[j])) { "+g+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+v+"[i]; ";var S="checkDataType"+(d?"s":"");r+=" if ("+e.util[S](p,"item",e.opts.strictNumbers,!0)+") continue; ",d&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+g+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",n&&(r+="  }  "),r+=" if (!"+g+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",n?r+="validate.schema"+$:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var b=r;r=I.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+b+"]); ":r+=" validate.errors = ["+b+"]; return false; ":r+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m&&(r+=" else { ")}else m&&(r+=" if (true) { ");return r},vs={$ref:Gt,allOf:Zt,anyOf:Xt,$comment:Yt,const:Wt,contains:es,dependencies:rs,enum:as,format:ts,if:ss,items:os,maximum:Yr,minimum:Yr,maxItems:Wr,minItems:Wr,maxLength:ea,minLength:ea,maxProperties:ra,minProperties:ra,multipleOf:ns,not:is,oneOf:ls,pattern:fs,properties:us,propertyNames:hs,required:cs,uniqueItems:ds,validate:ca},aa=vs,pr=Ve.toHash,ms=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"],i=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=pr(t),e.types=pr(r),e.forEach(function(o){o.rules=o.rules.map(function(h){var l;if(typeof h=="object"){var $=Object.keys(h)[0];l=h[$],h=$,l.forEach(function(m){t.push(m),e.all[m]=!0})}t.push(h);var P=e.all[h]={keyword:h,code:aa[h],implements:l};return P}),e.all.$comment={keyword:"$comment",code:aa.$comment},o.type&&(e.types[o.type]=o)}),e.keywords=pr(t.concat(i)),e.custom={},e},ta=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"],ps=function(a,e){for(var t=0;t<e.length;t++){a=JSON.parse(JSON.stringify(a));var i=e[t].split("/"),r=a,o;for(o=1;o<i.length;o++)r=r[i[o]];for(o=0;o<ta.length;o++){var h=ta[o],l=r[h];l&&(r[h]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a},gs=Lr.MissingRef,ys=Da;function Da(a,e,t){var i=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(t=e,e=void 0);var r=o(a).then(function(){var l=i._addSchema(a,void 0,e);return l.validate||h(l)});return t&&r.then(function(l){t(null,l)},t),r;function o(l){var $=l.$schema;return $&&!i.getSchema($)?Da.call(i,{$ref:$},!0):Promise.resolve()}function h(l){try{return i._compile(l)}catch(P){if(P instanceof gs)return $(P);throw P}function $(P){var m=P.missingSchema;if(n(m))throw new Error("Schema "+m+" is loaded but "+P.missingRef+" cannot be resolved");var v=i._loadingSchemas[m];return v||(v=i._loadingSchemas[m]=i._opts.loadSchema(m),v.then(g,g)),v.then(function(c){if(!n(m))return o(c).then(function(){n(m)||i.addSchema(c,m,void 0,e)})}).then(function(){return h(l)});function g(){delete i._loadingSchemas[m]}function n(c){return i._refs[c]||i._schemas[c]}}}}var Ps=function(e,t,i){var r=" ",o=e.level,h=e.dataLevel,l=e.schema[t],$=e.schemaPath+e.util.getProperty(t),P=e.errSchemaPath+"/"+t,m=!e.opts.allErrors,v,g="data"+(h||""),n="valid"+o,c="errs__"+o,p=e.opts.$data&&l&&l.$data,d;p?(r+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",d="schema"+o):d=l;var S=this,I="definition"+o,b=S.definition,_="",R,x,j,O,F;if(p&&b.$data){F="keywordValidate"+o;var L=b.validateSchema;r+=" var "+I+" = RULES.custom['"+t+"'].definition; var "+F+" = "+I+".validate;"}else{if(O=e.useCustomRule(S,l,e.schema,e),!O)return;d="validate.schema"+$,F=O.code,R=b.compile,x=b.inline,j=b.macro}var T=F+".errors",A="i"+o,D="ruleErr"+o,w=b.async;if(w&&!e.async)throw new Error("async keyword in sync schema");if(x||j||(r+=""+T+" = null;"),r+="var "+c+" = errors;var "+n+";",p&&b.$data&&(_+="}",r+=" if ("+d+" === undefined) { "+n+" = true; } else { ",L&&(_+="}",r+=" "+n+" = "+I+".validateSchema("+d+"); if ("+n+") { ")),x)b.statements?r+=" "+O.validate+" ":r+=" "+n+" = "+O.validate+"; ";else if(j){var N=e.util.copy(e),_="";N.level++;var H="valid"+N.level;N.schema=O.validate,N.schemaPath="";var k=e.compositeRule;e.compositeRule=N.compositeRule=!0;var K=e.validate(N).replace(/validate\.schema/g,F);e.compositeRule=N.compositeRule=k,r+=" "+K}else{var q=q||[];q.push(r),r="",r+="  "+F+".call( ",e.opts.passContext?r+="this":r+="self",R||b.schema===!1?r+=" , "+g+" ":r+=" , "+d+" , "+g+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var U=h?"data"+(h-1||""):"parentData",se=h?e.dataPathArr[h]:"parentDataProperty";r+=" , "+U+" , "+se+" , rootData )  ";var ue=r;r=q.pop(),b.errors===!1?(r+=" "+n+" = ",w&&(r+="await "),r+=""+ue+"; "):w?(T="customErrors"+o,r+=" var "+T+" = null; try { "+n+" = await "+ue+"; } catch (e) { "+n+" = false; if (e instanceof ValidationError) "+T+" = e.errors; else throw e; } "):r+=" "+T+" = null; "+n+" = "+ue+"; "}if(b.modifying&&(r+=" if ("+U+") "+g+" = "+U+"["+se+"];"),r+=""+_,b.valid)m&&(r+=" if (true) { ");else{r+=" if ( ",b.valid===void 0?(r+=" !",j?r+=""+H:r+=""+n):r+=" "+!b.valid+" ",r+=") { ",v=S.keyword;var q=q||[];q.push(r),r="";var q=q||[];q.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ";var ce=r;r=q.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+ce+"]); ":r+=" validate.errors = ["+ce+"]; return false; ":r+=" var err = "+ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=r;r=q.pop(),x?b.errors?b.errors!="full"&&(r+="  for (var "+A+"="+c+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+D+".schema = "+d+"; "+D+".data = "+g+"; "),r+=" } "):b.errors===!1?r+=" "+B+" ":(r+=" if ("+c+" == errors) { "+B+" } else {  for (var "+A+"="+c+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+D+".schemaPath === undefined) { "+D+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+D+".schema = "+d+"; "+D+".data = "+g+"; "),r+=" } } "):j?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(v||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+S.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+S.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+$+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&m&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):b.errors===!1?r+=" "+B+" ":(r+=" if (Array.isArray("+T+")) { if (vErrors === null) vErrors = "+T+"; else vErrors = vErrors.concat("+T+"); errors = vErrors.length;  for (var "+A+"="+c+"; "+A+"<errors; "+A+"++) { var "+D+" = vErrors["+A+"]; if ("+D+".dataPath === undefined) "+D+".dataPath = (dataPath || '') + "+e.errorPath+";  "+D+'.schemaPath = "'+P+'";  ',e.opts.verbose&&(r+=" "+D+".schema = "+d+"; "+D+".data = "+g+"; "),r+=" } } else { "+B+" } "),r+=" } ",m&&(r+=" else { ")}return r};const Es="http://json-schema.org/draft-07/schema#",Ss="http://json-schema.org/draft-07/schema#",$s="Core schema meta-schema",bs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ws=["object","boolean"],Ds={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},_a={$schema:Es,$id:Ss,title:$s,definitions:bs,type:ws,properties:Ds,default:!0};var sa=_a,_s={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:sa.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:sa.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}},Rs=/^[a-z_$][a-z0-9_$-]*$/i,Is=Ps,xs=_s,Fs={add:Os,get:As,remove:js,validate:_r};function Os(a,e){var t=this.RULES;if(t.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!Rs.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var i=e.type;if(Array.isArray(i))for(var r=0;r<i.length;r++)h(a,i[r],e);else h(a,i,e);var o=e.metaSchema;o&&(e.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(o,!0))}t.keywords[a]=t.all[a]=!0;function h(l,$,P){for(var m,v=0;v<t.length;v++){var g=t[v];if(g.type==$){m=g;break}}m||(m={type:$,rules:[]},t.push(m));var n={keyword:l,definition:P,custom:!0,code:Is,implements:P.implements};m.rules.push(n),t.custom[l]=n}return this}function As(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function js(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var t=0;t<e.length;t++)for(var i=e[t].rules,r=0;r<i.length;r++)if(i[r].keyword==a){i.splice(r,1);break}return this}function _r(a,e){_r.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(xs,!0);if(t(a))return!0;if(_r.errors=t.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}const Ls="http://json-schema.org/draft-07/schema#",Ts="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Cs="Meta-schema for $data reference (JSON Schema extension proposal)",Ns="object",zs=["$data"],Us={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Vs=!1,ks={$schema:Ls,$id:Ts,description:Cs,type:Ns,required:zs,properties:Us,additionalProperties:Vs};var Ra=It,Ce=jr,qs=Dr,Ia=la,Ms=ha,Qs=qt,Hs=ms,xa=ps,Fa=Ve,Ks=ee;ee.prototype.validate=Js;ee.prototype.compile=Gs;ee.prototype.addSchema=Zs;ee.prototype.addMetaSchema=Xs;ee.prototype.validateSchema=Ys;ee.prototype.getSchema=eo;ee.prototype.removeSchema=ao;ee.prototype.addFormat=uo;ee.prototype.errorsText=fo;ee.prototype._addSchema=to;ee.prototype._compile=so;ee.prototype.compileAsync=ys;var hr=Fs;ee.prototype.addKeyword=hr.add;ee.prototype.getKeyword=hr.get;ee.prototype.removeKeyword=hr.remove;ee.prototype.validateKeyword=hr.validate;var Oa=Lr;ee.ValidationError=Oa.Validation;ee.MissingRefError=Oa.MissingRef;ee.$dataMetaSchema=xa;var nr="http://json-schema.org/draft-07/schema",oa=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],Bs=["/properties"];function ee(a){if(!(this instanceof ee))return new ee(a);a=this._opts=Fa.copy(a)||{},go(this),this._schemas={},this._refs={},this._fragments={},this._formats=Qs(a.format),this._cache=a.cache||new qs,this._loadingSchemas={},this._compilations=[],this.RULES=Hs(),this._getId=oo(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=Ms),this._metaOpts=po(this),a.formats&&vo(this),a.keywords&&mo(this),ho(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),co(this)}function Js(a,e){var t;if(typeof a=="string"){if(t=this.getSchema(a),!t)throw new Error('no schema with key or ref "'+a+'"')}else{var i=this._addSchema(a);t=i.validate||this._compile(i)}var r=t(e);return t.$async!==!0&&(this.errors=t.errors),r}function Gs(a,e){var t=this._addSchema(a,void 0,e);return t.validate||this._compile(t)}function Zs(a,e,t,i){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,t,i);return this}var o=this._getId(a);if(o!==void 0&&typeof o!="string")throw new Error("schema id must be string");return e=Ce.normalizeId(e||o),ja(this,e),this._schemas[e]=this._addSchema(a,t,i,!0),this}function Xs(a,e,t){return this.addSchema(a,e,t,!0),this}function Ys(a,e){var t=a.$schema;if(t!==void 0&&typeof t!="string")throw new Error("$schema must be a string");if(t=t||this._opts.defaultMeta||Ws(this),!t)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var i=this.validate(t,a);if(!i&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return i}function Ws(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(nr)?nr:void 0,a._opts.defaultMeta}function eo(a){var e=Aa(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return ro(this,a)}}function ro(a,e){var t=Ce.schema.call(a,{schema:{}},e);if(t){var i=t.schema,r=t.root,o=t.baseId,h=Ra.call(a,i,r,void 0,o);return a._fragments[e]=new Ia({ref:e,fragment:!0,schema:i,root:r,baseId:o,validate:h}),h}}function Aa(a,e){return e=Ce.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function ao(a){if(a instanceof RegExp)return We(this,this._schemas,a),We(this,this._refs,a),this;switch(typeof a){case"undefined":return We(this,this._schemas),We(this,this._refs),this._cache.clear(),this;case"string":var e=Aa(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var t=this._opts.serialize,i=t?t(a):a;this._cache.del(i);var r=this._getId(a);r&&(r=Ce.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function We(a,e,t){for(var i in e){var r=e[i];!r.meta&&(!t||t.test(i))&&(a._cache.del(r.cacheKey),delete e[i])}}function to(a,e,t,i){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,o=r?r(a):a,h=this._cache.get(o);if(h)return h;i=i||this._opts.addUsedSchema!==!1;var l=Ce.normalizeId(this._getId(a));l&&i&&ja(this,l);var $=this._opts.validateSchema!==!1&&!e,P;$&&!(P=l&&l==Ce.normalizeId(a.$schema))&&this.validateSchema(a,!0);var m=Ce.ids.call(this,a),v=new Ia({id:l,schema:a,localRefs:m,cacheKey:o,meta:t});return l[0]!="#"&&i&&(this._refs[l]=v),this._cache.put(o,v),$&&P&&this.validateSchema(a,!0),v}function so(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var t;a.meta&&(t=this._opts,this._opts=this._metaOpts);var i;try{i=Ra.call(this,a.schema,e,a.localRefs)}catch(o){throw delete a.validate,o}finally{a.compiling=!1,a.meta&&(this._opts=t)}return a.validate=i,a.refs=i.refs,a.refVal=i.refVal,a.root=i.root,i;function r(){var o=a.validate,h=o.apply(this,arguments);return r.errors=o.errors,h}}function oo(a){switch(a.schemaId){case"auto":return lo;case"id":return no;default:return io}}function no(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function io(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function lo(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function fo(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var t=e.separator===void 0?", ":e.separator,i=e.dataVar===void 0?"data":e.dataVar,r="",o=0;o<a.length;o++){var h=a[o];h&&(r+=i+h.dataPath+" "+h.message+t)}return r.slice(0,-t.length)}function uo(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function ho(a){var e;if(a._opts.$data&&(e=ks,a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var t=_a;a._opts.$data&&(t=xa(t,Bs)),a.addMetaSchema(t,nr,!0),a._refs["http://json-schema.org/schema"]=nr}}function co(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var t in e)a.addSchema(e[t],t)}function vo(a){for(var e in a._opts.formats){var t=a._opts.formats[e];a.addFormat(e,t)}}function mo(a){for(var e in a._opts.keywords){var t=a._opts.keywords[e];a.addKeyword(e,t)}}function ja(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function po(a){for(var e=Fa.copy(a._opts),t=0;t<oa.length;t++)delete e[oa[t]];return e}function go(a){var e=a._opts.logger;if(e===!1)a.logger={log:gr,warn:gr,error:gr};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function gr(){}const yo="http://json-schema.org/draft-07/schema#",Po="svcswap",Eo="SvcSwap Token List",So="Schema for lists of tokens compatible with the SvcSwap Interface, including Uniswap standard",$o={Version:{type:"object",description:"The version of the list, used in change detection",examples:[{major:1,minor:0,patch:0}],additionalProperties:!1,properties:{major:{type:"integer",description:"The major version of the list. Must be incremented when tokens are removed from the list or token addresses are changed.",minimum:0,examples:[1,2]},minor:{type:"integer",description:"The minor version of the list. Must be incremented when tokens are added to the list.",minimum:0,examples:[0,1]},patch:{type:"integer",description:"The patch version of the list. Must be incremented for any changes to the list.",minimum:0,examples:[0,1]}},required:["major","minor","patch"]},TagIdentifier:{type:"string",description:"The unique identifier of a tag",minLength:1,maxLength:10,pattern:"^[\\w]+$",examples:["compound","stablecoin"]},ExtensionIdentifier:{type:"string",description:"The name of a token extension property",minLength:1,maxLength:40,pattern:"^[\\w]+$",examples:["color","is_fee_on_transfer","aliases"]},ExtensionMap:{type:"object",description:"An object containing any arbitrary or vendor-specific token metadata",maxProperties:10,propertyNames:{$ref:"#/definitions/ExtensionIdentifier"},additionalProperties:{$ref:"#/definitions/ExtensionValue"},examples:[{color:"#000000",is_verified_by_me:!0},{"x-bridged-addresses-by-chain":{1:{bridgeAddress:"0x4200000000000000000000000000000000000010",tokenAddress:"0x4200000000000000000000000000000000000010"}}}]},ExtensionPrimitiveValue:{anyOf:[{type:"string",minLength:1,maxLength:42,examples:["#00000"]},{type:"boolean",examples:[!0]},{type:"number",examples:[15]},{type:"null"}]},ExtensionValue:{anyOf:[{$ref:"#/definitions/ExtensionPrimitiveValue"},{type:"object",maxProperties:10,propertyNames:{$ref:"#/definitions/ExtensionIdentifier"},additionalProperties:{$ref:"#/definitions/ExtensionValueInner0"}}]},ExtensionValueInner0:{anyOf:[{$ref:"#/definitions/ExtensionPrimitiveValue"},{type:"object",maxProperties:10,propertyNames:{$ref:"#/definitions/ExtensionIdentifier"},additionalProperties:{$ref:"#/definitions/ExtensionValueInner1"}}]},ExtensionValueInner1:{anyOf:[{$ref:"#/definitions/ExtensionPrimitiveValue"}]},TagDefinition:{type:"object",description:"Definition of a tag that can be associated with a token via its identifier",additionalProperties:!1,properties:{name:{type:"string",description:"The name of the tag",pattern:"^[ \\w]+$",minLength:1,maxLength:20},description:{type:"string",description:"A user-friendly description of the tag",pattern:"^[ \\w\\.,:]+$",minLength:1,maxLength:200}},required:["name","description"],examples:[{name:"Stablecoin",description:"A token with value pegged to another asset"}]},TokenInfo:{type:"object",description:"Metadata for a single token in a token list",additionalProperties:!1,properties:{chainId:{type:"integer",description:"The chain ID of the Ethereum network where this token is deployed",minimum:1,examples:[1,42]},address:{type:"string",description:"The checksummed address of the token on the specified chain ID",pattern:"^0x[a-fA-F0-9]{40}$",examples:["0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"]},decimals:{type:"integer",description:"The number of decimals for the token balance",minimum:0,maximum:255,examples:[18]},name:{type:"string",description:"The name of the token",minLength:1,maxLength:40,pattern:"^[ \\w.'+\\-%/---:&\\[\\]\\(\\)]+$",examples:["USD Coin"]},symbol:{type:"string",description:"The symbol for the token; must be alphanumeric",pattern:"^[a-zA-Z0-9+\\-%/$.]+$",minLength:1,maxLength:20,examples:["USDC"]},logoURI:{type:"string",description:"A URI to the token logo asset; if not set, interface will attempt to find a logo based on the token address; suggest SVG or PNG of size 64x64",format:"uri",examples:["ipfs://QmXfzKRvjZz3u5JRgC4v5mGVbm9ahrUiB4DgzHBsnWbTMM"]},tags:{type:"array",description:"An array of tag identifiers associated with the token; tags are defined at the list level",items:{$ref:"#/definitions/TagIdentifier"},maxItems:10,examples:["stablecoin","compound"]},extensions:{$ref:"#/definitions/ExtensionMap"}},required:["chainId","address","decimals","name","symbol"]},AptosTokenInfo:{type:"object",description:"Metadata for a single token in a token list",additionalProperties:!1,properties:{chainId:{type:"integer",description:"The chain ID of the Aptos network where this token is deployed, 0 is devent",minimum:0,examples:[1,42]},address:{type:"string",description:"The address of the coin on the specified chain ID",examples:["0x1::aptos_coin::AptosCoin"]},decimals:{type:"integer",description:"The number of decimals for the token balance",minimum:0,maximum:255,examples:[18]},name:{type:"string",description:"The name of the token",minLength:1,maxLength:40,pattern:"^[ \\w.'+\\-%/---:&\\[\\]\\(\\)]+$",examples:["USD Coin"]},symbol:{type:"string",description:"The symbol for the token; must be alphanumeric",pattern:"^[a-zA-Z0-9+\\-%/$.]+$",minLength:1,maxLength:20,examples:["USDC"]},logoURI:{type:"string",description:"A URI to the token logo asset; if not set, interface will attempt to find a logo based on the token address; suggest SVG or PNG of size 64x64",format:"uri",examples:["ipfs://QmXfzKRvjZz3u5JRgC4v5mGVbm9ahrUiB4DgzHBsnWbTMM"]},tags:{type:"array",description:"An array of tag identifiers associated with the token; tags are defined at the list level",items:{$ref:"#/definitions/TagIdentifier"},maxItems:10,examples:["stablecoin","compound"]},extensions:{$ref:"#/definitions/ExtensionMap"}},required:["chainId","address","decimals","name","symbol"]}},bo="object",wo=!1,Do={name:{type:"string",description:"The name of the token list",minLength:1,maxLength:30,pattern:"^[\\w ]+$",examples:["My Token List"]},timestamp:{type:"string",format:"date-time",description:"The timestamp of this list version; i.e. when this immutable version of the list was created"},schema:{type:"string"},version:{$ref:"#/definitions/Version"},tokens:{type:"array",description:"The list of tokens included in the list",minItems:1,maxItems:1e4},keywords:{type:"array",description:"Keywords associated with the contents of the list; may be used in list discoverability",items:{type:"string",description:"A keyword to describe the contents of the list",minLength:1,maxLength:20,pattern:"^[\\w ]+$",examples:["compound","lending","personal tokens"]},maxItems:20,uniqueItems:!0},tags:{type:"object",description:"A mapping of tag identifiers to their name and description",propertyNames:{$ref:"#/definitions/TagIdentifier"},additionalProperties:{$ref:"#/definitions/TagDefinition"},maxProperties:20,examples:[{stablecoin:{name:"Stablecoin",description:"A token with value pegged to another asset"}}]},logoURI:{type:"string",description:"A URI for the logo of the token list; prefer SVG or PNG of size 256x256",format:"uri",examples:["ipfs://QmXfzKRvjZz3u5JRgC4v5mGVbm9ahrUiB4DgzHBsnWbTMM"]}},_o={properties:{tokens:{items:{$ref:"#/definitions/AptosTokenInfo"},type:"array",description:"The list of tokens included in the list",minItems:1,maxItems:1e4}}},Ro=["name","timestamp","version","tokens"],Io={$schema:yo,$id:Po,title:Eo,description:So,definitions:$o,type:bo,additionalProperties:wo,properties:Do,if:{properties:{schema:{const:"aptos"}},required:["name","timestamp","version","tokens","schema"]},then:_o,else:{properties:{tokens:{items:{$ref:"#/definitions/TokenInfo"},type:"array",description:"The list of tokens included in the list",minItems:1,maxItems:1e4}}},required:Ro},na=new Ks({allErrors:!0}).compile(Io);async function Fo(a){const e=Ba(a);for(let t=0;t<e.length;t++){const i=e[t],r=t===e.length-1;let o;try{o=await fetch(i)}catch(l){if(console.error("Failed to fetch list",a,l),r)throw new Error(`Failed to download list ${a}`);continue}if(!o.ok){if(r)throw new Error(`Failed to download list ${a}`);continue}const h=await o.json();if(!na(h)){const l=na.errors?.reduce(($,P)=>{const m=`${P.dataPath} ${P.message??""}`;return $.length>0?`${$}; ${m}`:`${m}`},"")??"unknown error";throw new Error(`Token list failed validation: ${l}`)}return h}throw new Error("Unrecognized list URL protocol.")}export{Fo as default,na as tokenListValidator};
