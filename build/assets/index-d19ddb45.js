import{u as Bd,s as Fd,f as Hd,e as Ma,b as Tn,i as ht,c as B,h as Oi,r as Bl,g as fr,t as Wd,j as Vd,k as Ud}from"./index-34346f55.js";function zd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var Dr=Bd,fa=Object.prototype.hasOwnProperty,qd=Array.isArray,ke={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Dr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Gd=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Fl=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Jd="utf8=%26%2310003%3B",Zd="utf8=%E2%9C%93",Qd=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,l=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Zd?l="utf-8":o[c]===Jd&&(l="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var u=o[c],h=u.indexOf("]="),f=h===-1?u.indexOf("="):h+1,d,y;f===-1?(d=r.decoder(u,ke.decoder,l,"key"),y=r.strictNullHandling?null:""):(d=r.decoder(u.slice(0,f),ke.decoder,l,"key"),y=Dr.maybeMap(Fl(u.slice(f+1),r),function(S){return r.decoder(S,ke.decoder,l,"value")})),y&&r.interpretNumericEntities&&l==="iso-8859-1"&&(y=Gd(y)),u.indexOf("[]=")>-1&&(y=qd(y)?[y]:y),fa.call(n,d)?n[d]=Dr.combine(n[d],y):n[d]=y}return n},Yd=function(t,e,r,n){for(var i=n?e:Fl(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,l=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(l)&&a!==c&&String(l)===c&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(o=[],o[l]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Kd=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),l=c?s.slice(0,c.index):s,u=[];if(l){if(!n.plainObjects&&fa.call(Object.prototype,l)&&!n.allowPrototypes)return;u.push(l)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&fa.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(c[1])}return c&&u.push("["+s.slice(c.index)+"]"),Yd(u,r,n,i)}},Xd=function(e){if(!e)return ke;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ke.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ke.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ke.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ke.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ke.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ke.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ke.comma,decoder:typeof e.decoder=="function"?e.decoder:ke.decoder,delimiter:typeof e.delimiter=="string"||Dr.isRegExp(e.delimiter)?e.delimiter:ke.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ke.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ke.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ke.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ke.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ke.strictNullHandling}},ep=function(t,e){var r=Xd(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Qd(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Kd(a,n[a],r,typeof t=="string");i=Dr.merge(i,c,r)}return r.allowSparse===!0?i:Dr.compact(i)},tp=Fd,rp=ep,np=Hd,ip={formats:np,parse:rp,stringify:tp},Ta={},wn={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.walletLogo=void 0;const sp=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Li.walletLogo=sp;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.ScopedLocalStorage=void 0;class op{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Di.ScopedLocalStorage=op;var jr={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});const ap=Ma;function Lc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function cp(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let up=class extends ap.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Lc(s,this,r);else{const o=s.length,a=cp(s);for(let c=0;c<o;c+=1)Lc(a[c],this,r)}return!0}};dr.default=up;var Nn={},zt={},lp=Sn;Sn.default=Sn;Sn.stable=Vl;Sn.stableStringify=Vl;var _i="[...]",Hl="[Circular]",ar=[],ir=[];function Wl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Sn(t,e,r,n){typeof n>"u"&&(n=Wl()),da(t,"",0,[],void 0,0,n);var i;try{ir.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Ul(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ar.length!==0;){var s=ar.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function Mr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),ar.push([n,r,e,i])):ir.push([e,r,t]):(n[r]=t,ar.push([n,r,e]))}function da(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Mr(Hl,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Mr(_i,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Mr(_i,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)da(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];da(t[l],l,a,n,t,s,o)}}n.pop()}}function hp(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,r,n){typeof n>"u"&&(n=Wl());var i=pa(t,"",0,[],void 0,0,n)||t,s;try{ir.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Ul(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;ar.length!==0;){var o=ar.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function pa(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){Mr(Hl,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){Mr(_i,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){Mr(_i,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)pa(t[a],a,a,n,t,s,o);else{var c={},l=Object.keys(t).sort(hp);for(a=0;a<l.length;a++){var u=l[a];pa(t[u],u,a,n,t,s,o),c[u]=t[u]}if(typeof i<"u")ar.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Ul(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(ir.length>0)for(var n=0;n<ir.length;n++){var i=ir[n];if(i[1]===e&&i[0]===r){r=i[2],ir.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(zt,"__esModule",{value:!0});zt.EthereumProviderError=zt.EthereumRpcError=void 0;const fp=lp;class zl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return fp.default(this.serialize(),bp,2)}}zt.EthereumRpcError=zl;class dp extends zl{constructor(e,r,n){if(!pp(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}zt.EthereumProviderError=dp;function pp(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function bp(t,e){if(e!=="[Circular]")return e}var Na={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.errorValues=qt.errorCodes=void 0;qt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};qt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=qt,r=zt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const y=f.toString();if(h(e.errorValues,y))return e.errorValues[y].message;if(l(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||l(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:y=!1}={}){var S,E;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const g={};if(f&&typeof f=="object"&&!Array.isArray(f)&&h(f,"code")&&a(f.code)){const w=f;g.code=w.code,w.message&&typeof w.message=="string"?(g.message=w.message,h(w,"data")&&(g.data=w.data)):(g.message=o(g.code),g.data={originalError:u(f)})}else{g.code=d.code;const w=(S=f)===null||S===void 0?void 0:S.message;g.message=w&&typeof w=="string"?w:d.message,g.data={originalError:u(f)}}const v=(E=f)===null||E===void 0?void 0:E.stack;return y&&f&&v&&typeof v=="string"&&(g.stack=v),g}t.serializeError=c;function l(f){return f>=-32099&&f<=-32e3}function u(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function h(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(Na);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.ethErrors=void 0;const Oa=zt,ql=Na,Le=qt;ji.ethErrors={rpc:{parse:t=>Qe(Le.errorCodes.rpc.parse,t),invalidRequest:t=>Qe(Le.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Qe(Le.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Qe(Le.errorCodes.rpc.methodNotFound,t),internal:t=>Qe(Le.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Qe(e,t)},invalidInput:t=>Qe(Le.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Qe(Le.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Qe(Le.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Qe(Le.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Qe(Le.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Qe(Le.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>cn(Le.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>cn(Le.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>cn(Le.errorCodes.provider.unsupportedMethod,t),disconnected:t=>cn(Le.errorCodes.provider.disconnected,t),chainDisconnected:t=>cn(Le.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Oa.EthereumProviderError(e,r,n)}}};function Qe(t,e){const[r,n]=Gl(e);return new Oa.EthereumRpcError(t,r||ql.getMessageFromCode(t),n)}function cn(t,e){const[r,n]=Gl(e);return new Oa.EthereumProviderError(t,r||ql.getMessageFromCode(t),n)}function Gl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=zt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Na;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ji;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=qt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Nn);var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.EVENTS=void 0;Jr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Zr={},ba={},gp={get exports(){return ba},set exports(t){ba=t}},xt={},vp={get exports(){return xt},set exports(t){xt=t}};(function(t,e){var r=Tn,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(vp,xt);var Jl=xt.Buffer;function Pi(t,e){this._block=Jl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Pi.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Jl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),l=0;l<c;l++)r[a+l]=t[o+l];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Pi.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Pi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Qr=Pi,yp=ht,Zl=Qr,mp=xt.Buffer,_p=[1518500249,1859775393,-1894007588,-899497514],wp=new Array(80);function On(){this.init(),this._w=wp,Zl.call(this,64,56)}yp(On,Zl);On.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Sp(t){return t<<5|t>>>27}function Ep(t){return t<<30|t>>>2}function Cp(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}On.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var l=~~(c/20),u=Sp(r)+Cp(l,n,i,s)+o+e[c]+_p[l]|0;o=s,s=i,i=Ep(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};On.prototype._hash=function(){var t=mp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var xp=On,Ip=ht,Ql=Qr,Rp=xt.Buffer,kp=[1518500249,1859775393,-1894007588,-899497514],Ap=new Array(80);function Ln(){this.init(),this._w=Ap,Ql.call(this,64,56)}Ip(Ln,Ql);Ln.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Mp(t){return t<<1|t>>>31}function Tp(t){return t<<5|t>>>27}function Np(t){return t<<30|t>>>2}function Op(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Ln.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=Mp(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var l=~~(c/20),u=Tp(r)+Op(l,n,i,s)+o+e[c]+kp[l]|0;o=s,s=i,i=Np(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Ln.prototype._hash=function(){var t=Rp.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Lp=Ln,Dp=ht,Yl=Qr,jp=xt.Buffer,Pp=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],$p=new Array(64);function Dn(){this.init(),this._w=$p,Yl.call(this,64,56)}Dp(Dn,Yl);Dn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Bp(t,e,r){return r^t&(e^r)}function Fp(t,e,r){return t&e|r&(t|e)}function Hp(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Wp(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Vp(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Up(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Dn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,l=this._h|0,u=0;u<16;++u)e[u]=t.readInt32BE(u*4);for(;u<64;++u)e[u]=Up(e[u-2])+e[u-7]+Vp(e[u-15])+e[u-16]|0;for(var h=0;h<64;++h){var f=l+Wp(o)+Bp(o,a,c)+Pp[h]+e[h]|0,d=Hp(r)+Fp(r,n,i)|0;l=c,c=a,a=o,o=s+f|0,s=i,i=n,n=r,r=f+d|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=l+this._h|0};Dn.prototype._hash=function(){var t=jp.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Kl=Dn,zp=ht,qp=Kl,Gp=Qr,Jp=xt.Buffer,Zp=new Array(64);function $i(){this.init(),this._w=Zp,Gp.call(this,64,56)}zp($i,qp);$i.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};$i.prototype._hash=function(){var t=Jp.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Qp=$i,Yp=ht,Xl=Qr,Kp=xt.Buffer,Dc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Xp=new Array(160);function jn(){this.init(),this._w=Xp,Xl.call(this,128,112)}Yp(jn,Xl);jn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function jc(t,e,r){return r^t&(e^r)}function Pc(t,e,r){return t&e|r&(t|e)}function $c(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Bc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function e0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function t0(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function r0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function n0(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ie(t,e){return t>>>0<e>>>0?1:0}jn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,l=this._hh|0,u=this._al|0,h=this._bl|0,f=this._cl|0,d=this._dl|0,y=this._el|0,S=this._fl|0,E=this._gl|0,g=this._hl|0,v=0;v<32;v+=2)e[v]=t.readInt32BE(v*4),e[v+1]=t.readInt32BE(v*4+4);for(;v<160;v+=2){var w=e[v-30],C=e[v-15*2+1],x=e0(w,C),N=t0(C,w);w=e[v-2*2],C=e[v-2*2+1];var z=r0(w,C),j=n0(C,w),T=e[v-7*2],te=e[v-7*2+1],he=e[v-16*2],se=e[v-16*2+1],M=N+te|0,k=x+T+Ie(M,N)|0;M=M+j|0,k=k+z+Ie(M,j)|0,M=M+se|0,k=k+he+Ie(M,se)|0,e[v]=k,e[v+1]=M}for(var D=0;D<160;D+=2){k=e[D],M=e[D+1];var $=Pc(r,n,i),P=Pc(u,h,f),L=$c(r,u),H=$c(u,r),Z=Bc(o,y),q=Bc(y,o),ne=Dc[D],le=Dc[D+1],ce=jc(o,a,c),Pe=jc(y,S,E),m=g+q|0,_=l+Z+Ie(m,g)|0;m=m+Pe|0,_=_+ce+Ie(m,Pe)|0,m=m+le|0,_=_+ne+Ie(m,le)|0,m=m+M|0,_=_+k+Ie(m,M)|0;var A=H+P|0,V=L+$+Ie(A,H)|0;l=c,g=E,c=a,E=S,a=o,S=y,y=d+m|0,o=s+_+Ie(y,d)|0,s=i,d=f,i=n,f=h,n=r,h=u,u=m+A|0,r=_+V+Ie(u,m)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+y|0,this._fl=this._fl+S|0,this._gl=this._gl+E|0,this._hl=this._hl+g|0,this._ah=this._ah+r+Ie(this._al,u)|0,this._bh=this._bh+n+Ie(this._bl,h)|0,this._ch=this._ch+i+Ie(this._cl,f)|0,this._dh=this._dh+s+Ie(this._dl,d)|0,this._eh=this._eh+o+Ie(this._el,y)|0,this._fh=this._fh+a+Ie(this._fl,S)|0,this._gh=this._gh+c+Ie(this._gl,E)|0,this._hh=this._hh+l+Ie(this._hl,g)|0};jn.prototype._hash=function(){var t=Kp.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var eh=jn,i0=ht,s0=eh,o0=Qr,a0=xt.Buffer,c0=new Array(160);function Bi(){this.init(),this._w=c0,o0.call(this,128,112)}i0(Bi,s0);Bi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Bi.prototype._hash=function(){var t=a0.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var u0=Bi,pr=gp.exports=function(e){e=e.toLowerCase();var r=pr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};pr.sha=xp;pr.sha1=Lp;pr.sha224=Qp;pr.sha256=Kl;pr.sha384=u0;pr.sha512=eh;var F={},Pn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Pn);var l0=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F,"__esModule",{value:!0});F.isInIFrame=F.createQrUrl=F.getFavicon=F.range=F.isBigNumber=F.ensureParsedJSONObject=F.ensureBN=F.ensureRegExpString=F.ensureIntNumber=F.ensureBuffer=F.ensureAddressString=F.ensureEvenLengthHexString=F.ensureHexString=F.isHexString=F.prepend0x=F.strip0x=F.has0xPrefix=F.hexStringFromIntNumber=F.intNumberFromHexString=F.bigIntStringFromBN=F.hexStringFromBuffer=F.hexStringToUint8Array=F.uint8ArrayToHex=F.randomBytesHex=void 0;const Wt=l0(Oi),h0=ip,tt=Pn,th=/^[0-9]*$/,rh=/^[a-f0-9]*$/;function f0(t){return nh(crypto.getRandomValues(new Uint8Array(t)))}F.randomBytesHex=f0;function nh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}F.uint8ArrayToHex=nh;function d0(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}F.hexStringToUint8Array=d0;function p0(t,e=!1){const r=t.toString("hex");return(0,tt.HexString)(e?"0x"+r:r)}F.hexStringFromBuffer=p0;function b0(t){return(0,tt.BigIntString)(t.toString(10))}F.bigIntStringFromBN=b0;function g0(t){return(0,tt.IntNumber)(new Wt.default(Bn(t,!1),16).toNumber())}F.intNumberFromHexString=g0;function v0(t){return(0,tt.HexString)("0x"+new Wt.default(t).toString(16))}F.hexStringFromIntNumber=v0;function La(t){return t.startsWith("0x")||t.startsWith("0X")}F.has0xPrefix=La;function Fi(t){return La(t)?t.slice(2):t}F.strip0x=Fi;function ih(t){return La(t)?"0x"+t.slice(2):"0x"+t}F.prepend0x=ih;function $n(t){if(typeof t!="string")return!1;const e=Fi(t).toLowerCase();return rh.test(e)}F.isHexString=$n;function sh(t,e=!1){if(typeof t=="string"){const r=Fi(t).toLowerCase();if(rh.test(r))return(0,tt.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}F.ensureHexString=sh;function Bn(t,e=!1){let r=sh(t,!1);return r.length%2===1&&(r=(0,tt.HexString)("0"+r)),e?(0,tt.HexString)("0x"+r):r}F.ensureEvenLengthHexString=Bn;function y0(t){if(typeof t=="string"){const e=Fi(t).toLowerCase();if($n(e)&&e.length===40)return(0,tt.AddressString)(ih(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}F.ensureAddressString=y0;function m0(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if($n(t)){const e=Bn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}F.ensureBuffer=m0;function oh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,tt.IntNumber)(t);if(typeof t=="string"){if(th.test(t))return(0,tt.IntNumber)(Number(t));if($n(t))return(0,tt.IntNumber)(new Wt.default(Bn(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}F.ensureIntNumber=oh;function _0(t){if(t instanceof RegExp)return(0,tt.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}F.ensureRegExpString=_0;function w0(t){if(t!==null&&(Wt.default.isBN(t)||ah(t)))return new Wt.default(t.toString(10),10);if(typeof t=="number")return new Wt.default(oh(t));if(typeof t=="string"){if(th.test(t))return new Wt.default(t,10);if($n(t))return new Wt.default(Bn(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}F.ensureBN=w0;function S0(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}F.ensureParsedJSONObject=S0;function ah(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}F.isBigNumber=ah;function E0(t,e){return Array.from({length:e-t},(r,n)=>t+n)}F.range=E0;function C0(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}F.getFavicon=C0;function x0(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,h0.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}F.createQrUrl=x0;function I0(){try{return window.frameElement!==null}catch{return!1}}F.isInIFrame=I0;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.Session=void 0;const Fc=ba,Hc=F,Wc="session:id",Vc="session:secret",Uc="session:linked";class Da{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Hc.randomBytesHex)(16),this._secret=n||(0,Hc.randomBytesHex)(32),this._key=new Fc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Wc),n=e.getItem(Uc),i=e.getItem(Vc);return r&&i?new Da(e,r,i,n==="1"):null}static hash(e){return new Fc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Wc,this._id),this._storage.setItem(Vc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Uc,this._linked?"1":"0")}}Zr.Session=Da;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.WalletSDKRelayAbstract=lt.APP_VERSION_KEY=lt.LOCAL_STORAGE_ADDRESSES_KEY=lt.WALLET_USER_NAME_KEY=void 0;const zc=Nn;lt.WALLET_USER_NAME_KEY="walletUsername";lt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";lt.APP_VERSION_KEY="AppVersion";class R0{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw zc.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,zc.serializeError)(s);return i})}}lt.WalletSDKRelayAbstract=R0;var En={},k0={get exports(){return En},set exports(t){En=t}},ch=Ma.EventEmitter,No,qc;function A0(){if(qc)return No;qc=1;function t(f,d){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(f);d&&(S=S.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),y.push.apply(y,S)}return y}function e(f){for(var d=1;d<arguments.length;d++){var y=arguments[d]!=null?arguments[d]:{};d%2?t(Object(y),!0).forEach(function(S){r(f,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):t(Object(y)).forEach(function(S){Object.defineProperty(f,S,Object.getOwnPropertyDescriptor(y,S))})}return f}function r(f,d,y){return d in f?Object.defineProperty(f,d,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[d]=y,f}function n(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}function i(f,d){for(var y=0;y<d.length;y++){var S=d[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(f,S.key,S)}}function s(f,d,y){return d&&i(f.prototype,d),y&&i(f,y),f}var o=Tn,a=o.Buffer,c=Bl,l=c.inspect,u=l&&l.custom||"inspect";function h(f,d,y){a.prototype.copy.call(f,d,y)}return No=function(){function f(){n(this,f),this.head=null,this.tail=null,this.length=0}return s(f,[{key:"push",value:function(y){var S={data:y,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(y){var S={data:y,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var y=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,y}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(y){if(this.length===0)return"";for(var S=this.head,E=""+S.data;S=S.next;)E+=y+S.data;return E}},{key:"concat",value:function(y){if(this.length===0)return a.alloc(0);for(var S=a.allocUnsafe(y>>>0),E=this.head,g=0;E;)h(E.data,S,g),g+=E.data.length,E=E.next;return S}},{key:"consume",value:function(y,S){var E;return y<this.head.data.length?(E=this.head.data.slice(0,y),this.head.data=this.head.data.slice(y)):y===this.head.data.length?E=this.shift():E=S?this._getString(y):this._getBuffer(y),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(y){var S=this.head,E=1,g=S.data;for(y-=g.length;S=S.next;){var v=S.data,w=y>v.length?v.length:y;if(w===v.length?g+=v:g+=v.slice(0,y),y-=w,y===0){w===v.length?(++E,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=v.slice(w));break}++E}return this.length-=E,g}},{key:"_getBuffer",value:function(y){var S=a.allocUnsafe(y),E=this.head,g=1;for(E.data.copy(S),y-=E.data.length;E=E.next;){var v=E.data,w=y>v.length?v.length:y;if(v.copy(S,S.length-y,0,w),y-=w,y===0){w===v.length?(++g,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=v.slice(w));break}++g}return this.length-=g,S}},{key:u,value:function(y,S){return l(this,e({},S,{depth:0,customInspect:!1}))}}]),f}(),No}function M0(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(ga,this,t)):process.nextTick(ga,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(bi,r):(r._writableState.errorEmitted=!0,process.nextTick(Gc,r,s)):process.nextTick(Gc,r,s):e?(process.nextTick(bi,r),e(s)):process.nextTick(bi,r)}),this)}function Gc(t,e){ga(t,e),bi(t)}function bi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function T0(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ga(t,e){t.emit("error",e)}function N0(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var uh={destroy:M0,undestroy:T0,errorOrDestroy:N0},br={};function O0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var lh={};function nt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){O0(o,s);function o(a,c,l){return s.call(this,n(a,c,l))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,lh[t]=i}function Jc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function L0(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function D0(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function j0(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}nt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);nt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&L0(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(D0(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Jc(e,"type"));else{var s=j0(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Jc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);nt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");nt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});nt("ERR_STREAM_PREMATURE_CLOSE","Premature close");nt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});nt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");nt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");nt("ERR_STREAM_WRITE_AFTER_END","write after end");nt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);nt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);nt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");br.codes=lh;var P0=br.codes.ERR_INVALID_OPT_VALUE;function $0(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function B0(t,e,r,n){var i=$0(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new P0(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var hh={getHighWaterMark:B0},F0=H0;function H0(t,e){if(Oo("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Oo("throwDeprecation"))throw new Error(e);Oo("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Oo(t){try{if(!B.localStorage)return!1}catch{return!1}var e=B.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Lo,Zc;function fh(){if(Zc)return Lo;Zc=1,Lo=j;function t(m){var _=this;this.next=null,this.entry=null,this.finish=function(){Pe(_,m)}}var e;j.WritableState=N;var r={deprecate:F0},n=ch,i=Tn.Buffer,s=B.Uint8Array||function(){};function o(m){return i.from(m)}function a(m){return i.isBuffer(m)||m instanceof s}var c=uh,l=hh,u=l.getHighWaterMark,h=br.codes,f=h.ERR_INVALID_ARG_TYPE,d=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,S=h.ERR_STREAM_CANNOT_PIPE,E=h.ERR_STREAM_DESTROYED,g=h.ERR_STREAM_NULL_VALUES,v=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,C=c.errorOrDestroy;ht(j,n);function x(){}function N(m,_,A){e=e||Pr(),m=m||{},typeof A!="boolean"&&(A=_ instanceof e),this.objectMode=!!m.objectMode,A&&(this.objectMode=this.objectMode||!!m.writableObjectMode),this.highWaterMark=u(this,m,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var V=m.decodeStrings===!1;this.decodeStrings=!V,this.defaultEncoding=m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){$(_,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}N.prototype.getBuffer=function(){for(var _=this.bufferedRequest,A=[];_;)A.push(_),_=_.next;return A},function(){try{Object.defineProperty(N.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(z=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(_){return z.call(this,_)?!0:this!==j?!1:_&&_._writableState instanceof N}})):z=function(_){return _ instanceof this};function j(m){e=e||Pr();var _=this instanceof e;if(!_&&!z.call(j,this))return new j(m);this._writableState=new N(m,this,_),this.writable=!0,m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final)),n.call(this)}j.prototype.pipe=function(){C(this,new S)};function T(m,_){var A=new v;C(m,A),process.nextTick(_,A)}function te(m,_,A,V){var X;return A===null?X=new g:typeof A!="string"&&!_.objectMode&&(X=new f("chunk",["string","Buffer"],A)),X?(C(m,X),process.nextTick(V,X),!1):!0}j.prototype.write=function(m,_,A){var V=this._writableState,X=!1,p=!V.objectMode&&a(m);return p&&!i.isBuffer(m)&&(m=o(m)),typeof _=="function"&&(A=_,_=null),p?_="buffer":_||(_=V.defaultEncoding),typeof A!="function"&&(A=x),V.ending?T(this,A):(p||te(this,V,m,A))&&(V.pendingcb++,X=se(this,V,p,m,_,A)),X},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var m=this._writableState;m.corked&&(m.corked--,!m.writing&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&H(this,m))},j.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new w(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function he(m,_,A){return!m.objectMode&&m.decodeStrings!==!1&&typeof _=="string"&&(_=i.from(_,A)),_}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function se(m,_,A,V,X,p){if(!A){var b=he(_,V,X);V!==b&&(A=!0,X="buffer",V=b)}var R=_.objectMode?1:V.length;_.length+=R;var O=_.length<_.highWaterMark;if(O||(_.needDrain=!0),_.writing||_.corked){var fe=_.lastBufferedRequest;_.lastBufferedRequest={chunk:V,encoding:X,isBuf:A,callback:p,next:null},fe?fe.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else M(m,_,!1,R,V,X,p);return O}function M(m,_,A,V,X,p,b){_.writelen=V,_.writecb=b,_.writing=!0,_.sync=!0,_.destroyed?_.onwrite(new E("write")):A?m._writev(X,_.onwrite):m._write(X,p,_.onwrite),_.sync=!1}function k(m,_,A,V,X){--_.pendingcb,A?(process.nextTick(X,V),process.nextTick(le,m,_),m._writableState.errorEmitted=!0,C(m,V)):(X(V),m._writableState.errorEmitted=!0,C(m,V),le(m,_))}function D(m){m.writing=!1,m.writecb=null,m.length-=m.writelen,m.writelen=0}function $(m,_){var A=m._writableState,V=A.sync,X=A.writecb;if(typeof X!="function")throw new y;if(D(A),_)k(m,A,V,_,X);else{var p=Z(A)||m.destroyed;!p&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&H(m,A),V?process.nextTick(P,m,A,p,X):P(m,A,p,X)}}function P(m,_,A,V){A||L(m,_),_.pendingcb--,V(),le(m,_)}function L(m,_){_.length===0&&_.needDrain&&(_.needDrain=!1,m.emit("drain"))}function H(m,_){_.bufferProcessing=!0;var A=_.bufferedRequest;if(m._writev&&A&&A.next){var V=_.bufferedRequestCount,X=new Array(V),p=_.corkedRequestsFree;p.entry=A;for(var b=0,R=!0;A;)X[b]=A,A.isBuf||(R=!1),A=A.next,b+=1;X.allBuffers=R,M(m,_,!0,_.length,X,"",p.finish),_.pendingcb++,_.lastBufferedRequest=null,p.next?(_.corkedRequestsFree=p.next,p.next=null):_.corkedRequestsFree=new t(_),_.bufferedRequestCount=0}else{for(;A;){var O=A.chunk,fe=A.encoding,Q=A.callback,ue=_.objectMode?1:O.length;if(M(m,_,!1,ue,O,fe,Q),A=A.next,_.bufferedRequestCount--,_.writing)break}A===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=A,_.bufferProcessing=!1}j.prototype._write=function(m,_,A){A(new d("_write()"))},j.prototype._writev=null,j.prototype.end=function(m,_,A){var V=this._writableState;return typeof m=="function"?(A=m,m=null,_=null):typeof _=="function"&&(A=_,_=null),m!=null&&this.write(m,_),V.corked&&(V.corked=1,this.uncork()),V.ending||ce(this,V,A),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Z(m){return m.ending&&m.length===0&&m.bufferedRequest===null&&!m.finished&&!m.writing}function q(m,_){m._final(function(A){_.pendingcb--,A&&C(m,A),_.prefinished=!0,m.emit("prefinish"),le(m,_)})}function ne(m,_){!_.prefinished&&!_.finalCalled&&(typeof m._final=="function"&&!_.destroyed?(_.pendingcb++,_.finalCalled=!0,process.nextTick(q,m,_)):(_.prefinished=!0,m.emit("prefinish")))}function le(m,_){var A=Z(_);if(A&&(ne(m,_),_.pendingcb===0&&(_.finished=!0,m.emit("finish"),_.autoDestroy))){var V=m._readableState;(!V||V.autoDestroy&&V.endEmitted)&&m.destroy()}return A}function ce(m,_,A){_.ending=!0,le(m,_),A&&(_.finished?process.nextTick(A):m.once("finish",A)),_.ended=!0,m.writable=!1}function Pe(m,_,A){var V=m.entry;for(m.entry=null;V;){var X=V.callback;_.pendingcb--,X(A),V=V.next}_.corkedRequestsFree.next=m}return Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),j.prototype.destroy=c.destroy,j.prototype._undestroy=c.undestroy,j.prototype._destroy=function(m,_){_(m)},Lo}var Do,Qc;function Pr(){if(Qc)return Do;Qc=1;var t=Object.keys||function(l){var u=[];for(var h in l)u.push(h);return u};Do=o;var e=ph(),r=fh();ht(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),r.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Do}var jo={},pn={},W0={get exports(){return pn},set exports(t){pn=t}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Yc;function V0(){return Yc||(Yc=1,function(t,e){var r=Tn,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(W0,pn)),pn}var Kc;function Xc(){if(Kc)return jo;Kc=1;var t=V0().Buffer,e=t.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(g){if(!g)return"utf8";for(var v;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(v)return;g=(""+g).toLowerCase(),v=!0}}function n(g){var v=r(g);if(typeof v!="string"&&(t.isEncoding===e||!e(g)))throw new Error("Unknown encoding: "+g);return v||g}jo.StringDecoder=i;function i(g){this.encoding=n(g);var v;switch(this.encoding){case"utf16le":this.text=h,this.end=f,v=4;break;case"utf8":this.fillLast=c,v=4;break;case"base64":this.text=d,this.end=y,v=3;break;default:this.write=S,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(v)}i.prototype.write=function(g){if(g.length===0)return"";var v,w;if(this.lastNeed){if(v=this.fillLast(g),v===void 0)return"";w=this.lastNeed,this.lastNeed=0}else w=0;return w<g.length?v?v+this.text(g,w):this.text(g,w):v||""},i.prototype.end=u,i.prototype.text=l,i.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function s(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function o(g,v,w){var C=v.length-1;if(C<w)return 0;var x=s(v[C]);return x>=0?(x>0&&(g.lastNeed=x-1),x):--C<w||x===-2?0:(x=s(v[C]),x>=0?(x>0&&(g.lastNeed=x-2),x):--C<w||x===-2?0:(x=s(v[C]),x>=0?(x>0&&(x===2?x=0:g.lastNeed=x-3),x):0))}function a(g,v,w){if((v[0]&192)!==128)return g.lastNeed=0,"";if(g.lastNeed>1&&v.length>1){if((v[1]&192)!==128)return g.lastNeed=1,"";if(g.lastNeed>2&&v.length>2&&(v[2]&192)!==128)return g.lastNeed=2,""}}function c(g){var v=this.lastTotal-this.lastNeed,w=a(this,g);if(w!==void 0)return w;if(this.lastNeed<=g.length)return g.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,v,0,g.length),this.lastNeed-=g.length}function l(g,v){var w=o(this,g,v);if(!this.lastNeed)return g.toString("utf8",v);this.lastTotal=w;var C=g.length-(w-this.lastNeed);return g.copy(this.lastChar,0,C),g.toString("utf8",v,C)}function u(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+"":v}function h(g,v){if((g.length-v)%2===0){var w=g.toString("utf16le",v);if(w){var C=w.charCodeAt(w.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],w.slice(0,-1)}return w}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",v,g.length-1)}function f(g){var v=g&&g.length?this.write(g):"";if(this.lastNeed){var w=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,w)}return v}function d(g,v){var w=(g.length-v)%3;return w===0?g.toString("base64",v):(this.lastNeed=3-w,this.lastTotal=3,w===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",v,g.length-w))}function y(g){var v=g&&g.length?this.write(g):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function S(g){return g.toString(this.encoding)}function E(g){return g&&g.length?this.write(g):""}return jo}var eu=br.codes.ERR_STREAM_PREMATURE_CLOSE;function U0(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function z0(){}function q0(t){return t.setHeader&&typeof t.abort=="function"}function dh(t,e,r){if(typeof e=="function")return dh(t,null,e);e||(e={}),r=U0(r||z0);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,l=function(){n=!1,c=!0,i||r.call(t)},u=function(y){r.call(t,y)},h=function(){var y;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(y=new eu),r.call(t,y);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(y=new eu),r.call(t,y)},f=function(){t.req.on("finish",a)};return q0(t)?(t.on("complete",a),t.on("abort",h),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",l),t.on("finish",a),e.error!==!1&&t.on("error",u),t.on("close",h),function(){t.removeListener("complete",a),t.removeListener("abort",h),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",l),t.removeListener("error",u),t.removeListener("close",h)}}var ja=dh,Po,tu;function G0(){if(tu)return Po;tu=1;var t;function e(g,v,w){return v in g?Object.defineProperty(g,v,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[v]=w,g}var r=ja,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),c=Symbol("handlePromise"),l=Symbol("stream");function u(g,v){return{value:g,done:v}}function h(g){var v=g[n];if(v!==null){var w=g[l].read();w!==null&&(g[a]=null,g[n]=null,g[i]=null,v(u(w,!1)))}}function f(g){process.nextTick(h,g)}function d(g,v){return function(w,C){g.then(function(){if(v[o]){w(u(void 0,!0));return}v[c](w,C)},C)}}var y=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var v=this,w=this[s];if(w!==null)return Promise.reject(w);if(this[o])return Promise.resolve(u(void 0,!0));if(this[l].destroyed)return new Promise(function(z,j){process.nextTick(function(){v[s]?j(v[s]):z(u(void 0,!0))})});var C=this[a],x;if(C)x=new Promise(d(C,this));else{var N=this[l].read();if(N!==null)return Promise.resolve(u(N,!1));x=new Promise(this[c])}return this[a]=x,x}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var v=this;return new Promise(function(w,C){v[l].destroy(null,function(x){if(x){C(x);return}w(u(void 0,!0))})})}),t),y),E=function(v){var w,C=Object.create(S,(w={},e(w,l,{value:v,writable:!0}),e(w,n,{value:null,writable:!0}),e(w,i,{value:null,writable:!0}),e(w,s,{value:null,writable:!0}),e(w,o,{value:v._readableState.endEmitted,writable:!0}),e(w,c,{value:function(N,z){var j=C[l].read();j?(C[a]=null,C[n]=null,C[i]=null,N(u(j,!1))):(C[n]=N,C[i]=z)},writable:!0}),w));return C[a]=null,r(v,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N=C[i];N!==null&&(C[a]=null,C[n]=null,C[i]=null,N(x)),C[s]=x;return}var z=C[n];z!==null&&(C[a]=null,C[n]=null,C[i]=null,z(u(void 0,!0))),C[o]=!0}),v.on("readable",f.bind(null,C)),C};return Po=E,Po}var $o,ru;function J0(){return ru||(ru=1,$o=function(){throw new Error("Readable.from is not available in the browser")}),$o}var Bo,nu;function ph(){if(nu)return Bo;nu=1,Bo=T;var t;T.ReadableState=j,Ma.EventEmitter;var e=function(b,R){return b.listeners(R).length},r=ch,n=Tn.Buffer,i=B.Uint8Array||function(){};function s(p){return n.from(p)}function o(p){return n.isBuffer(p)||p instanceof i}var a=Bl,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var l=A0(),u=uh,h=hh,f=h.getHighWaterMark,d=br.codes,y=d.ERR_INVALID_ARG_TYPE,S=d.ERR_STREAM_PUSH_AFTER_EOF,E=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v,w,C;ht(T,r);var x=u.errorOrDestroy,N=["error","close","destroy","pause","resume"];function z(p,b,R){if(typeof p.prependListener=="function")return p.prependListener(b,R);!p._events||!p._events[b]?p.on(b,R):Array.isArray(p._events[b])?p._events[b].unshift(R):p._events[b]=[R,p._events[b]]}function j(p,b,R){t=t||Pr(),p=p||{},typeof R!="boolean"&&(R=b instanceof t),this.objectMode=!!p.objectMode,R&&(this.objectMode=this.objectMode||!!p.readableObjectMode),this.highWaterMark=f(this,p,"readableHighWaterMark",R),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=p.emitClose!==!1,this.autoDestroy=!!p.autoDestroy,this.destroyed=!1,this.defaultEncoding=p.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,p.encoding&&(v||(v=Xc().StringDecoder),this.decoder=new v(p.encoding),this.encoding=p.encoding)}function T(p){if(t=t||Pr(),!(this instanceof T))return new T(p);var b=this instanceof t;this._readableState=new j(p,this,b),this.readable=!0,p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}}),T.prototype.destroy=u.destroy,T.prototype._undestroy=u.undestroy,T.prototype._destroy=function(p,b){b(p)},T.prototype.push=function(p,b){var R=this._readableState,O;return R.objectMode?O=!0:typeof p=="string"&&(b=b||R.defaultEncoding,b!==R.encoding&&(p=n.from(p,b),b=""),O=!0),te(this,p,b,!1,O)},T.prototype.unshift=function(p){return te(this,p,null,!0,!1)};function te(p,b,R,O,fe){c("readableAddChunk",b);var Q=p._readableState;if(b===null)Q.reading=!1,$(p,Q);else{var ue;if(fe||(ue=se(Q,b)),ue)x(p,ue);else if(Q.objectMode||b&&b.length>0)if(typeof b!="string"&&!Q.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=s(b)),O)Q.endEmitted?x(p,new g):he(p,Q,b,!0);else if(Q.ended)x(p,new S);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!R?(b=Q.decoder.write(b),Q.objectMode||b.length!==0?he(p,Q,b,!1):H(p,Q)):he(p,Q,b,!1)}else O||(Q.reading=!1,H(p,Q))}return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function he(p,b,R,O){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,p.emit("data",R)):(b.length+=b.objectMode?1:R.length,O?b.buffer.unshift(R):b.buffer.push(R),b.needReadable&&P(p)),H(p,b)}function se(p,b){var R;return!o(b)&&typeof b!="string"&&b!==void 0&&!p.objectMode&&(R=new y("chunk",["string","Buffer","Uint8Array"],b)),R}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(p){v||(v=Xc().StringDecoder);var b=new v(p);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var R=this._readableState.buffer.head,O="";R!==null;)O+=b.write(R.data),R=R.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var M=1073741824;function k(p){return p>=M?p=M:(p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++),p}function D(p,b){return p<=0||b.length===0&&b.ended?0:b.objectMode?1:p!==p?b.flowing&&b.length?b.buffer.head.data.length:b.length:(p>b.highWaterMark&&(b.highWaterMark=k(p)),p<=b.length?p:b.ended?b.length:(b.needReadable=!0,0))}T.prototype.read=function(p){c("read",p),p=parseInt(p,10);var b=this._readableState,R=p;if(p!==0&&(b.emittedReadable=!1),p===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return c("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?A(this):P(this),null;if(p=D(p,b),p===0&&b.ended)return b.length===0&&A(this),null;var O=b.needReadable;c("need readable",O),(b.length===0||b.length-p<b.highWaterMark)&&(O=!0,c("length less than watermark",O)),b.ended||b.reading?(O=!1,c("reading or ended",O)):O&&(c("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(p=D(R,b)));var fe;return p>0?fe=_(p,b):fe=null,fe===null?(b.needReadable=b.length<=b.highWaterMark,p=0):(b.length-=p,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),R!==p&&b.ended&&A(this)),fe!==null&&this.emit("data",fe),fe};function $(p,b){if(c("onEofChunk"),!b.ended){if(b.decoder){var R=b.decoder.end();R&&R.length&&(b.buffer.push(R),b.length+=b.objectMode?1:R.length)}b.ended=!0,b.sync?P(p):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,L(p)))}}function P(p){var b=p._readableState;c("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(c("emitReadable",b.flowing),b.emittedReadable=!0,process.nextTick(L,p))}function L(p){var b=p._readableState;c("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(p.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,m(p)}function H(p,b){b.readingMore||(b.readingMore=!0,process.nextTick(Z,p,b))}function Z(p,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var R=b.length;if(c("maybeReadMore read 0"),p.read(0),R===b.length)break}b.readingMore=!1}T.prototype._read=function(p){x(this,new E("_read()"))},T.prototype.pipe=function(p,b){var R=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=p;break;case 1:O.pipes=[O.pipes,p];break;default:O.pipes.push(p);break}O.pipesCount+=1,c("pipe count=%d opts=%j",O.pipesCount,b);var fe=(!b||b.end!==!1)&&p!==process.stdout&&p!==process.stderr,Q=fe?Rt:$t;O.endEmitted?process.nextTick(Q):R.once("end",Q),p.on("unpipe",ue);function ue(kt,pt){c("onunpipe"),kt===R&&pt&&pt.hasUnpiped===!1&&(pt.hasUnpiped=!0,ri())}function Rt(){c("onend"),p.end()}var Yt=q(R);p.on("drain",Yt);var on=!1;function ri(){c("cleanup"),p.removeListener("close",wr),p.removeListener("finish",Sr),p.removeListener("drain",Yt),p.removeListener("error",_r),p.removeListener("unpipe",ue),R.removeListener("end",Rt),R.removeListener("end",$t),R.removeListener("data",an),on=!0,O.awaitDrain&&(!p._writableState||p._writableState.needDrain)&&Yt()}R.on("data",an);function an(kt){c("ondata");var pt=p.write(kt);c("dest.write",pt),pt===!1&&((O.pipesCount===1&&O.pipes===p||O.pipesCount>1&&X(O.pipes,p)!==-1)&&!on&&(c("false write response, pause",O.awaitDrain),O.awaitDrain++),R.pause())}function _r(kt){c("onerror",kt),$t(),p.removeListener("error",_r),e(p,"error")===0&&x(p,kt)}z(p,"error",_r);function wr(){p.removeListener("finish",Sr),$t()}p.once("close",wr);function Sr(){c("onfinish"),p.removeListener("close",wr),$t()}p.once("finish",Sr);function $t(){c("unpipe"),R.unpipe(p)}return p.emit("pipe",R),O.flowing||(c("pipe resume"),R.resume()),p};function q(p){return function(){var R=p._readableState;c("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&e(p,"data")&&(R.flowing=!0,m(p))}}T.prototype.unpipe=function(p){var b=this._readableState,R={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return p&&p!==b.pipes?this:(p||(p=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,p&&p.emit("unpipe",this,R),this);if(!p){var O=b.pipes,fe=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var Q=0;Q<fe;Q++)O[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var ue=X(b.pipes,p);return ue===-1?this:(b.pipes.splice(ue,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),p.emit("unpipe",this,R),this)},T.prototype.on=function(p,b){var R=r.prototype.on.call(this,p,b),O=this._readableState;return p==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):p==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,c("on readable",O.length,O.reading),O.length?P(this):O.reading||process.nextTick(le,this)),R},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(p,b){var R=r.prototype.removeListener.call(this,p,b);return p==="readable"&&process.nextTick(ne,this),R},T.prototype.removeAllListeners=function(p){var b=r.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&process.nextTick(ne,this),b};function ne(p){var b=p._readableState;b.readableListening=p.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:p.listenerCount("data")>0&&p.resume()}function le(p){c("readable nexttick read 0"),p.read(0)}T.prototype.resume=function(){var p=this._readableState;return p.flowing||(c("resume"),p.flowing=!p.readableListening,ce(this,p)),p.paused=!1,this};function ce(p,b){b.resumeScheduled||(b.resumeScheduled=!0,process.nextTick(Pe,p,b))}function Pe(p,b){c("resume",b.reading),b.reading||p.read(0),b.resumeScheduled=!1,p.emit("resume"),m(p),b.flowing&&!b.reading&&p.read(0)}T.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function m(p){var b=p._readableState;for(c("flow",b.flowing);b.flowing&&p.read()!==null;);}T.prototype.wrap=function(p){var b=this,R=this._readableState,O=!1;p.on("end",function(){if(c("wrapped end"),R.decoder&&!R.ended){var ue=R.decoder.end();ue&&ue.length&&b.push(ue)}b.push(null)}),p.on("data",function(ue){if(c("wrapped data"),R.decoder&&(ue=R.decoder.write(ue)),!(R.objectMode&&ue==null)&&!(!R.objectMode&&(!ue||!ue.length))){var Rt=b.push(ue);Rt||(O=!0,p.pause())}});for(var fe in p)this[fe]===void 0&&typeof p[fe]=="function"&&(this[fe]=function(Rt){return function(){return p[Rt].apply(p,arguments)}}(fe));for(var Q=0;Q<N.length;Q++)p.on(N[Q],this.emit.bind(this,N[Q]));return this._read=function(ue){c("wrapped _read",ue),O&&(O=!1,p.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return w===void 0&&(w=G0()),w(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),T._fromList=_,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function _(p,b){if(b.length===0)return null;var R;return b.objectMode?R=b.buffer.shift():!p||p>=b.length?(b.decoder?R=b.buffer.join(""):b.buffer.length===1?R=b.buffer.first():R=b.buffer.concat(b.length),b.buffer.clear()):R=b.buffer.consume(p,b.decoder),R}function A(p){var b=p._readableState;c("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,process.nextTick(V,b,p))}function V(p,b){if(c("endReadableNT",p.endEmitted,p.length),!p.endEmitted&&p.length===0&&(p.endEmitted=!0,b.readable=!1,b.emit("end"),p.autoDestroy)){var R=b._writableState;(!R||R.autoDestroy&&R.finished)&&b.destroy()}}typeof Symbol=="function"&&(T.from=function(p,b){return C===void 0&&(C=J0()),C(T,p,b)});function X(p,b){for(var R=0,O=p.length;R<O;R++)if(p[R]===b)return R;return-1}return Bo}var bh=Lt,Hi=br.codes,Z0=Hi.ERR_METHOD_NOT_IMPLEMENTED,Q0=Hi.ERR_MULTIPLE_CALLBACK,Y0=Hi.ERR_TRANSFORM_ALREADY_TRANSFORMING,K0=Hi.ERR_TRANSFORM_WITH_LENGTH_0,Wi=Pr();ht(Lt,Wi);function X0(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Q0);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Lt(t){if(!(this instanceof Lt))return new Lt(t);Wi.call(this,t),this._transformState={afterTransform:X0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",eb)}function eb(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){iu(t,e,r)}):iu(this,null,null)}Lt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Wi.prototype.push.call(this,t,e)};Lt.prototype._transform=function(t,e,r){r(new Z0("_transform()"))};Lt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Lt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Lt.prototype._destroy=function(t,e){Wi.prototype._destroy.call(this,t,function(r){e(r)})};function iu(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new K0;if(t._transformState.transforming)throw new Y0;return t.push(null)}var tb=Cn,gh=bh;ht(Cn,gh);function Cn(t){if(!(this instanceof Cn))return new Cn(t);gh.call(this,t)}Cn.prototype._transform=function(t,e,r){r(null,t)};var Fo;function rb(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var vh=br.codes,nb=vh.ERR_MISSING_ARGS,ib=vh.ERR_STREAM_DESTROYED;function su(t){if(t)throw t}function sb(t){return t.setHeader&&typeof t.abort=="function"}function ob(t,e,r,n){n=rb(n);var i=!1;t.on("close",function(){i=!0}),Fo===void 0&&(Fo=ja),Fo(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,sb(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new ib("pipe"))}}}function ou(t){t()}function ab(t,e){return t.pipe(e)}function cb(t){return!t.length||typeof t[t.length-1]!="function"?su:t.pop()}function ub(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=cb(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new nb("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,l=a>0;return ob(o,c,l,function(u){i||(i=u),u&&s.forEach(ou),!c&&(s.forEach(ou),n(i))})});return e.reduce(ab)}var lb=ub;(function(t,e){e=t.exports=ph(),e.Stream=e,e.Readable=e,e.Writable=fh(),e.Duplex=Pr(),e.Transform=bh,e.PassThrough=tb,e.finished=ja,e.pipeline=lb})(k0,En);const{Transform:hb}=En;var fb=t=>class yh extends hb{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new yh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:db}=En;var pb=t=>class mh extends db{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new mh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const bb=fb,gb=pb;var vb=function(t){const e=bb(t),r=gb(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},_h={};const au=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];_h.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],u=t[8]^t[18]^t[28]^t[38]^t[48],h=t[9]^t[19]^t[29]^t[39]^t[49];let f=u^(i<<1|s>>>31),d=h^(s<<1|i>>>31);const y=t[0]^f,S=t[1]^d,E=t[10]^f,g=t[11]^d,v=t[20]^f,w=t[21]^d,C=t[30]^f,x=t[31]^d,N=t[40]^f,z=t[41]^d;f=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const j=t[2]^f,T=t[3]^d,te=t[12]^f,he=t[13]^d,se=t[22]^f,M=t[23]^d,k=t[32]^f,D=t[33]^d,$=t[42]^f,P=t[43]^d;f=i^(c<<1|l>>>31),d=s^(l<<1|c>>>31);const L=t[4]^f,H=t[5]^d,Z=t[14]^f,q=t[15]^d,ne=t[24]^f,le=t[25]^d,ce=t[34]^f,Pe=t[35]^d,m=t[44]^f,_=t[45]^d;f=o^(u<<1|h>>>31),d=a^(h<<1|u>>>31);const A=t[6]^f,V=t[7]^d,X=t[16]^f,p=t[17]^d,b=t[26]^f,R=t[27]^d,O=t[36]^f,fe=t[37]^d,Q=t[46]^f,ue=t[47]^d;f=c^(r<<1|n>>>31),d=l^(n<<1|r>>>31);const Rt=t[8]^f,Yt=t[9]^d,on=t[18]^f,ri=t[19]^d,an=t[28]^f,_r=t[29]^d,wr=t[38]^f,Sr=t[39]^d,$t=t[48]^f,kt=t[49]^d,pt=y,js=S,Ps=g<<4|E>>>28,$s=E<<4|g>>>28,Bs=v<<3|w>>>29,Fs=w<<3|v>>>29,Hs=x<<9|C>>>23,Ws=C<<9|x>>>23,Vs=N<<18|z>>>14,Us=z<<18|N>>>14,zs=j<<1|T>>>31,qs=T<<1|j>>>31,Gs=he<<12|te>>>20,Js=te<<12|he>>>20,Zs=se<<10|M>>>22,Qs=M<<10|se>>>22,Ys=D<<13|k>>>19,Ks=k<<13|D>>>19,Xs=$<<2|P>>>30,eo=P<<2|$>>>30,to=H<<30|L>>>2,ro=L<<30|H>>>2,no=Z<<6|q>>>26,io=q<<6|Z>>>26,so=le<<11|ne>>>21,oo=ne<<11|le>>>21,ao=ce<<15|Pe>>>17,co=Pe<<15|ce>>>17,uo=_<<29|m>>>3,lo=m<<29|_>>>3,ho=A<<28|V>>>4,fo=V<<28|A>>>4,po=p<<23|X>>>9,bo=X<<23|p>>>9,go=b<<25|R>>>7,vo=R<<25|b>>>7,yo=O<<21|fe>>>11,mo=fe<<21|O>>>11,_o=ue<<24|Q>>>8,wo=Q<<24|ue>>>8,So=Rt<<27|Yt>>>5,Eo=Yt<<27|Rt>>>5,Co=on<<20|ri>>>12,xo=ri<<20|on>>>12,Io=_r<<7|an>>>25,Ro=an<<7|_r>>>25,ko=wr<<8|Sr>>>24,Ao=Sr<<8|wr>>>24,Mo=$t<<14|kt>>>18,To=kt<<14|$t>>>18;t[0]=pt^~Gs&so,t[1]=js^~Js&oo,t[10]=ho^~Co&Bs,t[11]=fo^~xo&Fs,t[20]=zs^~no&go,t[21]=qs^~io&vo,t[30]=So^~Ps&Zs,t[31]=Eo^~$s&Qs,t[40]=to^~po&Io,t[41]=ro^~bo&Ro,t[2]=Gs^~so&yo,t[3]=Js^~oo&mo,t[12]=Co^~Bs&Ys,t[13]=xo^~Fs&Ks,t[22]=no^~go&ko,t[23]=io^~vo&Ao,t[32]=Ps^~Zs&ao,t[33]=$s^~Qs&co,t[42]=po^~Io&Hs,t[43]=bo^~Ro&Ws,t[4]=so^~yo&Mo,t[5]=oo^~mo&To,t[14]=Bs^~Ys&uo,t[15]=Fs^~Ks&lo,t[24]=go^~ko&Vs,t[25]=vo^~Ao&Us,t[34]=Zs^~ao&_o,t[35]=Qs^~co&wo,t[44]=Io^~Hs&Xs,t[45]=Ro^~Ws&eo,t[6]=yo^~Mo&pt,t[7]=mo^~To&js,t[16]=Ys^~uo&ho,t[17]=Ks^~lo&fo,t[26]=ko^~Vs&zs,t[27]=Ao^~Us&qs,t[36]=ao^~_o&So,t[37]=co^~wo&Eo,t[46]=Hs^~Xs&to,t[47]=Ws^~eo&ro,t[8]=Mo^~pt&Gs,t[9]=To^~js&Js,t[18]=uo^~ho&Co,t[19]=lo^~fo&xo,t[28]=Vs^~zs&no,t[29]=Us^~qs&io,t[38]=_o^~So&Ps,t[39]=wo^~Eo&$s,t[48]=Xs^~to&po,t[49]=eo^~ro&bo,t[0]^=au[e*2],t[1]^=au[e*2+1]}};const wi=_h;function Yr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Yr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Yr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(wi.p1600(this.state),this.count=0)};Yr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&wi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),wi.p1600(this.state),this.count=0,this.squeezing=!0};Yr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(wi.p1600(this.state),this.count=0);return e};Yr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var yb=Yr,mb=vb(yb);const _b=mb,wb=Oi;function wh(t){return Buffer.allocUnsafe(t).fill(0)}function Sh(t,e,r){const n=wh(e);return t=Vi(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Sb(t,e){return Sh(t,e,!0)}function Vi(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Eh(t)?t=Buffer.from(xb(Ch(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(wb.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Eb(t){return t=Vi(t),"0x"+t.toString("hex")}function Cb(t,e){return t=Vi(t),e||(e=256),_b("keccak"+e).update(t).digest()}function xb(t){return t.length%2?"0"+t:t}function Eh(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ch(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var xh={zeros:wh,setLength:Sh,setLengthRight:Sb,isHexString:Eh,stripHexPrefix:Ch,toBuffer:Vi,bufferToHex:Eb,keccak:Cb};const cr=xh,sr=Oi;function Ih(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Tr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function cu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Rh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function tr(t){var e=typeof t;if(e==="string")return cr.isHexString(t)?new sr(cr.stripHexPrefix(t),16):new sr(t,10);if(e==="number")return new sr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function yt(t,e){var r,n,i,s;if(t==="address")return yt("uint160",tr(e));if(t==="bool")return yt("uint8",e?1:0);if(t==="string")return yt("bytes",new Buffer(e,"utf8"));if(Rb(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Rh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(yt(t,e[s]));if(r==="dynamic"){var o=yt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([yt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,cr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Tr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return cr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Tr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=tr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Tr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=tr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=cu(t),n=tr(e),n<0)throw new Error("Supplied ufixed is negative");return yt("uint256",n.mul(new sr(2).pow(new sr(r[1]))))}else if(t.startsWith("fixed"))return r=cu(t),yt("int256",tr(e).mul(new sr(2).pow(new sr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Ib(t){return t==="string"||t==="bytes"||Rh(t)==="dynamic"}function Rb(t){return t.lastIndexOf("]")===t.length-1}function kb(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Ih(t[s]),a=e[s],c=yt(o,a);Ib(o)?(r.push(yt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function kh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Ih(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(cr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Tr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(cr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Tr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=tr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Tr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=tr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Ab(t,e){return cr.keccak(kh(t,e))}var Mb={rawEncode:kb,solidityPack:kh,soliditySHA3:Ab};const at=xh,bn=Mb,Ah={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Ho={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":at.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",at.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",at.keccak(l)];if(c.lastIndexOf("]")===c.length-1){const u=c.slice(0,c.lastIndexOf("[")),h=l.map(f=>o(a,u,f));return["bytes32",at.keccak(bn.rawEncode(h.map(([f])=>f),h.map(([,f])=>f)))]}return[c,l]};for(const a of r[t]){const[c,l]=o(a.name,a.type,e[a.name]);i.push(c),s.push(l)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=at.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=at.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=at.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return bn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return at.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return at.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Ah.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),at.keccak(Buffer.concat(n))}};var Tb={TYPED_MESSAGE_SCHEMA:Ah,TypedDataUtils:Ho,hashForSignTypedDataLegacy:function(t){return Nb(t.data)},hashForSignTypedData_v3:function(t){return Ho.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Ho.hash(t.data)}};function Nb(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?at.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return bn.soliditySHA3(["bytes32","bytes32"],[bn.soliditySHA3(new Array(t.length).fill("string"),i),bn.soliditySHA3(n,r)])}var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.filterFromParam=$r.FilterPolyfill=void 0;const Rr=Pn,Be=F,Ob=5*60*1e3,rr={jsonrpc:"2.0",id:0};class Lb{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Rr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Mh(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,Be.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,Be.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,Be.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,Be.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,Be.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ni())}async getFilterLogs(e){const r=(0,Be.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},rr),{method:"eth_getLogs",params:[uu(n)]})):ni()}makeFilterId(){return(0,Rr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return ni();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return ii();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},rr),{method:"eth_getLogs",params:[uu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(l=>(0,Be.intNumberFromHexString)(l.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const l=(0,Rr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${l}`),this.cursors.set(e,l)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return ni();const n=await this.getCurrentBlockHeight();if(r>n)return ii();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,Be.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Rr.IntNumber)(o))))).filter(o=>!!o),s=(0,Rr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},rr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(ii())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Ob);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},rr),{method:"eth_blockNumber",params:[]}));return(0,Be.intNumberFromHexString)((0,Be.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},rr),{method:"eth_getBlockByNumber",params:[(0,Be.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,Be.ensureHexString)(r.result.hash):null}}$r.FilterPolyfill=Lb;function Mh(t){return{fromBlock:lu(t.fromBlock),toBlock:lu(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}$r.filterFromParam=Mh;function uu(t){const e={fromBlock:hu(t.fromBlock),toBlock:hu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function lu(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Rr.IntNumber)(0);if((0,Be.isHexString)(t))return(0,Be.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function hu(t){return t==="latest"?t:(0,Be.hexStringFromIntNumber)(t)}function ni(){return Object.assign(Object.assign({},rr),{error:{code:-32e3,message:"filter not found"}})}function ii(){return Object.assign(Object.assign({},rr),{result:[]})}var Th={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Th);var Ui={},Nh={},zi={},Pa=Db;function Db(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const fu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let l=1;l<arguments.length;l++)c[l-1]=arguments[l];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var jb=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):fu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?fu(s,e):s}return n},Fn={},Pb=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.BaseBlockTracker=void 0;const $b=Pb(dr),Bb=1e3,Fb=(t,e)=>t+e,du=["sync","latest"];class Hb extends $b.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Bb,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){du.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return du.map(e=>this.listenerCount(e)).reduce(Fb)}_newPotentialLatest(e){const r=this._currentBlock;r&&pu(e)<=pu(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Fn.BaseBlockTracker=Hb;function pu(t){return Number.parseInt(t,16)}var Oh={},Lh={},Oe={};class Dh extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Wb(t){return rt(t)&&typeof t[Symbol.iterator]=="function"}function rt(t){return typeof t=="object"&&t!=null}function bu(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function xe(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Vb(t){const{done:e,value:r}=t.next();return e?void 0:r}function Ub(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${xe(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*va(t,e,r,n){Wb(t)||(t=[t]);for(const i of t){const s=Ub(i,e,r,n);s&&(yield s)}}function*$a(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&rt(e.schema)&&rt(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,u,h]of e.entries(t,a)){const f=$a(u,h,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,u],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(u=d[1],l===void 0?t=u:t instanceof Map?t.set(l,u):t instanceof Set?t.add(u):rt(t)&&(u!==void 0||l in t)&&(t[l]=u))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}class Se{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const u=i(c,l);return va(u,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const u=s(c,l);return va(u,l,this,c)}:this.refiner=()=>[]}assert(e,r){return jh(e,this,r)}create(e,r){return Ph(e,this,r)}is(e){return Ba(e,this)}mask(e,r){return $h(e,this,r)}validate(e,r={}){return Kr(e,this,r)}}function jh(t,e,r){const n=Kr(t,e,{message:r});if(n[0])throw n[0]}function Ph(t,e,r){const n=Kr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function $h(t,e,r){const n=Kr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Ba(t,e){return!Kr(t,e)[0]}function Kr(t,e,r={}){const n=$a(t,e,r),i=Vb(n);return i[0]?[new Dh(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function zb(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Ha(n):Hn(n)}function Ue(t,e){return new Se({type:t,schema:null,validator:e})}function qb(t,e){return new Se({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Gb(t){return new Se({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Jb(t){let e;return new Se({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function Zb(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Ha(n);default:return Hn(n)}}function Qb(t){const e=t instanceof Se?{...t.schema}:{...t};for(const r in e)e[r]=Bh(e[r]);return Hn(e)}function Yb(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return Hn(n)}function Kb(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Ue(t,e)}function Xb(){return Ue("any",()=>!0)}function eg(t){return new Se({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${xe(e)}`}})}function tg(){return Ue("bigint",t=>typeof t=="bigint")}function rg(){return Ue("boolean",t=>typeof t=="boolean")}function ng(){return Ue("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${xe(t)}`)}function ig(t){const e={},r=t.map(n=>xe(n)).join();for(const n of t)e[n]=n;return new Se({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${xe(n)}`}})}function sg(){return Ue("func",t=>typeof t=="function"||`Expected a function, but received: ${xe(t)}`)}function og(t){return Ue("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${xe(e)}`)}function ag(){return Ue("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${xe(t)}`)}function cg(t){return new Se({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function ug(t){const e=xe(t),r=typeof t;return new Se({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${xe(n)}`}})}function lg(t,e){return new Se({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${xe(r)}`}})}function Fa(){return Ue("never",()=>!1)}function hg(t){return new Se({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function fg(){return Ue("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${xe(t)}`)}function Hn(t){const e=t?Object.keys(t):[],r=Fa();return new Se({type:"object",schema:t||null,*entries(n){if(t&&rt(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return rt(n)||`Expected an object, but received: ${xe(n)}`},coercer(n){return rt(n)?{...n}:n}})}function Bh(t){return new Se({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function dg(t,e){return new Se({type:"record",schema:null,*entries(r){if(rt(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return rt(r)||`Expected an object, but received: ${xe(r)}`}})}function pg(){return Ue("regexp",t=>t instanceof RegExp)}function bg(t){return new Se({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${xe(e)}`}})}function Fh(){return Ue("string",t=>typeof t=="string"||`Expected a string, but received: ${xe(t)}`)}function gg(t){const e=Fa();return new Se({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${xe(r)}`}})}function Ha(t){const e=Object.keys(t);return new Se({type:"type",schema:t,*entries(r){if(rt(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return rt(r)||`Expected an object, but received: ${xe(r)}`},coercer(r){return rt(r)?{...r}:r}})}function vg(t){const e=t.map(r=>r.type).join(" | ");return new Se({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=$a(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${xe(r)}`,...i]}})}function Hh(){return Ue("unknown",()=>!0)}function Wa(t,e,r){return new Se({...t,coercer:(n,i)=>Ba(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function yg(t,e,r={}){return Wa(t,Hh(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&bu(n)&&bu(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function mg(t){return Wa(t,Fh(),e=>e.trim())}function _g(t){return gr(t,"empty",e=>{const r=Wh(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Wh(t){return t instanceof Map||t instanceof Set?t.size:t.length}function wg(t,e,r={}){const{exclusive:n}=r;return gr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Sg(t,e,r={}){const{exclusive:n}=r;return gr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function Eg(t){return gr(t,"nonempty",e=>Wh(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function Cg(t,e){return gr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function xg(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return gr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function gr(t,e,r){return new Se({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=va(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const Ig=Object.freeze(Object.defineProperty({__proto__:null,Struct:Se,StructError:Dh,any:Xb,array:eg,assert:jh,assign:zb,bigint:tg,boolean:rg,coerce:Wa,create:Ph,date:ng,defaulted:yg,define:Ue,deprecated:qb,dynamic:Gb,empty:_g,enums:ig,func:sg,instance:og,integer:ag,intersection:cg,is:Ba,lazy:Jb,literal:ug,map:lg,mask:$h,max:wg,min:Sg,never:Fa,nonempty:Eg,nullable:hg,number:fg,object:Hn,omit:Zb,optional:Bh,partial:Qb,pattern:Cg,pick:Yb,record:dg,refine:gr,regexp:pg,set:bg,size:xg,string:Fh,struct:Kb,trimmed:mg,tuple:gg,type:Ha,union:vg,unknown:Hh,validate:Kr},Symbol.toStringTag,{value:"Module"})),vr=fr(Ig);Object.defineProperty(Oe,"__esModule",{value:!0});Oe.assertExhaustive=Oe.assertStruct=Oe.assert=Oe.AssertionError=void 0;const Rg=vr;function kg(t){return typeof t=="object"&&t!==null&&"message"in t}function Ag(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function Mg(t){const e=kg(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Vh(t,e){return Ag(t)?new t({message:e}):t({message:e})}class Va extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Oe.AssertionError=Va;function Tg(t,e="Assertion failed.",r=Va){if(!t)throw e instanceof Error?e:Vh(r,e)}Oe.assert=Tg;function Ng(t,e,r="Assertion failed",n=Va){try{(0,Rg.assert)(t,e)}catch(i){throw Vh(n,`${r}: ${Mg(i)}.`)}}Oe.assertStruct=Ng;function Og(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Oe.assertExhaustive=Og;var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.base64=void 0;const Lg=vr,Dg=Oe,jg=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Dg.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Lg.pattern)(t,a)};Wn.base64=jg;var ie={},Vn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=vr,r=Oe;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(l){return(0,e.is)(l,t.HexStruct)}t.isHexString=n;function i(l){return(0,e.is)(l,t.StrictHexStruct)}t.isStrictHexString=i;function s(l){(0,r.assert)(n(l),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(l){(0,r.assert)(i(l),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(l){return l.startsWith("0x")?l:l.startsWith("0X")?`0x${l.substring(2)}`:`0x${l}`}t.add0x=a;function c(l){return l.startsWith("0x")||l.startsWith("0X")?l.substring(2):l}t.remove0x=c})(Vn);Object.defineProperty(ie,"__esModule",{value:!0});ie.createDataView=ie.concatBytes=ie.valueToBytes=ie.stringToBytes=ie.numberToBytes=ie.signedBigIntToBytes=ie.bigIntToBytes=ie.hexToBytes=ie.bytesToString=ie.bytesToNumber=ie.bytesToSignedBigInt=ie.bytesToBigInt=ie.bytesToHex=ie.assertIsBytes=ie.isBytes=void 0;const Ge=Oe,ya=Vn,gu=48,vu=58,yu=87;function Pg(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const $g=Pg();function Ua(t){return t instanceof Uint8Array}ie.isBytes=Ua;function Xr(t){(0,Ge.assert)(Ua(t),"Value must be a Uint8Array.")}ie.assertIsBytes=Xr;function Uh(t){if(Xr(t),t.length===0)return"0x";const e=$g(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,ya.add0x)(r.join(""))}ie.bytesToHex=Uh;function zh(t){Xr(t);const e=Uh(t);return BigInt(e)}ie.bytesToBigInt=zh;function Bg(t){Xr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ie.bytesToSignedBigInt=Bg;function Fg(t){Xr(t);const e=zh(t);return(0,Ge.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ie.bytesToNumber=Fg;function Hg(t){return Xr(t),new TextDecoder().decode(t)}ie.bytesToString=Hg;function qi(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,ya.assertIsHexString)(t);const r=(0,ya.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<vu?gu:yu),l=a-(a<vu?gu:yu);i[s]=c*16+l}return i}ie.hexToBytes=qi;function qh(t){(0,Ge.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ge.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return qi(e)}ie.bigIntToBytes=qh;function Wg(t,e){(0,Ge.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function Vg(t,e){(0,Ge.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ge.assert)(typeof e=="number","Byte length must be a number."),(0,Ge.assert)(e>0,"Byte length must be greater than 0."),(0,Ge.assert)(Wg(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ie.signedBigIntToBytes=Vg;function Gh(t){(0,Ge.assert)(typeof t=="number","Value must be a number."),(0,Ge.assert)(t>=0,"Value must be a non-negative number."),(0,Ge.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return qi(e)}ie.numberToBytes=Gh;function Jh(t){return(0,Ge.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ie.stringToBytes=Jh;function Zh(t){if(typeof t=="bigint")return qh(t);if(typeof t=="number")return Gh(t);if(typeof t=="string")return t.startsWith("0x")?qi(t):Jh(t);if(Ua(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ie.valueToBytes=Zh;function Ug(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Zh(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ie.concatBytes=Ug;function zg(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ie.createDataView=zg;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.ChecksumStruct=void 0;const mu=vr,qg=Wn;Gi.ChecksumStruct=(0,mu.size)((0,qg.base64)((0,mu.string)(),{paddingRequired:!0}),44,44);var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.createHex=wt.createBytes=wt.createBigInt=wt.createNumber=void 0;const ve=vr,Gg=Oe,Qh=ie,Ji=Vn,Yh=(0,ve.union)([(0,ve.number)(),(0,ve.bigint)(),(0,ve.string)(),Ji.StrictHexStruct]),Jg=(0,ve.coerce)((0,ve.number)(),Yh,Number),Zg=(0,ve.coerce)((0,ve.bigint)(),Yh,BigInt);(0,ve.union)([Ji.StrictHexStruct,(0,ve.instance)(Uint8Array)]);const Qg=(0,ve.coerce)((0,ve.instance)(Uint8Array),(0,ve.union)([Ji.StrictHexStruct]),Qh.hexToBytes),Yg=(0,ve.coerce)(Ji.StrictHexStruct,(0,ve.instance)(Uint8Array),Qh.bytesToHex);function Kg(t){try{const e=(0,ve.create)(t,Jg);return(0,Gg.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof ve.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}wt.createNumber=Kg;function Xg(t){try{return(0,ve.create)(t,Zg)}catch(e){throw e instanceof ve.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}wt.createBigInt=Xg;function e1(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,ve.create)(t,Qg)}catch(e){throw e instanceof ve.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}wt.createBytes=e1;function t1(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,ve.create)(t,Yg)}catch(e){throw e instanceof ve.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}wt.createHex=t1;var Br={},Kh=B&&B.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Fe=B&&B.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},st,bt;Object.defineProperty(Br,"__esModule",{value:!0});Br.FrozenSet=Br.FrozenMap=void 0;class za{constructor(e){st.set(this,void 0),Kh(this,st,new Map(e),"f"),Object.freeze(this)}get size(){return Fe(this,st,"f").size}[(st=new WeakMap,Symbol.iterator)](){return Fe(this,st,"f")[Symbol.iterator]()}entries(){return Fe(this,st,"f").entries()}forEach(e,r){return Fe(this,st,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Fe(this,st,"f").get(e)}has(e){return Fe(this,st,"f").has(e)}keys(){return Fe(this,st,"f").keys()}values(){return Fe(this,st,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Br.FrozenMap=za;class qa{constructor(e){bt.set(this,void 0),Kh(this,bt,new Set(e),"f"),Object.freeze(this)}get size(){return Fe(this,bt,"f").size}[(bt=new WeakMap,Symbol.iterator)](){return Fe(this,bt,"f")[Symbol.iterator]()}entries(){return Fe(this,bt,"f").entries()}forEach(e,r){return Fe(this,bt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Fe(this,bt,"f").has(e)}keys(){return Fe(this,bt,"f").keys()}values(){return Fe(this,bt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Br.FrozenSet=qa;Object.freeze(za);Object.freeze(za.prototype);Object.freeze(qa);Object.freeze(qa.prototype);var Xh={},Ga={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(l){return Array.isArray(l)&&l.length>0}t.isNonEmptyArray=e;function r(l){return l==null}t.isNullOrUndefined=r;function n(l){return Boolean(l)&&typeof l=="object"&&!Array.isArray(l)}t.isObject=n;const i=(l,u)=>Object.hasOwnProperty.call(l,u);t.hasProperty=i,function(l){l[l.Null=4]="Null",l[l.Comma=1]="Comma",l[l.Wrapper=1]="Wrapper",l[l.True=4]="True",l[l.False=5]="False",l[l.Quote=1]="Quote",l[l.Colon=1]="Colon",l[l.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(l){if(typeof l!="object"||l===null)return!1;try{let u=l;for(;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(l)===u}catch{return!1}}t.isPlainObject=s;function o(l){return l.charCodeAt(0)<=127}t.isASCII=o;function a(l){var u;return l.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((u=l.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&u!==void 0?u:[]).length}t.calculateStringSize=a;function c(l){return l.toString().length}t.calculateNumberSize=c})(Ga);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=vr,r=Oe,n=Ga;t.JsonStruct=(0,e.define)("Json",x=>{const[N]=C(x,!0);return N?!0:"Expected a valid JSON-serializable value"});function i(x){return(0,e.is)(x,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(x){return(0,e.is)(x,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(x,N){(0,r.assertStruct)(x,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",N)}t.assertIsJsonRpcNotification=o;function a(x){return(0,e.is)(x,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(x,N){(0,r.assertStruct)(x,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",N)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function l(x){return(0,e.is)(x,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=l;function u(x,N){(0,r.assertStruct)(x,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",N)}t.assertIsPendingJsonRpcResponse=u;function h(x){return(0,e.is)(x,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=h;function f(x,N){(0,r.assertStruct)(x,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",N)}t.assertIsJsonRpcResponse=f;function d(x){return(0,e.is)(x,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function y(x,N){(0,r.assertStruct)(x,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",N)}t.assertIsJsonRpcSuccess=y;function S(x){return(0,e.is)(x,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=S;function E(x,N){(0,r.assertStruct)(x,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",N)}t.assertIsJsonRpcFailure=E;function g(x){return(0,e.is)(x,t.JsonRpcErrorStruct)}t.isJsonRpcError=g;function v(x,N){(0,r.assertStruct)(x,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",N)}t.assertIsJsonRpcError=v;function w(x){const{permitEmptyString:N,permitFractions:z,permitNull:j}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},x);return te=>Boolean(typeof te=="number"&&(z||Number.isInteger(te))||typeof te=="string"&&(N||te.length>0)||j&&te===null)}t.getJsonRpcIdValidator=w;function C(x,N=!1){const z=new Set;function j(T,te){if(T===void 0)return[!1,0];if(T===null)return[!0,te?0:n.JsonSize.Null];const he=typeof T;try{if(he==="function")return[!1,0];if(he==="string"||T instanceof String)return[!0,te?0:(0,n.calculateStringSize)(T)+n.JsonSize.Quote*2];if(he==="boolean"||T instanceof Boolean)return te?[!0,0]:[!0,T==!0?n.JsonSize.True:n.JsonSize.False];if(he==="number"||T instanceof Number)return te?[!0,0]:[!0,(0,n.calculateNumberSize)(T)];if(T instanceof Date)return te?[!0,0]:[!0,isNaN(T.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(T)&&!Array.isArray(T))return[!1,0];if(z.has(T))return[!1,0];z.add(T);try{return[!0,Object.entries(T).reduce((se,[M,k],D,$)=>{let[P,L]=j(k,te);if(!P)throw new Error("JSON validation did not pass. Validation process stopped.");if(z.delete(T),te)return 0;const H=Array.isArray(T)?0:M.length+n.JsonSize.Comma+n.JsonSize.Colon*2,Z=D<$.length-1?n.JsonSize.Comma:0;return se+H+L+Z},te?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return j(x,N)}t.validateJsonAndGetSize=C})(Xh);var Fr={},Si={},r1={get exports(){return Si},set exports(t){Si=t}},Wo,_u;function n1(){if(_u)return Wo;_u=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Wo=function(u,h){h=h||{};var f=typeof u;if(f==="string"&&u.length>0)return o(u);if(f==="number"&&isFinite(u))return h.long?c(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var f=parseFloat(h[1]),d=(h[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(u){var h=Math.abs(u);return h>=n?Math.round(u/n)+"d":h>=r?Math.round(u/r)+"h":h>=e?Math.round(u/e)+"m":h>=t?Math.round(u/t)+"s":u+"ms"}function c(u){var h=Math.abs(u);return h>=n?l(u,h,n,"day"):h>=r?l(u,h,r,"hour"):h>=e?l(u,h,e,"minute"):h>=t?l(u,h,t,"second"):u+" ms"}function l(u,h,f,d){var y=h>=f*1.5;return Math.round(u/f)+" "+d+(y?"s":"")}return Wo}function i1(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=n1(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let h=0;for(let f=0;f<u.length;f++)h=(h<<5)-h+u.charCodeAt(f),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(u){let h,f=null,d,y;function S(...E){if(!S.enabled)return;const g=S,v=Number(new Date),w=v-(h||v);g.diff=w,g.prev=h,g.curr=v,h=v,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let C=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(N,z)=>{if(N==="%%")return"%";C++;const j=r.formatters[z];if(typeof j=="function"){const T=E[C];N=j.call(g,T),E.splice(C,1),C--}return N}),r.formatArgs.call(g,E),(g.log||r.log).apply(g,E)}return S.namespace=u,S.useColors=r.useColors(),S.color=r.selectColor(u),S.extend=n,S.destroy=r.destroy,Object.defineProperty(S,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==r.namespaces&&(d=r.namespaces,y=r.enabled(u)),y),set:E=>{f=E}}),typeof r.init=="function"&&r.init(S),S}function n(u,h){const f=r(this.namespace+(typeof h>"u"?":":h)+u);return f.log=this.log,f}function i(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let h;const f=(typeof u=="string"?u:"").split(/[\s,]+/),d=f.length;for(h=0;h<d;h++)f[h]&&(u=f[h].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.slice(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...r.names.map(a),...r.skips.map(a).map(h=>"-"+h)].join(",");return r.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let h,f;for(h=0,f=r.skips.length;h<f;h++)if(r.skips[h].test(u))return!1;for(h=0,f=r.names.length;h<f;h++)if(r.names[h].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var s1=i1;(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let u=0,h=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(h=u))}),c.splice(h,0,l)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=s1(e);const{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(r1,Si);var o1=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.createModuleLogger=Fr.createProjectLogger=void 0;const a1=o1(Si),c1=(0,a1.default)("metamask");function u1(t){return c1.extend(t)}Fr.createProjectLogger=u1;function l1(t,e){return t.extend(e)}Fr.createModuleLogger=l1;var St={};Object.defineProperty(St,"__esModule",{value:!0});St.hexToBigInt=St.hexToNumber=St.bigIntToHex=St.numberToHex=void 0;const Nr=Oe,xn=Vn,h1=t=>((0,Nr.assert)(typeof t=="number","Value must be a number."),(0,Nr.assert)(t>=0,"Value must be a non-negative number."),(0,Nr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,xn.add0x)(t.toString(16)));St.numberToHex=h1;const f1=t=>((0,Nr.assert)(typeof t=="bigint","Value must be a bigint."),(0,Nr.assert)(t>=0,"Value must be a non-negative bigint."),(0,xn.add0x)(t.toString(16)));St.bigIntToHex=f1;const d1=t=>{(0,xn.assertIsHexString)(t);const e=parseInt(t,16);return(0,Nr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};St.hexToNumber=d1;const p1=t=>((0,xn.assertIsHexString)(t),BigInt((0,xn.add0x)(t)));St.hexToBigInt=p1;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});var tf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(tf);var rf={},Gt={},b1={get exports(){return Gt},set exports(t){Gt=t}};const g1="2.0.0",v1=256,y1=Number.MAX_SAFE_INTEGER||9007199254740991,m1=16,_1=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Zi={MAX_LENGTH:v1,MAX_SAFE_COMPONENT_LENGTH:m1,MAX_SAFE_INTEGER:y1,RELEASE_TYPES:_1,SEMVER_SPEC_VERSION:g1,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const w1=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Qi=w1;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r}=Zi,n=Qi;e=t.exports={};const i=e.re=[],s=e.src=[],o=e.t={};let a=0;const c=(l,u,h)=>{const f=a++;n(l,f,u),o[l]=f,s[f]=u,i[f]=new RegExp(u,h?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})\\.(${s[o.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})\\.(${s[o.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[o.NUMERICIDENTIFIER]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[o.NUMERICIDENTIFIERLOOSE]}|${s[o.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[o.PRERELEASEIDENTIFIER]}(?:\\.${s[o.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[o.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[o.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[o.BUILDIDENTIFIER]}(?:\\.${s[o.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[o.MAINVERSION]}${s[o.PRERELEASE]}?${s[o.BUILD]}?`),c("FULL",`^${s[o.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[o.MAINVERSIONLOOSE]}${s[o.PRERELEASELOOSE]}?${s[o.BUILD]}?`),c("LOOSE",`^${s[o.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[o.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[o.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:\\.(${s[o.XRANGEIDENTIFIER]})(?:${s[o.PRERELEASE]})?${s[o.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[o.XRANGEIDENTIFIERLOOSE]})(?:${s[o.PRERELEASELOOSE]})?${s[o.BUILD]}?)?)?`),c("XRANGE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[o.GTLT]}\\s*${s[o.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",s[o.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[o.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[o.LONETILDE]}${s[o.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[o.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[o.LONECARET]}${s[o.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[o.LONECARET]}${s[o.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[o.GTLT]}\\s*(${s[o.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[o.GTLT]}\\s*(${s[o.LOOSEPLAIN]}|${s[o.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[o.XRANGEPLAIN]})\\s+-\\s+(${s[o.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[o.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[o.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(b1,Gt);const S1=Object.freeze({loose:!0}),E1=Object.freeze({}),C1=t=>t?typeof t!="object"?S1:t:E1;var Ja=C1;const wu=/^[0-9]+$/,nf=(t,e)=>{const r=wu.test(t),n=wu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},x1=(t,e)=>nf(e,t);var sf={compareIdentifiers:nf,rcompareIdentifiers:x1};const si=Qi,{MAX_LENGTH:Su,MAX_SAFE_INTEGER:oi}=Zi,{re:Eu,t:Cu}=Gt,I1=Ja,{compareIdentifiers:Er}=sf;let R1=class vt{constructor(e,r){if(r=I1(r),e instanceof vt){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Su)throw new TypeError(`version is longer than ${Su} characters`);si("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Eu[Cu.LOOSE]:Eu[Cu.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>oi||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oi||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oi||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<oi)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(si("SemVer.compare",this.version,this.options,e),!(e instanceof vt)){if(typeof e=="string"&&e===this.version)return 0;e=new vt(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof vt||(e=new vt(e,this.options)),Er(this.major,e.major)||Er(this.minor,e.minor)||Er(this.patch,e.patch)}comparePre(e){if(e instanceof vt||(e=new vt(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(si("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Er(n,i)}while(++r)}compareBuild(e){e instanceof vt||(e=new vt(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(si("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Er(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Er(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var Ve=R1;const xu=Ve,k1=(t,e,r=!1)=>{if(t instanceof xu)return t;try{return new xu(t,e)}catch(n){if(!r)return null;throw n}};var en=k1;const A1=en,M1=(t,e)=>{const r=A1(t,e);return r?r.version:null};var T1=M1;const N1=en,O1=(t,e)=>{const r=N1(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var L1=O1;const Iu=Ve,D1=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Iu(t instanceof Iu?t.version:t,r).inc(e,n,i).version}catch{return null}};var j1=D1;const Ru=en,P1=(t,e)=>{const r=Ru(t,null,!0),n=Ru(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length,l=c?"pre":"";return r.major!==n.major?l+"major":r.minor!==n.minor?l+"minor":r.patch!==n.patch?l+"patch":c?"prerelease":a.patch?"patch":a.minor?"minor":"major"};var $1=P1;const B1=Ve,F1=(t,e)=>new B1(t,e).major;var H1=F1;const W1=Ve,V1=(t,e)=>new W1(t,e).minor;var U1=V1;const z1=Ve,q1=(t,e)=>new z1(t,e).patch;var G1=q1;const J1=en,Z1=(t,e)=>{const r=J1(t,e);return r&&r.prerelease.length?r.prerelease:null};var Q1=Z1;const ku=Ve,Y1=(t,e,r)=>new ku(t,r).compare(new ku(e,r));var ft=Y1;const K1=ft,X1=(t,e,r)=>K1(e,t,r);var ev=X1;const tv=ft,rv=(t,e)=>tv(t,e,!0);var nv=rv;const Au=Ve,iv=(t,e,r)=>{const n=new Au(t,r),i=new Au(e,r);return n.compare(i)||n.compareBuild(i)};var Za=iv;const sv=Za,ov=(t,e)=>t.sort((r,n)=>sv(r,n,e));var av=ov;const cv=Za,uv=(t,e)=>t.sort((r,n)=>cv(n,r,e));var lv=uv;const hv=ft,fv=(t,e,r)=>hv(t,e,r)>0;var Yi=fv;const dv=ft,pv=(t,e,r)=>dv(t,e,r)<0;var Qa=pv;const bv=ft,gv=(t,e,r)=>bv(t,e,r)===0;var of=gv;const vv=ft,yv=(t,e,r)=>vv(t,e,r)!==0;var af=yv;const mv=ft,_v=(t,e,r)=>mv(t,e,r)>=0;var Ya=_v;const wv=ft,Sv=(t,e,r)=>wv(t,e,r)<=0;var Ka=Sv;const Ev=of,Cv=af,xv=Yi,Iv=Ya,Rv=Qa,kv=Ka,Av=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ev(t,r,n);case"!=":return Cv(t,r,n);case">":return xv(t,r,n);case">=":return Iv(t,r,n);case"<":return Rv(t,r,n);case"<=":return kv(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var cf=Av;const Mv=Ve,Tv=en,{re:ai,t:ci}=Gt,Nv=(t,e)=>{if(t instanceof Mv)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(ai[ci.COERCE]);else{let n;for(;(n=ai[ci.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),ai[ci.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;ai[ci.COERCERTL].lastIndex=-1}return r===null?null:Tv(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var Ov=Nv,Vo,Mu;function Lv(){return Mu||(Mu=1,Vo=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),Vo}var Dv=oe;oe.Node=ur;oe.create=oe;function oe(t){var e=this;if(e instanceof oe||(e=new oe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}oe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};oe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};oe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};oe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Pv(this,arguments[t]);return this.length};oe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)$v(this,arguments[t]);return this.length};oe.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};oe.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};oe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};oe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};oe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};oe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};oe.prototype.map=function(t,e){e=e||this;for(var r=new oe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};oe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new oe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};oe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};oe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};oe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};oe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};oe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new oe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};oe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new oe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};oe.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=jv(this,i,r[n]);return s};oe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function jv(t,e,r){var n=e===t.head?new ur(r,null,e,t):new ur(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Pv(t,e){t.tail=new ur(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function $v(t,e){t.head=new ur(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function ur(t,e,r,n){if(!(this instanceof ur))return new ur(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Lv()(oe)}catch{}const Bv=Dv,nr=Symbol("max"),Tt=Symbol("length"),Cr=Symbol("lengthCalculator"),gn=Symbol("allowStale"),or=Symbol("maxAge"),At=Symbol("dispose"),Tu=Symbol("noDisposeOnSet"),Ae=Symbol("lruList"),ct=Symbol("cache"),uf=Symbol("updateAgeOnGet"),Uo=()=>1;class Fv{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[nr]=e.max||1/0;const r=e.length||Uo;if(this[Cr]=typeof r!="function"?Uo:r,this[gn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[or]=e.maxAge||0,this[At]=e.dispose,this[Tu]=e.noDisposeOnSet||!1,this[uf]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[nr]=e||1/0,un(this)}get max(){return this[nr]}set allowStale(e){this[gn]=!!e}get allowStale(){return this[gn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[or]=e,un(this)}get maxAge(){return this[or]}set lengthCalculator(e){typeof e!="function"&&(e=Uo),e!==this[Cr]&&(this[Cr]=e,this[Tt]=0,this[Ae].forEach(r=>{r.length=this[Cr](r.value,r.key),this[Tt]+=r.length})),un(this)}get lengthCalculator(){return this[Cr]}get length(){return this[Tt]}get itemCount(){return this[Ae].length}rforEach(e,r){r=r||this;for(let n=this[Ae].tail;n!==null;){const i=n.prev;Nu(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Ae].head;n!==null;){const i=n.next;Nu(this,e,n,r),n=i}}keys(){return this[Ae].toArray().map(e=>e.key)}values(){return this[Ae].toArray().map(e=>e.value)}reset(){this[At]&&this[Ae]&&this[Ae].length&&this[Ae].forEach(e=>this[At](e.key,e.value)),this[ct]=new Map,this[Ae]=new Bv,this[Tt]=0}dump(){return this[Ae].map(e=>Ei(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Ae]}set(e,r,n){if(n=n||this[or],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[Cr](r,e);if(this[ct].has(e)){if(s>this[nr])return Or(this,this[ct].get(e)),!1;const c=this[ct].get(e).value;return this[At]&&(this[Tu]||this[At](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[Tt]+=s-c.length,c.length=s,this.get(e),un(this),!0}const o=new Hv(e,r,s,i,n);return o.length>this[nr]?(this[At]&&this[At](e,r),!1):(this[Tt]+=o.length,this[Ae].unshift(o),this[ct].set(e,this[Ae].head),un(this),!0)}has(e){if(!this[ct].has(e))return!1;const r=this[ct].get(e).value;return!Ei(this,r)}get(e){return zo(this,e,!0)}peek(e){return zo(this,e,!1)}pop(){const e=this[Ae].tail;return e?(Or(this,e),e.value):null}del(e){Or(this,this[ct].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[ct].forEach((e,r)=>zo(this,r,!1))}}const zo=(t,e,r)=>{const n=t[ct].get(e);if(n){const i=n.value;if(Ei(t,i)){if(Or(t,n),!t[gn])return}else r&&(t[uf]&&(n.value.now=Date.now()),t[Ae].unshiftNode(n));return i.value}},Ei=(t,e)=>{if(!e||!e.maxAge&&!t[or])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[or]&&r>t[or]},un=t=>{if(t[Tt]>t[nr])for(let e=t[Ae].tail;t[Tt]>t[nr]&&e!==null;){const r=e.prev;Or(t,e),e=r}},Or=(t,e)=>{if(e){const r=e.value;t[At]&&t[At](r.key,r.value),t[Tt]-=r.length,t[ct].delete(r.key),t[Ae].removeNode(e)}};class Hv{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const Nu=(t,e,r,n)=>{let i=r.value;Ei(t,i)&&(Or(t,r),t[gn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var Wv=Fv,qo,Ou;function dt(){if(Ou)return qo;Ou=1;class t{constructor(k,D){if(D=n(D),k instanceof t)return k.loose===!!D.loose&&k.includePrerelease===!!D.includePrerelease?k:new t(k.raw,D);if(k instanceof i)return this.raw=k.value,this.set=[[k]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=k,this.set=k.split("||").map($=>this.parseRange($.trim())).filter($=>$.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${k}`);if(this.set.length>1){const $=this.set[0];if(this.set=this.set.filter(P=>!y(P[0])),this.set.length===0)this.set=[$];else if(this.set.length>1){for(const P of this.set)if(P.length===1&&S(P[0])){this.set=[P];break}}}this.format()}format(){return this.range=this.set.map(k=>k.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(k){k=k.trim();const $=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+k,P=r.get($);if(P)return P;const L=this.options.loose,H=L?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];k=k.replace(H,he(this.options.includePrerelease)),s("hyphen replace",k),k=k.replace(a[c.COMPARATORTRIM],l),s("comparator trim",k),k=k.replace(a[c.TILDETRIM],u),k=k.replace(a[c.CARETTRIM],h),k=k.split(/\s+/).join(" ");let Z=k.split(" ").map(ce=>g(ce,this.options)).join(" ").split(/\s+/).map(ce=>te(ce,this.options));L&&(Z=Z.filter(ce=>(s("loose invalid filter",ce,this.options),!!ce.match(a[c.COMPARATORLOOSE])))),s("range list",Z);const q=new Map,ne=Z.map(ce=>new i(ce,this.options));for(const ce of ne){if(y(ce))return[ce];q.set(ce.value,ce)}q.size>1&&q.has("")&&q.delete("");const le=[...q.values()];return r.set($,le),le}intersects(k,D){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some($=>E($,D)&&k.set.some(P=>E(P,D)&&$.every(L=>P.every(H=>L.intersects(H,D)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new o(k,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(se(this.set[D],k,this.options))return!0;return!1}}qo=t;const e=Wv,r=new e({max:1e3}),n=Ja,i=Ki(),s=Qi,o=Ve,{re:a,t:c,comparatorTrimReplace:l,tildeTrimReplace:u,caretTrimReplace:h}=Gt,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=Zi,y=M=>M.value==="<0.0.0-0",S=M=>M.value==="",E=(M,k)=>{let D=!0;const $=M.slice();let P=$.pop();for(;D&&$.length;)D=$.every(L=>P.intersects(L,k)),P=$.pop();return D},g=(M,k)=>(s("comp",M,k),M=x(M,k),s("caret",M),M=w(M,k),s("tildes",M),M=z(M,k),s("xrange",M),M=T(M,k),s("stars",M),M),v=M=>!M||M.toLowerCase()==="x"||M==="*",w=(M,k)=>M.trim().split(/\s+/).map(D=>C(D,k)).join(" "),C=(M,k)=>{const D=k.loose?a[c.TILDELOOSE]:a[c.TILDE];return M.replace(D,($,P,L,H,Z)=>{s("tilde",M,$,P,L,H,Z);let q;return v(P)?q="":v(L)?q=`>=${P}.0.0 <${+P+1}.0.0-0`:v(H)?q=`>=${P}.${L}.0 <${P}.${+L+1}.0-0`:Z?(s("replaceTilde pr",Z),q=`>=${P}.${L}.${H}-${Z} <${P}.${+L+1}.0-0`):q=`>=${P}.${L}.${H} <${P}.${+L+1}.0-0`,s("tilde return",q),q})},x=(M,k)=>M.trim().split(/\s+/).map(D=>N(D,k)).join(" "),N=(M,k)=>{s("caret",M,k);const D=k.loose?a[c.CARETLOOSE]:a[c.CARET],$=k.includePrerelease?"-0":"";return M.replace(D,(P,L,H,Z,q)=>{s("caret",M,P,L,H,Z,q);let ne;return v(L)?ne="":v(H)?ne=`>=${L}.0.0${$} <${+L+1}.0.0-0`:v(Z)?L==="0"?ne=`>=${L}.${H}.0${$} <${L}.${+H+1}.0-0`:ne=`>=${L}.${H}.0${$} <${+L+1}.0.0-0`:q?(s("replaceCaret pr",q),L==="0"?H==="0"?ne=`>=${L}.${H}.${Z}-${q} <${L}.${H}.${+Z+1}-0`:ne=`>=${L}.${H}.${Z}-${q} <${L}.${+H+1}.0-0`:ne=`>=${L}.${H}.${Z}-${q} <${+L+1}.0.0-0`):(s("no pr"),L==="0"?H==="0"?ne=`>=${L}.${H}.${Z}${$} <${L}.${H}.${+Z+1}-0`:ne=`>=${L}.${H}.${Z}${$} <${L}.${+H+1}.0-0`:ne=`>=${L}.${H}.${Z} <${+L+1}.0.0-0`),s("caret return",ne),ne})},z=(M,k)=>(s("replaceXRanges",M,k),M.split(/\s+/).map(D=>j(D,k)).join(" ")),j=(M,k)=>{M=M.trim();const D=k.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return M.replace(D,($,P,L,H,Z,q)=>{s("xRange",M,$,P,L,H,Z,q);const ne=v(L),le=ne||v(H),ce=le||v(Z),Pe=ce;return P==="="&&Pe&&(P=""),q=k.includePrerelease?"-0":"",ne?P===">"||P==="<"?$="<0.0.0-0":$="*":P&&Pe?(le&&(H=0),Z=0,P===">"?(P=">=",le?(L=+L+1,H=0,Z=0):(H=+H+1,Z=0)):P==="<="&&(P="<",le?L=+L+1:H=+H+1),P==="<"&&(q="-0"),$=`${P+L}.${H}.${Z}${q}`):le?$=`>=${L}.0.0${q} <${+L+1}.0.0-0`:ce&&($=`>=${L}.${H}.0${q} <${L}.${+H+1}.0-0`),s("xRange return",$),$})},T=(M,k)=>(s("replaceStars",M,k),M.trim().replace(a[c.STAR],"")),te=(M,k)=>(s("replaceGTE0",M,k),M.trim().replace(a[k.includePrerelease?c.GTE0PRE:c.GTE0],"")),he=M=>(k,D,$,P,L,H,Z,q,ne,le,ce,Pe,m)=>(v($)?D="":v(P)?D=`>=${$}.0.0${M?"-0":""}`:v(L)?D=`>=${$}.${P}.0${M?"-0":""}`:H?D=`>=${D}`:D=`>=${D}${M?"-0":""}`,v(ne)?q="":v(le)?q=`<${+ne+1}.0.0-0`:v(ce)?q=`<${ne}.${+le+1}.0-0`:Pe?q=`<=${ne}.${le}.${ce}-${Pe}`:M?q=`<${ne}.${le}.${+ce+1}-0`:q=`<=${q}`,`${D} ${q}`.trim()),se=(M,k,D)=>{for(let $=0;$<M.length;$++)if(!M[$].test(k))return!1;if(k.prerelease.length&&!D.includePrerelease){for(let $=0;$<M.length;$++)if(s(M[$].semver),M[$].semver!==i.ANY&&M[$].semver.prerelease.length>0){const P=M[$].semver;if(P.major===k.major&&P.minor===k.minor&&P.patch===k.patch)return!0}return!1}return!0};return qo}var Go,Lu;function Ki(){if(Lu)return Go;Lu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,h){if(h=r(h),u instanceof e){if(u.loose===!!h.loose)return u;u=u.value}o("comparator",u,h),this.options=h,this.loose=!!h.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(u){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=u.match(h);if(!f)throw new TypeError(`Invalid comparator: ${u}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(o("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,h){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(u.value,h).test(this.value):u.operator===""?u.value===""?!0:new c(this.value,h).test(u.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,h)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,h)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Go=e;const r=Ja,{re:n,t:i}=Gt,s=cf,o=Qi,a=Ve,c=dt();return Go}const Vv=dt(),Uv=(t,e,r)=>{try{e=new Vv(e,r)}catch{return!1}return e.test(t)};var Xi=Uv;const zv=dt(),qv=(t,e)=>new zv(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var Gv=qv;const Jv=Ve,Zv=dt(),Qv=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Zv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Jv(n,r))}),n};var Yv=Qv;const Kv=Ve,Xv=dt(),ey=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Xv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Kv(n,r))}),n};var ty=ey;const Jo=Ve,ry=dt(),Du=Yi,ny=(t,e)=>{t=new ry(t,e);let r=new Jo("0.0.0");if(t.test(r)||(r=new Jo("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Jo(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Du(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Du(r,s))&&(r=s)}return r&&t.test(r)?r:null};var iy=ny;const sy=dt(),oy=(t,e)=>{try{return new sy(t,e).range||"*"}catch{return null}};var ay=oy;const cy=Ve,lf=Ki(),{ANY:uy}=lf,ly=dt(),hy=Xi,ju=Yi,Pu=Qa,fy=Ka,dy=Ya,py=(t,e,r,n)=>{t=new cy(t,n),e=new ly(e,n);let i,s,o,a,c;switch(r){case">":i=ju,s=fy,o=Pu,a=">",c=">=";break;case"<":i=Pu,s=dy,o=ju,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hy(t,e,n))return!1;for(let l=0;l<e.set.length;++l){const u=e.set[l];let h=null,f=null;if(u.forEach(d=>{d.semver===uy&&(d=new lf(">=0.0.0")),h=h||d,f=f||d,i(d.semver,h.semver,n)?h=d:o(d.semver,f.semver,n)&&(f=d)}),h.operator===a||h.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var Xa=py;const by=Xa,gy=(t,e,r)=>by(t,e,">",r);var vy=gy;const yy=Xa,my=(t,e,r)=>yy(t,e,"<",r);var _y=my;const $u=dt(),wy=(t,e,r)=>(t=new $u(t,r),e=new $u(e,r),t.intersects(e,r));var Sy=wy;const Ey=Xi,Cy=ft;var xy=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((u,h)=>Cy(u,h,r));for(const u of o)Ey(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[u,h]of n)u===h?a.push(u):!h&&u===o[0]?a.push("*"):h?u===o[0]?a.push(`<=${h}`):a.push(`${u} - ${h}`):a.push(`>=${u}`);const c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e};const Bu=dt(),ec=Ki(),{ANY:Zo}=ec,ln=Xi,tc=ft,Iy=(t,e,r={})=>{if(t===e)return!0;t=new Bu(t,r),e=new Bu(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=ky(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},Ry=[new ec(">=0.0.0-0")],Fu=[new ec(">=0.0.0")],ky=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Zo){if(e.length===1&&e[0].semver===Zo)return!0;r.includePrerelease?t=Ry:t=Fu}if(e.length===1&&e[0].semver===Zo){if(r.includePrerelease)return!0;e=Fu}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Hu(i,d,r):d.operator==="<"||d.operator==="<="?s=Wu(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=tc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!ln(d,String(i),r)||s&&!ln(d,String(s),r))return null;for(const y of e)if(!ln(d,String(y),r))return!1;return!0}let a,c,l,u,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const d of e){if(u=u||d.operator===">"||d.operator===">=",l=l||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Hu(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!ln(i.semver,String(d),r))return!1}if(s){if(h&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===h.major&&d.semver.minor===h.minor&&d.semver.patch===h.patch&&(h=!1),d.operator==="<"||d.operator==="<="){if(c=Wu(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!ln(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&l&&!s&&o!==0||s&&u&&!i&&o!==0||f||h)},Hu=(t,e,r)=>{if(!t)return e;const n=tc(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Wu=(t,e,r)=>{if(!t)return e;const n=tc(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var Ay=Iy;const Qo=Gt,Vu=Zi,My=Ve,Uu=sf,Ty=en,Ny=T1,Oy=L1,Ly=j1,Dy=$1,jy=H1,Py=U1,$y=G1,By=Q1,Fy=ft,Hy=ev,Wy=nv,Vy=Za,Uy=av,zy=lv,qy=Yi,Gy=Qa,Jy=of,Zy=af,Qy=Ya,Yy=Ka,Ky=cf,Xy=Ov,em=Ki(),tm=dt(),rm=Xi,nm=Gv,im=Yv,sm=ty,om=iy,am=ay,cm=Xa,um=vy,lm=_y,hm=Sy,fm=xy,dm=Ay;var pm={parse:Ty,valid:Ny,clean:Oy,inc:Ly,diff:Dy,major:jy,minor:Py,patch:$y,prerelease:By,compare:Fy,rcompare:Hy,compareLoose:Wy,compareBuild:Vy,sort:Uy,rsort:zy,gt:qy,lt:Gy,eq:Jy,neq:Zy,gte:Qy,lte:Yy,cmp:Ky,coerce:Xy,Comparator:em,Range:tm,satisfies:rm,toComparators:nm,maxSatisfying:im,minSatisfying:sm,minVersion:om,validRange:am,outside:cm,gtr:um,ltr:lm,intersects:hm,simplifyRange:fm,subset:dm,SemVer:My,re:Qo.re,src:Qo.src,tokens:Qo.t,SEMVER_SPEC_VERSION:Vu.SEMVER_SPEC_VERSION,RELEASE_TYPES:Vu.RELEASE_TYPES,compareIdentifiers:Uu.compareIdentifiers,rcompareIdentifiers:Uu.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=pm,r=vr,n=Oe;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",h=>(0,e.valid)(h)===null?`Expected SemVer version, got "${h}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",h=>(0,e.validRange)(h)===null?`Expected SemVer range, got "${h}"`:!0);function i(h){return(0,r.is)(h,t.VersionStruct)}t.isValidSemVerVersion=i;function s(h){return(0,r.is)(h,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(h){(0,n.assertStruct)(h,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(h){(0,n.assertStruct)(h,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(h,f){return(0,e.gt)(h,f)}t.gtVersion=c;function l(h,f){return(0,e.gtr)(h,f)}t.gtRange=l;function u(h,f){return(0,e.satisfies)(h,f,{includePrerelease:!0})}t.satisfiesVersionRange=u})(rf);(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Oe,t),r(Wn,t),r(ie,t),r(Gi,t),r(wt,t),r(Br,t),r(Vn,t),r(Xh,t),r(Fr,t),r(Ga,t),r(St,t),r(ef,t),r(tf,t),r(rf,t)})(Lh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Lh;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Oh);var hf=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zi,"__esModule",{value:!0});zi.PollingBlockTracker=void 0;const bm=hf(Pa),gm=hf(jb),vm=Fn,zu=Oh,qu=(0,zu.createModuleLogger)(zu.projectLogger,"polling-block-tracker"),ym=(0,bm.default)(),mm=1e3;class _m extends vm.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*mm,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Gu(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Gu(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:ym(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),qu("Making request",e);const r=await(0,gm.default)(n=>this._provider.sendAsync(e,n))();if(qu("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}zi.PollingBlockTracker=_m;function Gu(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var es={},wm=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(es,"__esModule",{value:!0});es.SubscribeBlockTracker=void 0;const Sm=wm(Pa),Em=Fn,Cm=(0,Sm.default)();class xm extends Em.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Cm(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}es.SubscribeBlockTracker=xm;var ff={};Object.defineProperty(ff,"__esModule",{value:!0});(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(zi,t),r(es,t),r(ff,t)})(Nh);var rc={},ts={},Un={};Object.defineProperty(Un,"__esModule",{value:!0});Un.getUniqueId=void 0;const df=4294967295;let Yo=Math.floor(Math.random()*df);function Im(){return Yo=(Yo+1)%df,Yo}Un.getUniqueId=Im;Object.defineProperty(ts,"__esModule",{value:!0});ts.createIdRemapMiddleware=void 0;const Rm=Un;function km(){return(t,e,r,n)=>{const i=t.id,s=Rm.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}ts.createIdRemapMiddleware=km;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.createAsyncMiddleware=void 0;function Am(t){return async(e,r,n,i)=>{let s;const o=new Promise(u=>{s=u});let a=null,c=!1;const l=async()=>{c=!0,n(u=>{a=u,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(u){a?a(u):i(u)}}}rs.createAsyncMiddleware=Am;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.createScaffoldMiddleware=void 0;function Mm(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}ns.createScaffoldMiddleware=Mm;var zn={},Tm=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zn,"__esModule",{value:!0});zn.JsonRpcEngine=void 0;const Nm=Tm(dr),Ye=Nn;class Mt extends Nm.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Mt._runAllMiddleware(e,r,this._middleware);return o?(await Mt._runReturnHandlers(a),i(s)):n(async c=>{try{await Mt._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Ye.EthereumRpcError(Ye.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Ye.EthereumRpcError(Ye.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Ye.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Mt._runAllMiddleware(e,r,this._middleware);if(Mt._checkForCompletion(e,r,i),await Mt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Mt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(r.error=Ye.serializeError(l)),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Ye.EthereumRpcError(Ye.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${Ko(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ye.EthereumRpcError(Ye.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Ko(e)}`,{request:e});if(!n)throw new Ye.EthereumRpcError(Ye.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Ko(e)}`,{request:e})}}zn.JsonRpcEngine=Mt;function Ko(t){return JSON.stringify(t,null,2)}var is={};Object.defineProperty(is,"__esModule",{value:!0});is.mergeMiddleware=void 0;const Om=zn;function Lm(t){const e=new Om.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}is.mergeMiddleware=Lm;(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ts,t),r(rs,t),r(ns,t),r(Un,t),r(zn,t),r(is,t)})(rc);var pf={},nc={};const ic=fr(Wd);var ss={};Object.defineProperty(ss,"__esModule",{value:!0});var Ju=ic,Dm=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Ju.__awaiter(this,void 0,void 0,function(){var r,n,i;return Ju.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ss.default=Dm;Object.defineProperty(nc,"__esModule",{value:!0});var Zu=ic,jm=ss,Pm=function(){function t(){this._semaphore=new jm.default(1)}return t.prototype.acquire=function(){return Zu.__awaiter(this,void 0,void 0,function(){var e,r;return Zu.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();nc.default=Pm;var os={};Object.defineProperty(os,"__esModule",{value:!0});os.withTimeout=void 0;var ui=ic;function $m(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return ui.__awaiter(n,void 0,void 0,function(){var o,a,c;return ui.__generator(this,function(l){switch(l.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=l.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return ui.__awaiter(this,void 0,void 0,function(){var s,o;return ui.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}os.withTimeout=$m;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=nc;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ss;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=os;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(pf);var Bm=Hm,Fm=Object.prototype.hasOwnProperty;function Hm(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Fm.call(r,n)&&(t[n]=r[n])}return t}const Wm=Bm,Vm=Pa();var Um=G;function G(t){const e=this;e.currentProvider=t}G.prototype.getBalance=qn(2,"eth_getBalance");G.prototype.getCode=qn(2,"eth_getCode");G.prototype.getTransactionCount=qn(2,"eth_getTransactionCount");G.prototype.getStorageAt=qn(3,"eth_getStorageAt");G.prototype.call=qn(2,"eth_call");G.prototype.protocolVersion=ee("eth_protocolVersion");G.prototype.syncing=ee("eth_syncing");G.prototype.coinbase=ee("eth_coinbase");G.prototype.mining=ee("eth_mining");G.prototype.hashrate=ee("eth_hashrate");G.prototype.gasPrice=ee("eth_gasPrice");G.prototype.accounts=ee("eth_accounts");G.prototype.blockNumber=ee("eth_blockNumber");G.prototype.getBlockTransactionCountByHash=ee("eth_getBlockTransactionCountByHash");G.prototype.getBlockTransactionCountByNumber=ee("eth_getBlockTransactionCountByNumber");G.prototype.getUncleCountByBlockHash=ee("eth_getUncleCountByBlockHash");G.prototype.getUncleCountByBlockNumber=ee("eth_getUncleCountByBlockNumber");G.prototype.sign=ee("eth_sign");G.prototype.sendTransaction=ee("eth_sendTransaction");G.prototype.sendRawTransaction=ee("eth_sendRawTransaction");G.prototype.estimateGas=ee("eth_estimateGas");G.prototype.getBlockByHash=ee("eth_getBlockByHash");G.prototype.getBlockByNumber=ee("eth_getBlockByNumber");G.prototype.getTransactionByHash=ee("eth_getTransactionByHash");G.prototype.getTransactionByBlockHashAndIndex=ee("eth_getTransactionByBlockHashAndIndex");G.prototype.getTransactionByBlockNumberAndIndex=ee("eth_getTransactionByBlockNumberAndIndex");G.prototype.getTransactionReceipt=ee("eth_getTransactionReceipt");G.prototype.getUncleByBlockHashAndIndex=ee("eth_getUncleByBlockHashAndIndex");G.prototype.getUncleByBlockNumberAndIndex=ee("eth_getUncleByBlockNumberAndIndex");G.prototype.getCompilers=ee("eth_getCompilers");G.prototype.compileLLL=ee("eth_compileLLL");G.prototype.compileSolidity=ee("eth_compileSolidity");G.prototype.compileSerpent=ee("eth_compileSerpent");G.prototype.newFilter=ee("eth_newFilter");G.prototype.newBlockFilter=ee("eth_newBlockFilter");G.prototype.newPendingTransactionFilter=ee("eth_newPendingTransactionFilter");G.prototype.uninstallFilter=ee("eth_uninstallFilter");G.prototype.getFilterChanges=ee("eth_getFilterChanges");G.prototype.getFilterLogs=ee("eth_getFilterLogs");G.prototype.getLogs=ee("eth_getLogs");G.prototype.getWork=ee("eth_getWork");G.prototype.submitWork=ee("eth_submitWork");G.prototype.submitHashrate=ee("eth_submitHashrate");G.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(zm(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function ee(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function qn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function zm(t){return Wm({id:Vm(),jsonrpc:"2.0",params:[]},t)}const Qu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...l)=>{e.errorFirst?l[0]?a(l):(l.shift(),o(l)):o(l)}):e.errorFirst?i.push((l,u)=>{l?a(l):o(u)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Yu=new WeakMap;var qm=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Yu.get(o);if(c||(c={},Yu.set(o,c)),a in c)return c[a];const l=y=>typeof y=="string"||typeof a=="symbol"?a===y:y.test(a),u=Reflect.getOwnPropertyDescriptor(o,a),h=u===void 0||u.writable||u.configurable,d=(e.include?e.include.some(l):!e.exclude.some(l))&&h;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const l=i.get(o);if(l)return Reflect.apply(l,a,c);const u=e.excludeMain?o:Qu(o,e,s,o);return i.set(o,u),Reflect.apply(u,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const l=i.get(c);if(l)return l;if(typeof c=="function"){const u=Qu(c,e,s,o);return i.set(c,u),u}return c}});return s};const Gm=dr.default;let Jm=class extends Gm{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var sc=Jm;const Zm=sc;let Qm=class extends Zm{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var Ym=Qm,Gn={minBlockRef:Km,maxBlockRef:Xm,sortBlockRefs:oc,bnToHex:e_,blockRefIsNumber:t_,hexToInt:Ci,incrementHexInt:r_,intToHex:bf,unsafeRandomBytes:n_};function Km(...t){return oc(t)[0]}function Xm(...t){const e=oc(t);return e[e.length-1]}function oc(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Ci(e)-Ci(r))}function e_(t){return"0x"+t.toString(16)}function t_(t){return t&&!["earliest","latest","pending"].includes(t)}function Ci(t){return t==null?t:Number.parseInt(t,16)}function r_(t){if(t==null)return t;const e=Ci(t);return bf(e+1)}function bf(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function n_(t){let e="0x";for(let r=0;r<t;r++)e+=Ku(),e+=Ku();return e}function Ku(){return Math.floor(Math.random()*16).toString(16)}const i_=Um,s_=qm,o_=Ym,{bnToHex:JC,hexToInt:li,incrementHexInt:a_,minBlockRef:c_,blockRefIsNumber:u_}=Gn;let l_=class extends o_{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new i_(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=c_(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=a_(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await s_(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(li(this.params.fromBlock)>=li(e.blockNumber)||u_(this.params.toBlock)&&li(this.params.toBlock)<=li(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(u=>u.toLowerCase()),a.includes(o))})}};var h_=l_,ac=f_;async function f_({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Xu(e),s=Xu(r)-n+1,o=Array(s).fill().map((c,l)=>n+l).map(d_);return await Promise.all(o.map(c=>b_(t,"eth_getBlockByNumber",[c,!1])))}function Xu(t){return t==null?t:Number.parseInt(t,16)}function d_(t){return t==null?t:"0x"+t.toString(16)}function p_(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function b_(t,e,r){for(let n=0;n<3;n++)try{return await p_(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const g_=sc,v_=ac,{incrementHexInt:y_}=Gn;let m_=class extends g_{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=y_(e),o=(await v_({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var __=m_;const w_=sc,S_=ac,{incrementHexInt:E_}=Gn;let C_=class extends w_{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=E_(e),i=await S_({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var x_=C_;const I_=pf.Mutex,{createAsyncMiddleware:R_,createScaffoldMiddleware:k_}=rc,A_=h_,M_=__,T_=x_,{intToHex:gf,hexToInt:Xo}=Gn;var N_=O_;function O_({blockTracker:t,provider:e}){let r=0,n={};const i=new I_,s=L_({mutex:i}),o=k_({eth_newFilter:s(ea(c)),eth_newBlockFilter:s(ea(l)),eth_newPendingTransactionFilter:s(ea(u)),eth_uninstallFilter:s(gi(d)),eth_getFilterChanges:s(gi(h)),eth_getFilterLogs:s(gi(f))}),a=async({oldBlock:v,newBlock:w})=>{if(n.length===0)return;const C=await i.acquire();try{await Promise.all(xr(n).map(async x=>{try{await x.update({oldBlock:v,newBlock:w})}catch(N){console.error(N)}}))}catch(x){console.error(x)}C()};return o.newLogFilter=c,o.newBlockFilter=l,o.newPendingTransactionFilter=u,o.uninstallFilter=d,o.getFilterChanges=h,o.getFilterLogs=f,o.destroy=()=>{E()},o;async function c(v){const w=new A_({provider:e,params:v});return await y(w),w}async function l(){const v=new M_({provider:e});return await y(v),v}async function u(){const v=new T_({provider:e});return await y(v),v}async function h(v){const w=Xo(v),C=n[w];if(!C)throw new Error(`No filter for index "${w}"`);return C.getChangesAndClear()}async function f(v){const w=Xo(v),C=n[w];if(!C)throw new Error(`No filter for index "${w}"`);let x=[];return C.type==="log"&&(x=C.getAllResults()),x}async function d(v){const w=Xo(v),C=n[w],x=Boolean(C);return x&&await S(w),x}async function y(v){const w=xr(n).length,C=await t.getLatestBlock();await v.initialize({currentBlock:C}),r++,n[r]=v,v.id=r,v.idHex=gf(r);const x=xr(n).length;return g({prevFilterCount:w,newFilterCount:x}),r}async function S(v){const w=xr(n).length;delete n[v];const C=xr(n).length;g({prevFilterCount:w,newFilterCount:C})}async function E(){const v=xr(n).length;n={},g({prevFilterCount:v,newFilterCount:0})}function g({prevFilterCount:v,newFilterCount:w}){if(v===0&&w>0){t.on("sync",a);return}if(v>0&&w===0){t.removeListener("sync",a);return}}}function ea(t){return gi(async(...e)=>{const r=await t(...e);return gf(r.id)})}function gi(t){return R_(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function L_({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function xr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const D_=dr.default,{createAsyncMiddleware:el,createScaffoldMiddleware:j_}=rc,P_=N_,{unsafeRandomBytes:$_,incrementHexInt:B_}=Gn,F_=ac;var H_=W_;function W_({blockTracker:t,provider:e}){const r={},n=P_({blockTracker:t,provider:e});let i=!1;const s=new D_,o=j_({eth_subscribe:el(a),eth_unsubscribe:el(c)});return o.destroy=u,{events:s,middleware:o};async function a(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],y=$_(16);let S;switch(d){case"newHeads":S=E({subId:y});break;case"logs":const v=h.params[1],w=await n.newLogFilter(v);S=g({subId:y,filter:w});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[y]=S,f.result=y;return;function E({subId:v}){const w={type:d,destroy:async()=>{t.removeListener("sync",w.update)},update:async({oldBlock:C,newBlock:x})=>{const N=x,z=B_(C);(await F_({provider:e,fromBlock:z,toBlock:N})).map(V_).filter(te=>te!==null).forEach(te=>{l(v,te)})}};return t.on("sync",w.update),w}function g({subId:v,filter:w}){return w.on("update",x=>l(v,x)),{type:d,destroy:async()=>await n.uninstallFilter(w.idHex)}}}async function c(h,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=h.params[0],y=r[d];if(!y){f.result=!1;return}delete r[d],await y.destroy(),f.result=!0}function l(h,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:h,result:f}})}function u(){s.removeAllListeners();for(const h in r)r[h].destroy(),delete r[h];i=!0}}function V_(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ui,"__esModule",{value:!0});Ui.SubscriptionManager=void 0;const U_=Nh,z_=H_,tl=()=>{};class q_{constructor(e){const r=new U_.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=z_({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,tl,tl),r}destroy(){this.subscriptionMiddleware.destroy()}}Ui.SubscriptionManager=q_;var cc=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jr,"__esModule",{value:!0});jr.CoinbaseWalletProvider=void 0;const G_=cc(dr),J_=cc(Oi),De=Nn,ta=Jr,rl=Zr,nl=lt,Y=F,ra=cc(Tb),Z_=$r,ae=Th,Q_=Ui,il="DefaultChainId",sl="DefaultJsonRpcUrl";class Y_ extends G_.default{constructor(e){var r,n;super(),this._filterPolyfill=new Z_.FilterPolyfill(this),this._subscriptionManager=new Q_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,Y.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(nl.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,Y.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const l=a.data.data.chainId,u=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(u,Number(l))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,Y.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(sl))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(sl,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(il,r.toString(10)),((0,Y.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,Y.ensureIntNumber)(e)===this.getChainId())return!1;const l=await this.initializeRelay(),u=l.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!u&&await l.requestEthereumAccounts().promise;const h=await l.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=h.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=h.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw De.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(ta.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?rl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(ae.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw De.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw De.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw De.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,Y.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,Y.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(nl.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ae.JSONRPCMethod.eth_accounts:return this._eth_accounts();case ae.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case ae.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case ae.JSONRPCMethod.net_version:return this._net_version();case ae.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ae.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case ae.JSONRPCMethod.eth_sign:return this._eth_sign(n);case ae.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case ae.JSONRPCMethod.personal_sign:return this._personal_sign(n);case ae.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case ae.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case ae.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case ae.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case ae.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case ae.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case ae.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case ae.JSONRPCMethod.eth_signTypedData_v4:case ae.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case ae.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case ae.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case ae.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case ae.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case ae.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case ae.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case ae.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case ae.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case ae.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case ae.JSONRPCMethod.eth_subscribe:case ae.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,Y.ensureAddressString)(e);return this._addresses.map(i=>(0,Y.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(ta.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,Y.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,Y.ensureAddressString)(e.to):null,i=e.value!=null?(0,Y.ensureBN)(e.value):new J_.default(0),s=e.data?(0,Y.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,Y.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,Y.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,Y.ensureBN)(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?(0,Y.ensureBN)(e.maxPriorityFeePerGas):null,u=e.gas!=null?(0,Y.ensureBN)(e.gas):null,h=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:h}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw De.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw De.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?De.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,Y.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(il);if(!e)return(0,Y.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,Y.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(ta.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?rl.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?De.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,Y.ensureAddressString)(e[0]),n=(0,Y.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,Y.ensureBuffer)(e[0]),n=(0,Y.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,Y.ensureBuffer)(e[0]),n=(0,Y.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,Y.ensureBuffer)(e[0]),n=(0,Y.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?De.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,Y.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?De.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,Y.ensureParsedJSONObject)(e[0]),n=(0,Y.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=ra.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,Y.ensureAddressString)(e[0]),n=(0,Y.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ra.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,Y.ensureAddressString)(e[0]),n=(0,Y.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=ra.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw De.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw De.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw De.ethErrors.rpc.invalidParams({message:"Type is required"});if(r?.type!=="ERC20")throw De.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!r?.options)throw De.ethErrors.rpc.invalidParams({message:"Options are required"});if(!r?.options.address)throw De.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,Y.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,Y.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,Y.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}jr.CoinbaseWalletProvider=Y_;var as={},cs={},Jn,J,vf,yf,vn,ol,mf,xi={},_f=[],K_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nt(t,e){for(var r in e)t[r]=e[r];return t}function wf(t){var e=t.parentNode;e&&e.removeChild(t)}function ma(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Jn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return yn(t,o,n,i,null)}function yn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++vf};return i==null&&J.vnode!=null&&J.vnode(s),s}function X_(){return{current:null}}function Zn(t){return t.children}function mn(t,e){this.props=t,this.context=e}function In(t,e){if(e==null)return t.__?In(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?In(t):null}function Sf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Sf(t)}}function _a(t){(!t.__d&&(t.__d=!0)&&vn.push(t)&&!Ii.__r++||ol!==J.debounceRendering)&&((ol=J.debounceRendering)||setTimeout)(Ii)}function Ii(){for(var t;Ii.__r=vn.length;)t=vn.sort(function(e,r){return e.__v.__b-r.__v.__b}),vn=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Nt({},s)).__v=s.__v+1,uc(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??In(s),s.__h),Rf(n,s),s.__e!=o&&Sf(s)))})}function Ef(t,e,r,n,i,s,o,a,c,l){var u,h,f,d,y,S,E,g=n&&n.__k||_f,v=g.length;for(r.__k=[],u=0;u<e.length;u++)if((d=r.__k[u]=(d=e[u])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?yn(null,d,null,null,d):Array.isArray(d)?yn(Zn,{children:d},null,null,null):d.__b>0?yn(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=r,d.__b=r.__b+1,(f=g[u])===null||f&&d.key==f.key&&d.type===f.type)g[u]=void 0;else for(h=0;h<v;h++){if((f=g[h])&&d.key==f.key&&d.type===f.type){g[h]=void 0;break}f=null}uc(t,d,f=f||xi,i,s,o,a,c,l),y=d.__e,(h=d.ref)&&f.ref!=h&&(E||(E=[]),f.ref&&E.push(f.ref,null,d),E.push(h,d.__c||y,d)),y!=null?(S==null&&(S=y),typeof d.type=="function"&&d.__k===f.__k?d.__d=c=Cf(d,c,t):c=If(t,d,f,g,y,c),typeof r.type=="function"&&(r.__d=c)):c&&f.__e==c&&c.parentNode!=t&&(c=In(f))}for(r.__e=S,u=v;u--;)g[u]!=null&&Af(g[u],g[u]);if(E)for(u=0;u<E.length;u++)kf(E[u],E[++u],E[++u])}function Cf(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Cf(n,e,r):If(r,n,n,i,n.__e,e));return e}function xf(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){xf(r,e)}):e.push(t)),e}function If(t,e,r,n,i,s){var o,a,c;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,c=0;(a=a.nextSibling)&&c<n.length;c+=2)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function ew(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Ri(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Ri(t,s,e[s],r[s],n)}function al(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||K_.test(e)?r:r+"px"}function Ri(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||al(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||al(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?ul:cl,s):t.removeEventListener(e,s?ul:cl,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function cl(t){this.l[t.type+!1](J.event?J.event(t):t)}function ul(t){this.l[t.type+!0](J.event?J.event(t):t)}function uc(t,e,r,n,i,s,o,a,c){var l,u,h,f,d,y,S,E,g,v,w,C,x,N,z,j=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(l=J.__b)&&l(e);try{e:if(typeof j=="function"){if(E=e.props,g=(l=j.contextType)&&n[l.__c],v=l?g?g.props.value:l.__:n,r.__c?S=(u=e.__c=r.__c).__=u.__E:("prototype"in j&&j.prototype.render?e.__c=u=new j(E,v):(e.__c=u=new mn(E,v),u.constructor=j,u.render=rw),g&&g.sub(u),u.props=E,u.state||(u.state={}),u.context=v,u.__n=n,h=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),j.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Nt({},u.__s)),Nt(u.__s,j.getDerivedStateFromProps(E,u.__s))),f=u.props,d=u.state,h)j.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(j.getDerivedStateFromProps==null&&E!==f&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(E,v),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(E,u.__s,v)===!1||e.__v===r.__v){for(u.props=E,u.state=u.__s,e.__v!==r.__v&&(u.__d=!1),u.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(T){T&&(T.__=e)}),w=0;w<u._sb.length;w++)u.__h.push(u._sb[w]);u._sb=[],u.__h.length&&o.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(E,u.__s,v),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(f,d,y)})}if(u.context=v,u.props=E,u.__v=e,u.__P=t,C=J.__r,x=0,"prototype"in j&&j.prototype.render){for(u.state=u.__s,u.__d=!1,C&&C(e),l=u.render(u.props,u.state,u.context),N=0;N<u._sb.length;N++)u.__h.push(u._sb[N]);u._sb=[]}else do u.__d=!1,C&&C(e),l=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++x<25);u.state=u.__s,u.getChildContext!=null&&(n=Nt(Nt({},n),u.getChildContext())),h||u.getSnapshotBeforeUpdate==null||(y=u.getSnapshotBeforeUpdate(f,d)),z=l!=null&&l.type===Zn&&l.key==null?l.props.children:l,Ef(t,Array.isArray(z)?z:[z],e,r,n,i,s,o,a,c),u.base=e.__e,e.__h=null,u.__h.length&&o.push(u),S&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=tw(r.__e,e,r,n,i,s,o,c);(l=J.diffed)&&l(e)}catch(T){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),J.__e(T,e,r)}}function Rf(t,e){J.__c&&J.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){J.__e(n,r.__v)}})}function tw(t,e,r,n,i,s,o,a){var c,l,u,h=r.props,f=e.props,d=e.type,y=0;if(d==="svg"&&(i=!0),s!=null){for(;y<s.length;y++)if((c=s[y])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){t=c,s[y]=null;break}}if(t==null){if(d===null)return document.createTextNode(f);t=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,f.is&&f),s=null,a=!1}if(d===null)h===f||a&&t.data===f||(t.data=f);else{if(s=s&&Jn.call(t.childNodes),l=(h=r.props||xi).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},y=0;y<t.attributes.length;y++)h[t.attributes[y].name]=t.attributes[y].value;(u||l)&&(u&&(l&&u.__html==l.__html||u.__html===t.innerHTML)||(t.innerHTML=u&&u.__html||""))}if(ew(t,f,h,i,a),u)e.__k=[];else if(y=e.props.children,Ef(t,Array.isArray(y)?y:[y],e,r,n,i&&d!=="foreignObject",s,o,s?s[0]:r.__k&&In(r,0),a),s!=null)for(y=s.length;y--;)s[y]!=null&&wf(s[y]);a||("value"in f&&(y=f.value)!==void 0&&(y!==t.value||d==="progress"&&!y||d==="option"&&y!==h.value)&&Ri(t,"value",y,h.value,!1),"checked"in f&&(y=f.checked)!==void 0&&y!==t.checked&&Ri(t,"checked",y,h.checked,!1))}return t}function kf(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){J.__e(n,r)}}function Af(t,e,r){var n,i;if(J.unmount&&J.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||kf(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){J.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Af(n[i],e,r||typeof t.type!="function");r||t.__e==null||wf(t.__e),t.__=t.__e=t.__d=void 0}function rw(t,e,r){return this.constructor(t,r)}function Mf(t,e,r){var n,i,s;J.__&&J.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],uc(e,t=(!n&&r||e).__k=ma(Zn,null,[t]),i||xi,xi,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Jn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Rf(s,t)}function Tf(t,e){Mf(t,e,Tf)}function nw(t,e,r){var n,i,s,o=Nt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Jn.call(arguments,2):r),yn(t.type,o,n||t.key,i||t.ref,null)}function iw(t,e){var r={__c:e="__cC"+mf++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(_a)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Jn=_f.slice,J={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},vf=0,yf=function(t){return t!=null&&t.constructor===void 0},mn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nt({},this.state),typeof t=="function"&&(t=t(Nt({},r),this.props)),t&&Nt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),_a(this))},mn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_a(this))},mn.prototype.render=Zn,vn=[],Ii.__r=0,mf=0;const sw=Object.freeze(Object.defineProperty({__proto__:null,Component:mn,Fragment:Zn,cloneElement:nw,createContext:iw,createElement:ma,createRef:X_,h:ma,hydrate:Tf,get isValidElement(){return yf},get options(){return J},render:Mf,toChildArray:xf},Symbol.toStringTag,{value:"Module"})),Ze=fr(sw);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wa=function(t,e){return wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wa(t,e)};function I(t,e){wa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Hr(t){return typeof t=="function"}var ll=!1,Ke={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}ll=t},get useDeprecatedSynchronousErrorHandling(){return ll}};function kr(t){setTimeout(function(){throw t},0)}var ki={closed:!0,next:function(t){},error:function(t){if(Ke.useDeprecatedSynchronousErrorHandling)throw t;kr(t)},complete:function(){}},He=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function lc(t){return t!==null&&typeof t=="object"}var ow=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),_n=ow,ye=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Hr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(h){e=h instanceof _n?hl(h.errors):[h]}}if(He(o))for(var a=-1,l=o.length;++a<l;){var u=o[a];if(lc(u))try{u.unsubscribe()}catch(f){e=e||[],f instanceof _n?e=e.concat(hl(f.errors)):e.push(f)}}if(e)throw new _n(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function hl(t){return t.reduce(function(e,r){return e.concat(r instanceof _n?r.errors:r)},[])}var Ai=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),W=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=ki;break;case 1:if(!r){s.destination=ki;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new fl(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new fl(s,r,n,i);break}return s}return e.prototype[Ai]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ye),fl=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Hr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==ki&&(c=Object.create(n),Hr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ke.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ke.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):kr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;kr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ke.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ke.useDeprecatedSynchronousErrorHandling)throw i;kr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ke.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ke.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(kr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(W);function hc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof W?t=n:t=null}return!0}function aw(t,e,r){if(t){if(t instanceof W)return t;if(t[Ai])return t[Ai]()}return!t&&!e&&!r?new W(ki):new W(t,e,r)}var tn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Jt(t){return t}function Sa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nf(t)}function Nf(t){return t.length===0?Jt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var K=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=aw(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ke.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ke.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ke.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),hc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=dl(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[tn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Nf(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=dl(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function dl(t){if(t||(t=Ke.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var cw=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Vt=cw,Of=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ye),Lf=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(W),Te=function(t){I(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Ai]=function(){return new Lf(this)},e.prototype.lift=function(r){var n=new pl(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Vt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Vt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Vt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Vt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Vt;return this.hasError?(r.error(this.thrownError),ye.EMPTY):this.isStopped?(r.complete(),ye.EMPTY):(this.observers.push(r),new Of(this,r))},e.prototype.asObservable=function(){var r=new K;return r.source=this,r},e.create=function(r,n){return new pl(r,n)},e}(K),pl=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ye.EMPTY},e}(Te);function fc(){return function(e){return e.lift(new uw(e))}}var uw=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new lw(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),lw=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(W),Df=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ye,r.add(this.source.subscribe(new fw(this.getSubject(),this))),r.closed&&(this._connection=null,r=ye.EMPTY)),r},e.prototype.refCount=function(){return fc()(this)},e}(K),hw=function(){var t=Df.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),fw=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Lf);function dw(t,e,r,n){return function(i){return i.lift(new pw(t,e,r,n))}}var pw=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new bw(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),bw=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(l){this.error(l)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new Te,i.set(n,s);var a=new Ea(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new Ea(n,s))}catch(l){this.error(l);return}this.add(c.subscribe(new gw(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(W),gw=function(t){I(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(W),Ea=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ye,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new vw(s)),n.add(o.subscribe(r)),n},e}(K),vw=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ye),jf=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Vt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(Te),yw=function(t){I(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ye),Qn=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(yw),mw=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(Qn),Ca=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Yn=function(t){I(e,t);function e(r,n){n===void 0&&(n=Ca.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Ca),_w=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Yn),Pf=new _w(mw),$f=Pf,Wr=new K(function(t){return t.complete()});function rn(t){return t?ww(t):Wr}function ww(t){return new K(function(e){return t.schedule(function(){return e.complete()})})}function Je(t){return t&&typeof t.schedule=="function"}var Bf=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function dc(t,e){return new K(function(r){var n=new ye,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Kn(t,e){return e?dc(t,e):new K(Bf(t))}function us(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Je(r)?(t.pop(),dc(t,r)):Kn(t)}function pc(t,e){return e?new K(function(r){return e.schedule(Sw,0,{error:t,subscriber:r})}):new K(function(r){return r.error(t)})}function Sw(t){var e=t.error,r=t.subscriber;r.error(e)}var xa;xa||(xa={});var Ot=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return us(this.value);case"E":return pc(this.error);case"C":return rn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Ew(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Cw(t,e))}}var Cw=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Ff(e,this.scheduler,this.delay))},t}(),Ff=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new xw(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Ot.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Ot.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Ot.createComplete()),this.unsubscribe()},e}(W),xw=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),bc=function(t){I(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Iw(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Vt;if(this.isStopped||this.hasError?a=ye.EMPTY:(this.observers.push(r),a=new Of(this,r)),s&&r.add(r=new Ff(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||$f).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(Te),Iw=function(){function t(e,r){this.time=e,this.value=r}return t}(),nn=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ye.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ye.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Te),Rw=1,kw=function(){return Promise.resolve()}(),Ia={};function bl(t){return t in Ia?(delete Ia[t],!0):!1}var gl={setImmediate:function(t){var e=Rw++;return Ia[e]=!0,kw.then(function(){return bl(e)&&t()}),e},clearImmediate:function(t){bl(t)}},Aw=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=gl.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(gl.clearImmediate(n),r.scheduled=void 0)},e}(Qn),Mw=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Yn),Hf=new Mw(Aw),vi=Hf,Wf=new Yn(Qn),We=Wf,Tw=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(Qn),Nw=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Yn),Vf=new Nw(Tw),Ow=Vf,Lw=function(t){I(e,t);function e(r,n){r===void 0&&(r=Uf),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Yn),Uf=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(Qn);function mt(){}function Dw(t){return!!t&&(t instanceof K||typeof t.lift=="function"&&typeof t.subscribe=="function")}var jw=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Vr=jw,Pw=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Xn=Pw,$w=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),zf=$w;function it(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Bw(t,e))}}var Bw=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Fw(e,this.project,this.thisArg))},t}(),Fw=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(W);function qf(t,e,r){if(e)if(Je(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qf(t,r).apply(void 0,n).pipe(it(function(s){return He(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new K(function(c){if(r){var u={args:n,subscriber:c,params:a};return r.schedule(Hw,0,u)}else{if(!o){o=new nn;var l=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];o.next(h.length<=1?h[0]:h),o.complete()};try{t.apply(s,n.concat([l]))}catch(h){hc(o)?o.error(h):console.warn(h)}}return o.subscribe(c)}})}}function Hw(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new nn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.length<=1?u[0]:u;e.add(a.schedule(Ww,0,{value:f,subject:c}))};try{s.apply(o,r.concat([l]))}catch(u){c.error(u)}}this.add(c.subscribe(n))}function Ww(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gf(t,e,r){if(e)if(Je(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gf(t,r).apply(void 0,n).pipe(it(function(s){return He(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new K(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(Vw,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new nn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.shift();if(f){c.error(f);return}c.next(u.length<=1?u[0]:u),c.complete()};try{t.apply(a,n.concat([l]))}catch(u){hc(c)?c.error(u):console.warn(u)}}return c.subscribe(o)})}}function Vw(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new nn;var l=function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var f=u.shift();if(f)e.add(a.schedule(vl,0,{err:f,subject:c}));else{var d=u.length<=1?u[0]:u;e.add(a.schedule(Uw,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([l]))}catch(u){this.add(a.schedule(vl,0,{err:u,subject:c}))}}this.add(c.subscribe(n))}function Uw(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function vl(t){var e=t.err,r=t.subject;r.error(e)}var yr=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(W),zw=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(W),qw=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,kr),e}};function Gw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zt=Gw(),Jw=function(t){return function(e){var r=t[Zt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Zw=function(t){return function(e){var r=t[tn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Jf=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Zf(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Rn=function(t){if(t&&typeof t[tn]=="function")return Zw(t);if(Jf(t))return Bf(t);if(Zf(t))return qw(t);if(t&&typeof t[Zt]=="function")return Jw(t);var e=lc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Dt(t,e,r,n,i){if(i===void 0&&(i=new zw(t,r,n)),!i.closed)return e instanceof K?e.subscribe(i):Rn(e)(i)}var yl={};function Qw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Je(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&He(t[0])&&(t=t[0]),Kn(t,n).lift(new gc(r))}var gc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Yw(e,this.resultSelector))},t}(),Yw=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(yl),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Dt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===yl?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(yr);function Kw(t,e){return new K(function(r){var n=new ye;return n.add(e.schedule(function(){var i=t[tn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function Xw(t,e){return new K(function(r){var n=new ye;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function e2(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(function(r){var n=new ye,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[Zt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function t2(t){return t&&typeof t[tn]=="function"}function r2(t){return t&&typeof t[Zt]=="function"}function Qf(t,e){if(t!=null){if(t2(t))return Kw(t,e);if(Zf(t))return Xw(t,e);if(Jf(t))return dc(t,e);if(r2(t)||typeof t=="string")return e2(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Pt(t,e){return e?Qf(t,e):t instanceof K?t:new K(Rn(t))}var me=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(W),_e=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(W);function we(t,e){if(!e.closed){if(t instanceof K)return t.subscribe(e);var r;try{r=Rn(t)(e)}catch(n){e.error(n)}return r}}function lr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(lr(function(i,s){return Pt(t(i,s)).pipe(it(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new n2(t,r))})}var n2=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new i2(e,this.project,this.concurrent))},t}(),i2=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(_e),s2=lr;function vc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),lr(Jt,t)}function Yf(){return vc(1)}function kn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yf()(us.apply(void 0,t))}function yc(t){return new K(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Pt(r):rn();return n.subscribe(e)})}function o2(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(He(r))return hi(r,null);if(lc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return hi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&He(t[0])?t[0]:t,hi(t,null).pipe(it(function(s){return i.apply(void 0,s)}))}return hi(t,null)}function hi(t,e){return new K(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(l){var u=Pt(t[l]),h=!1;r.add(u.subscribe({next:function(f){h||(h=!0,o++),i[l]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!h)&&(o===n&&r.next(e?e.reduce(function(f,d,y){return f[d]=i[y],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Kf(t,e,r,n){return Hr(r)&&(n=r,r=void 0),n?Kf(t,e,r).pipe(it(function(i){return He(i)?n.apply(void 0,i):n(i)})):new K(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Xf(t,e,s,i,r)})}function Xf(t,e,r,n,i){var s;if(u2(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(c2(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(a2(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var l=0,u=t.length;l<u;l++)Xf(t[l],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function a2(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function c2(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function u2(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function ed(t,e,r){return r?ed(t,e).pipe(it(function(n){return He(n)?r.apply(void 0,n):r(n)})):new K(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(Hr(e))return function(){return e(i,s)}})}function l2(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Jt,i=a.scheduler}else n===void 0||Je(n)?(o=t,s=Jt,i=n):(o=t,s=n);return new K(function(c){var l=o;if(i)return i.schedule(h2,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:l});do{if(e){var u=void 0;try{u=e(l)}catch(f){c.error(f);return}if(!u){c.complete();break}}var h=void 0;try{h=s(l)}catch(f){c.error(f);return}if(c.next(h),c.closed)break;try{l=r(l)}catch(f){c.error(f);return}}while(!0)})}function h2(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function f2(t,e,r){return e===void 0&&(e=Wr),r===void 0&&(r=Wr),yc(function(){return t()?e:r})}function Ur(t){return!He(t)&&t-parseFloat(t)+1>=0}function d2(t,e){return t===void 0&&(t=0),e===void 0&&(e=We),(!Ur(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=We),new K(function(r){return r.add(e.schedule(p2,t,{subscriber:r,counter:0,period:t})),r})}function p2(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function td(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Je(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof K?t[0]:vc(r)(Kn(t,n))}var rd=new K(mt);function b2(){return rd}function Ra(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Wr;var r=t[0],n=t.slice(1);return t.length===1&&He(r)?Ra.apply(void 0,r):new K(function(i){var s=function(){return i.add(Ra.apply(void 0,n).subscribe(i))};return Pt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function g2(t,e){return e?new K(function(r){var n=Object.keys(t),i=new ye;return i.add(e.schedule(v2,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new K(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function v2(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function nd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Qt(t,e){return function(n){return n.lift(new y2(t,e))}}var y2=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new m2(e,this.predicate,this.thisArg))},t}(),m2=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(W);function _2(t,e,r){return[Qt(e,r)(new K(Rn(t))),Qt(nd(e,r))(new K(Rn(t)))]}function id(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(He(t[0]))t=t[0];else return t[0];return Kn(t,void 0).lift(new w2)}var w2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new S2(e))},t}(),S2=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Dt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(yr);function E2(t,e,r){return t===void 0&&(t=0),new K(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(C2,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function C2(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function sd(t,e,r){t===void 0&&(t=0);var n=-1;return Ur(e)?n=Number(e)<1&&1||Number(e):Je(e)&&(r=e),Je(r)||(r=We),new K(function(i){var s=Ur(t)?t:+t-r.now();return r.schedule(x2,s,{index:0,period:n,subscriber:i})})}function x2(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function I2(t,e){return new K(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Pt(i):Wr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function od(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Kn(t,void 0).lift(new ad(r))}var ad=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new R2(e,this.resultSelector))},t}(),R2=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;He(r)?n.push(new A2(r)):typeof r[Zt]=="function"?n.push(new k2(r[Zt]())):n.push(new M2(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],l=o.next();if(o.hasCompleted()&&(a=!0),l.done){i.complete();return}c.push(l.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(W),k2=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),A2=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[Zt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),M2=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[Zt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return we(this.observable,new me(this))},e}(_e);const T2=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Vr,AsyncSubject:nn,BehaviorSubject:jf,ConnectableObservable:Df,EMPTY:Wr,EmptyError:Xn,GroupedObservable:Ea,NEVER:rd,Notification:Ot,get NotificationKind(){return xa},ObjectUnsubscribedError:Vt,Observable:K,ReplaySubject:bc,Scheduler:Ca,Subject:Te,Subscriber:W,Subscription:ye,TimeoutError:zf,UnsubscriptionError:_n,VirtualAction:Uf,VirtualTimeScheduler:Lw,animationFrame:Ow,animationFrameScheduler:Vf,asap:vi,asapScheduler:Hf,async:We,asyncScheduler:Wf,bindCallback:qf,bindNodeCallback:Gf,combineLatest:Qw,concat:kn,config:Ke,defer:yc,empty:rn,forkJoin:o2,from:Pt,fromEvent:Kf,fromEventPattern:ed,generate:l2,identity:Jt,iif:f2,interval:d2,isObservable:Dw,merge:td,never:b2,noop:mt,observable:tn,of:us,onErrorResumeNext:Ra,pairs:g2,partition:_2,pipe:Sa,queue:$f,queueScheduler:Pf,race:id,range:E2,scheduled:Qf,throwError:pc,timer:sd,using:I2,zip:od},Symbol.toStringTag,{value:"Module"})),ls=fr(T2);var hs={};const fs=fr(Vd);var jt,de,na,ml,zr=0,cd=[],yi=[],_l=J.__b,wl=J.__r,Sl=J.diffed,El=J.__c,Cl=J.unmount;function mr(t,e){J.__h&&J.__h(de,t,zr||e),zr=0;var r=de.__H||(de.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:yi}),r.__[t]}function ud(t){return zr=1,ld(fd,t)}function ld(t,e,r){var n=mr(jt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):fd(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=de,!de.u)){de.u=!0;var i=de.shouldComponentUpdate;de.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var c=n.__c.__H.__.filter(function(u){return u.__c});if(c.every(function(u){return!u.__N}))return!i||i.call(this,s,o,a);var l=!1;return c.forEach(function(u){if(u.__N){var h=u.__[0];u.__=u.__N,u.__N=void 0,h!==u.__[0]&&(l=!0)}}),!(!l&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function N2(t,e){var r=mr(jt++,3);!J.__s&&_c(r.__H,e)&&(r.__=t,r.i=e,de.__H.__h.push(r))}function hd(t,e){var r=mr(jt++,4);!J.__s&&_c(r.__H,e)&&(r.__=t,r.i=e,de.__h.push(r))}function O2(t){return zr=5,mc(function(){return{current:t}},[])}function L2(t,e,r){zr=6,hd(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function mc(t,e){var r=mr(jt++,7);return _c(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function D2(t,e){return zr=8,mc(function(){return t},e)}function j2(t){var e=de.context[t.__c],r=mr(jt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(de)),e.props.value):t.__}function P2(t,e){J.useDebugValue&&J.useDebugValue(e?e(t):t)}function $2(t){var e=mr(jt++,10),r=ud();return e.__=t,de.componentDidCatch||(de.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function B2(){var t=mr(jt++,11);return t.__||(t.__="P"+function(e){for(var r=0,n=e.length;n>0;)r=(r<<5)-r+e.charCodeAt(--n)|0;return r}(de.__v.__m)+jt),t.__}function F2(){for(var t;t=cd.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(mi),t.__H.__h.forEach(ka),t.__H.__h=[]}catch(e){t.__H.__h=[],J.__e(e,t.__v)}}J.__b=function(t){typeof t.type!="function"||t.__m||t.__===null?t.__m||(t.__m=t.__&&t.__.__m?t.__.__m:""):t.__m=(t.__&&t.__.__m?t.__.__m:"")+(t.__&&t.__.__k?t.__.__k.indexOf(t):0),de=null,_l&&_l(t)},J.__r=function(t){wl&&wl(t),jt=0;var e=(de=t.__c).__H;e&&(na===de?(e.__h=[],de.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=yi,r.__N=r.i=void 0})):(e.__h.forEach(mi),e.__h.forEach(ka),e.__h=[])),na=de},J.diffed=function(t){Sl&&Sl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(cd.push(e)!==1&&ml===J.requestAnimationFrame||((ml=J.requestAnimationFrame)||H2)(F2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==yi&&(r.__=r.__V),r.i=void 0,r.__V=yi})),na=de=null},J.__c=function(t,e){e.some(function(r){try{r.__h.forEach(mi),r.__h=r.__h.filter(function(n){return!n.__||ka(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],J.__e(n,r.__v)}}),El&&El(t,e)},J.unmount=function(t){Cl&&Cl(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{mi(n)}catch(i){e=i}}),r.__H=void 0,e&&J.__e(e,r.__v))};var xl=typeof requestAnimationFrame=="function";function H2(t){var e,r=function(){clearTimeout(n),xl&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);xl&&(e=requestAnimationFrame(r))}function mi(t){var e=de,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),de=e}function ka(t){var e=de;t.__c=t.__(),de=e}function _c(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function fd(t,e){return typeof e=="function"?e(t):e}const W2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:D2,useContext:j2,useDebugValue:P2,useEffect:N2,useErrorBoundary:$2,useId:B2,useImperativeHandle:L2,useLayoutEffect:hd,useMemo:mc,useReducer:ld,useRef:O2,useState:ud},Symbol.toStringTag,{value:"Module"})),ei=fr(W2);var Et={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.LIB_VERSION=void 0;ds.LIB_VERSION="3.6.6";var ps={};Object.defineProperty(ps,"__esModule",{value:!0});ps.CloseIcon=void 0;const Il=Ze;function V2(t){return(0,Il.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Il.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ps.CloseIcon=V2;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.QRCodeIcon=void 0;const gt=Ze;function U2(t){return(0,gt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,gt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,gt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,gt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,gt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,gt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,gt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,gt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,gt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,gt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}bs.QRCodeIcon=U2;var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});const z2=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;Ec.default=z2;var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.StatusDotIcon=void 0;const Rl=Ze;function q2(t){return(0,Rl.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Rl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}gs.StatusDotIcon=q2;var vs={};function dd(t){this.mode=qe.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}dd.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Ct(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ct.prototype={addData:function(t){var e=new dd(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Ct.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ge.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,l=this.modules[s][a];l&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ge.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ge.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ge.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var l=ge.getMask(e,n,o-a);l&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Ct.PAD0=236;Ct.PAD1=17;Ct.createData=function(t,e,r){for(var n=_t.getRSBlocks(t,e),i=new pd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ge.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Ct.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Ct.PAD1,8);return Ct.createBytes(i,n)};Ct.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,l),s[a]=new Array(c);for(var u=0;u<s[a].length;u++)s[a][u]=255&t.buffer[u+r];r+=c;var h=ge.getErrorCorrectPolynomial(l),f=new Lr(s[a],h.getLength()-1),d=f.mod(h);o[a]=new Array(h.getLength()-1);for(var u=0;u<o[a].length;u++){var y=u+d.getLength()-o[a].length;o[a][u]=y>=0?d.get(y):0}}for(var S=0,u=0;u<e.length;u++)S+=e[u].totalCount;for(var E=new Array(S),g=0,u=0;u<n;u++)for(var a=0;a<e.length;a++)u<s[a].length&&(E[g++]=s[a][u]);for(var u=0;u<i;u++)for(var a=0;a<e.length;a++)u<o[a].length&&(E[g++]=o[a][u]);return E};var qe={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Ut={L:1,M:0,Q:3,H:2},Bt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ge={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15)>=0;)e^=ge.G15<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15);return(t<<10|e)^ge.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18)>=0;)e^=ge.G18<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ge.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Bt.PATTERN000:return(e+r)%2==0;case Bt.PATTERN001:return e%2==0;case Bt.PATTERN010:return r%3==0;case Bt.PATTERN011:return(e+r)%3==0;case Bt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Bt.PATTERN101:return e*r%2+e*r%3==0;case Bt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Bt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new Lr([1],0),r=0;r<t;r++)e=e.multiply(new Lr([1,Me.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case qe.MODE_NUMBER:return 10;case qe.MODE_ALPHA_NUM:return 9;case qe.MODE_8BIT_BYTE:return 8;case qe.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case qe.MODE_NUMBER:return 12;case qe.MODE_ALPHA_NUM:return 11;case qe.MODE_8BIT_BYTE:return 16;case qe.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case qe.MODE_NUMBER:return 14;case qe.MODE_ALPHA_NUM:return 13;case qe.MODE_8BIT_BYTE:return 16;case qe.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var l=0;t.isDark(n,i)&&l++,t.isDark(n+1,i)&&l++,t.isDark(n,i+1)&&l++,t.isDark(n+1,i+1)&&l++,(l==0||l==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var u=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&u++;var h=Math.abs(100*u/e/e-50)/5;return r+=h*10,r}},Me={glog:function(t){if(t<1)throw new Error("glog("+t+")");return Me.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return Me.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ne=0;Ne<8;Ne++)Me.EXP_TABLE[Ne]=1<<Ne;for(var Ne=8;Ne<256;Ne++)Me.EXP_TABLE[Ne]=Me.EXP_TABLE[Ne-4]^Me.EXP_TABLE[Ne-5]^Me.EXP_TABLE[Ne-6]^Me.EXP_TABLE[Ne-8];for(var Ne=0;Ne<255;Ne++)Me.LOG_TABLE[Me.EXP_TABLE[Ne]]=Ne;function Lr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}Lr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=Me.gexp(Me.glog(this.get(r))+Me.glog(t.get(n)));return new Lr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=Me.glog(this.get(0))-Me.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=Me.gexp(Me.glog(t.get(n))+e);return new Lr(r,0).mod(t)}};function _t(t,e){this.totalCount=t,this.dataCount=e}_t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];_t.getRSBlocks=function(t,e){var r=_t.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],l=0;l<o;l++)i.push(new _t(a,c));return i};_t.getRsBlockTable=function(t,e){switch(e){case Ut.L:return _t.RS_BLOCK_TABLE[(t-1)*4+0];case Ut.M:return _t.RS_BLOCK_TABLE[(t-1)*4+1];case Ut.Q:return _t.RS_BLOCK_TABLE[(t-1)*4+2];case Ut.H:return _t.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function pd(){this.buffer=[],this.length=0}pd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ia=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,l){for(var u=i(c),h=1,f=0,d=0,y=ia.length;d<=y;d++){var S=ia[d];if(!S)throw new Error("Content too long: expected "+f+" but got "+u);switch(l){case"L":f=S[0];break;case"M":f=S[1];break;case"Q":f=S[2];break;case"H":f=S[3];break;default:throw new Error("Unknwon error correction level: "+l)}if(u<=f)break;h++}if(h>ia.length)throw new Error("Content too long");return h}function i(c){var l=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return l.length+(l.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Ct(o,a),this.qrcode.addData(s),this.qrcode.make()}bd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,l=o/(c+2*e.padding),u=a/(c+2*e.padding),h=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,y=typeof e.predefined<"u"?!!e.predefined:!1,S=y?i+'<defs><path id="qrmodule" d="M0 0 h'+u+" v"+l+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",E=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",v="",w=0;w<c;w++)for(var C=0;C<c;C++){var x=r[C][w];if(x){var N=C*l+e.padding*l,z=w*u+e.padding*u;if(f){var j=N;N=z,z=j}if(h){var T=l+N,te=u+z;N=Number.isInteger(N)?Number(N):N.toFixed(2),z=Number.isInteger(z)?Number(z):z.toFixed(2),T=Number.isInteger(T)?Number(T):T.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),v+="M"+N+","+z+" V"+te+" H"+T+" V"+z+" H"+N+" Z "}else y?g+=i+'<use x="'+N.toString()+'" y="'+z.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+N.toString()+'" y="'+z.toString()+'" width="'+l+'" height="'+u+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}h&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let he="";if(this.options.image!==void 0&&this.options.image.svg){const M=o*this.options.image.width/100,k=a*this.options.image.height/100,D=o/2-M/2,$=a/2-k/2;he+=`<svg x="${D}" y="${$}" width="${M}" height="${k}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,he+=this.options.image.svg+s,he+="</svg>"}var se="";switch(t.container){case"svg":d&&(se+='<?xml version="1.0" standalone="yes"?>'+s),se+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,se+=S+E+g,se+=he,se+="</svg>";break;case"svg-viewbox":d&&(se+='<?xml version="1.0" standalone="yes"?>'+s),se+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,se+=S+E+g,se+=he,se+="</svg>";break;case"g":se+='<g width="'+o+'" height="'+a+'">'+s,se+=S+E+g,se+=he,se+="</g>";break;default:se+=(S+E+g+he).replace(/^\s+/,"");break}return se};var G2=bd,J2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(vs,"__esModule",{value:!0});vs.QRCode=void 0;const Z2=Ze,kl=ei,Q2=J2(G2),Y2=t=>{const[e,r]=(0,kl.useState)("");return(0,kl.useEffect)(()=>{var n,i;const s=new Q2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,Z2.h)("img",{src:e,alt:"QR Code"}):null};vs.QRCode=Y2;var ys={},xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var K2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ys,"__esModule",{value:!0});ys.Spinner=void 0;const fi=Ze,X2=K2(xc),eS=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,fi.h)("div",{class:"-cbwsdk-spinner"},(0,fi.h)("style",null,X2.default),(0,fi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,fi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ys.Spinner=eS;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var sn=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Et,"__esModule",{value:!0});Et.CoinbaseAppSteps=Et.CoinbaseWalletSteps=Et.ConnectItem=Et.ConnectContent=void 0;const et=sn(fs),U=Ze,Al=ei,tS=F,rS=ds,nS=ps,iS=sn(wc),sS=sn(Sc),gd=bs,oS=sn(Ec),aS=sn(Cc),cS=gs,uS=vs,lS=ys,hS=sn(Ic),Ml={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:sS.default,steps:yd},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:iS.default,steps:md}},fS=t=>{switch(t){case"coinbase-app":return oS.default;case"coinbase-wallet-app":default:return aS.default}},Aa=t=>t==="light"?"#FFFFFF":"#0A0B0D";function dS(t){const{theme:e}=t,[r,n]=(0,Al.useState)("coinbase-wallet-app"),i=(0,Al.useCallback)(l=>{n(l)},[]),s=(0,tS.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Ml[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,U.h)("div",{"data-testid":"connect-content",class:(0,et.default)("-cbwsdk-connect-content",e)},(0,U.h)("style",null,hS.default),(0,U.h)("div",{class:"-cbwsdk-connect-content-header"},(0,U.h)("h2",{class:(0,et.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,U.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,U.h)(nS.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,U.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,U.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,U.h)("div",null,Object.entries(Ml).map(([l,u])=>(0,U.h)(vd,{key:l,title:u.title,description:u.description,icon:u.icon,selected:r===l,onClick:()=>i(l),theme:e}))),c&&(0,U.h)("div",{class:(0,et.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,U.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,U.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,U.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,U.h)(uS.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:fS(r),width:25,height:25}}),(0,U.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:rS.LIB_VERSION}),(0,U.h)("input",{type:"hidden",value:s})),(0,U.h)(a,{theme:e}),!t.isConnected&&(0,U.h)("div",{"data-testid":"connecting-spinner",class:(0,et.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,U.h)(lS.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,U.h)("p",null,"Connecting...")))))}Et.ConnectContent=dS;function vd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,U.h)("div",{onClick:s,class:(0,et.default)("-cbwsdk-connect-item",i,{selected:n})},(0,U.h)("div",null,(0,U.h)("img",{src:r,alt:t})),(0,U.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,U.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,U.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Et.ConnectItem=vd;function yd({theme:t}){return(0,U.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,U.h)("li",{class:(0,et.default)("-cbwsdk-wallet-steps-item",t)},(0,U.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,U.h)("li",{class:(0,et.default)("-cbwsdk-wallet-steps-item",t)},(0,U.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,U.h)("span",null,"Tap ",(0,U.h)("strong",null,"Scan")," "),(0,U.h)("span",{class:(0,et.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,U.h)(gd.QRCodeIcon,{fill:Aa(t)})))))}Et.CoinbaseWalletSteps=yd;function md({theme:t}){return(0,U.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,U.h)("li",{class:(0,et.default)("-cbwsdk-wallet-steps-item",t)},(0,U.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,U.h)("li",{class:(0,et.default)("-cbwsdk-wallet-steps-item",t)},(0,U.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,U.h)("span",null,"Tap ",(0,U.h)("strong",null,"More")),(0,U.h)("span",{class:(0,et.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,U.h)(cS.StatusDotIcon,{fill:Aa(t)})),(0,U.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,U.h)("strong",null,"Scan")),(0,U.h)("span",{class:(0,et.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,U.h)(gd.QRCodeIcon,{fill:Aa(t)})))))}Et.CoinbaseAppSteps=md;var ms={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});_s.ArrowLeftIcon=void 0;const Tl=Ze;function pS(t){return(0,Tl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Tl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}_s.ArrowLeftIcon=pS;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.LaptopIcon=void 0;const sa=Ze;function bS(t){return(0,sa.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,sa.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,sa.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ws.LaptopIcon=bS;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.SafeIcon=void 0;const Nl=Ze;function gS(t){return(0,Nl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Nl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Ss.SafeIcon=gS;var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var _d=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ms,"__esModule",{value:!0});ms.TryExtensionContent=void 0;const Kt=_d(fs),Ee=Ze,oa=ei,vS=_s,yS=ws,mS=Ss,_S=_d(Rc);function wS({theme:t}){const[e,r]=(0,oa.useState)(!1),n=(0,oa.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,oa.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ee.h)("div",{class:(0,Kt.default)("-cbwsdk-try-extension",t)},(0,Ee.h)("style",null,_S.default),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ee.h)("h3",{class:(0,Kt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ee.h)("button",{class:(0,Kt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ee.h)("div",null,!e&&(0,Ee.h)(vS.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ee.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ee.h)("span",{class:(0,Kt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ee.h)(yS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ee.h)("div",{class:(0,Kt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ee.h)("span",{class:(0,Kt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ee.h)(mS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ee.h)("div",{class:(0,Kt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}ms.TryExtensionContent=wS;var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var wd=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});hs.ConnectDialog=void 0;const aa=wd(fs),Xt=Ze,ca=ei,SS=Et,ES=ms,CS=wd(kc),xS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,ca.useState)(!e),[s,o]=(0,ca.useState)(!e);(0,ca.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Xt.h)("div",{class:(0,aa.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Xt.h)("style",null,CS.default),(0,Xt.h)("div",{class:(0,aa.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Xt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Xt.h)("div",{class:(0,aa.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Xt.h)(SS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Xt.h)(ES.TryExtensionContent,{theme:a}))))};hs.ConnectDialog=xS;Object.defineProperty(cs,"__esModule",{value:!0});cs.LinkFlow=void 0;const ua=Ze,Ol=ls,IS=hs;class RS{constructor(e){this.extensionUI$=new Ol.BehaviorSubject({}),this.subscriptions=new Ol.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,ua.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,ua.render)((0,ua.h)(IS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}cs.LinkFlow=RS;var Sd={},Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=B&&B.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(fs),n=Ze,i=ei,s=e(Ac),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(h){switch(h){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const l=h=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},h.children));t.SnackbarContainer=l;const u=({autoExpand:h,message:f,menuItems:d,appSrc:y})=>{const[S,E]=(0,i.useState)(!0),[g,v]=(0,i.useState)(h??!1);(0,i.useEffect)(()=>{const C=[window.setTimeout(()=>{E(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{C.forEach(window.clearTimeout)}});const w=()=>{v(!g)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",S&&"-cbwsdk-snackbar-instance-hidden",g&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:a(y),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!g&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((C,x)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:C.onClick,key:x},(0,n.h)("svg",{width:C.svgWidth,height:C.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":C.defaultFillRule,"clip-rule":C.defaultClipRule,d:C.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},C.info)))))};t.SnackbarInstance=u})(Sd);var Es={},Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var kS=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});Es.injectCssReset=void 0;const AS=kS(Mc);function MS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(AS.default)),document.documentElement.appendChild(t)}Es.injectCssReset=MS;Object.defineProperty(as,"__esModule",{value:!0});as.WalletSDKUI=void 0;const TS=cs,NS=Sd,OS=Es;class LS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new NS.Snackbar({darkMode:e.darkMode}),this.linkFlow=new TS.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,OS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}as.WalletSDKUI=LS;var Cs={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});var Ar;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Ar||(Ar={}));function Ed(t,e,r){if(!r||typeof r.value!==Ar.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Ar.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Ar.boolTrue,writable:Ar.boolTrue}),n}}}xs.bind=Ed;xs.default=Ed;function Cd(t){return function(r){return r.lift(new DS(t))}}var DS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new jS(e,this.durationSelector))},t}(),jS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=we(n,new me(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(_e);function PS(t,e){return e===void 0&&(e=We),Cd(function(){return sd(t,e)})}function $S(t){return function(r){return r.lift(new BS(t))}}var BS=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new FS(e,this.closingNotifier))},t}(),FS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(we(n,new me(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(_e);function HS(t,e){return e===void 0&&(e=null),function(n){return n.lift(new WS(t,e))}}var WS=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=VS:this.subscriberClass=US}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),VS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(W),US=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var l=o[c];l.push(r),l.length===i&&(o.splice(c,1),this.destination.next(l))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(W);function zS(t){var e=arguments.length,r=We;Je(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new qS(t,n,i,r))}}var qS=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new JS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),GS=function(){function t(){this.buffer=[]}return t}(),JS=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var l={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Ll,n,l))}else{var u={subscriber:a,context:c},h={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(xd,n,u)),a.add(o.schedule(ZS,i,h))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Ll,i,s))}},e.prototype.openContext=function(){var r=new GS;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(W);function Ll(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function ZS(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(xd,r,{subscriber:n,context:s})),o.schedule(t,e))}function xd(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function QS(t,e){return function(n){return n.lift(new YS(t,e))}}var YS=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new KS(e,this.openings,this.closingSelector))},t}(),KS=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Dt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ye,o={buffer:i,subscription:s};n.push(o);var a=Dt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(yr);function XS(t){return function(e){return e.lift(new eE(t))}}var eE=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new tE(e,this.closingSelector))},t}(),tE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ye,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(we(i,new me(this))),this.subscribing=!1},e}(_e);function rE(t){return function(r){var n=new nE(t),i=r.lift(n);return n.caught=i}}var nE=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new iE(e,this.selector,this.caught))},t}(),iE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new me(this);this.add(i);var s=we(n,i);s!==i&&this.add(s)}},e}(_e);function sE(t){return function(e){return e.lift(new gc(t))}}function oE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&He(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Pt([n].concat(t)),new gc(r))}}function aE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(kn.apply(void 0,[r].concat(t)))}}function Id(t,e){return lr(t,e,1)}function cE(t,e){return Id(function(){return t},e)}function uE(t){return function(e){return e.lift(new lE(t,e))}}var lE=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new hE(e,this.predicate,this.source))},t}(),hE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(W);function fE(t){return function(e){return e.lift(new dE(t))}}var dE=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new pE(e,this.durationSelector))},t}(),pE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=we(n,new me(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(_e);function bE(t,e){return e===void 0&&(e=We),function(r){return r.lift(new gE(t,e))}}var gE=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new vE(e,this.dueTime,this.scheduler))},t}(),vE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(yE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(W);function yE(t){t.debouncedNext()}function ti(t){return t===void 0&&(t=null),function(e){return e.lift(new mE(t))}}var mE=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new _E(e,this.defaultValue))},t}(),_E=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(W);function Rd(t){return t instanceof Date&&!isNaN(+t)}function wE(t,e){e===void 0&&(e=We);var r=Rd(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new SE(n,e))}}var SE=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new EE(e,this.delay,this.scheduler))},t}(),EE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new CE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Ot.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Ot.createComplete()),this.unsubscribe()},e}(W),CE=function(){function t(e,r){this.time=e,this.notification=r}return t}();function xE(t,e){return e?function(r){return new RE(r,e).lift(new Dl(t))}:function(r){return r.lift(new Dl(t))}}var Dl=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new IE(e,this.delayDurationSelector))},t}(),IE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Dt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(yr),RE=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new kE(r,this.source))},e}(K),kE=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(W);function AE(){return function(e){return e.lift(new ME)}}var ME=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new TE(e))},t}(),TE=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(W);function NE(t,e){return function(r){return r.lift(new OE(t,e))}}var OE=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new LE(e,this.keySelector,this.flushes))},t}(),LE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(we(i,new me(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(_e);function kd(t,e){return function(r){return r.lift(new DE(t,e))}}var DE=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new jE(e,this.compare,this.keySelector))},t}(),jE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(W);function PE(t,e){return kd(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function Is(t){return t===void 0&&(t=FE),function(e){return e.lift(new $E(t))}}var $E=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new BE(e,this.errorFactory))},t}(),BE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(W);function FE(){return new Xn}function Tc(t){return function(e){return t===0?rn():e.lift(new HE(t))}}var HE=function(){function t(e){if(this.total=e,this.total<0)throw new Vr}return t.prototype.call=function(e,r){return r.subscribe(new WE(e,this.total))},t}(),WE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(W);function VE(t,e){if(t<0)throw new Vr;var r=arguments.length>=2;return function(n){return n.pipe(Qt(function(i,s){return s===t}),Tc(1),r?ti(e):Is(function(){return new Vr}))}}function UE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return kn(r,us.apply(void 0,t))}}function zE(t,e){return function(r){return r.lift(new qE(t,e,r))}}var qE=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new GE(e,this.predicate,this.thisArg,this.source))},t}(),GE=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(W);function JE(){return function(t){return t.lift(new ZE)}}var ZE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new QE(e))},t}(),QE=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(we(r,new me(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function Ad(t,e){return e?function(r){return r.pipe(Ad(function(n,i){return Pt(t(n,i)).pipe(it(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new YE(t))}}var YE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new KE(e,this.project))},t}(),KE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(_e);function XE(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new e3(t,e,r))}}var e3=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new t3(e,this.project,this.concurrent,this.scheduler))},t}(),t3=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(l){n.error(l)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(we(r,new me(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(_e);function r3(t){return function(e){return e.lift(new n3(t))}}var n3=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new i3(e,this.callback))},t}(),i3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ye(n)),i}return e}(W);function s3(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Md(t,r,!1,e))}}var Md=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new o3(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),o3=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(W);function a3(t,e){return function(r){return r.lift(new Md(t,r,!0,e))}}function c3(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Qt(function(i,s){return t(i,s,n)}):Jt,Tc(1),r?ti(e):Is(function(){return new Xn}))}}function u3(){return function(e){return e.lift(new l3)}}var l3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new h3(e))},t}(),h3=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(W);function f3(){return function(t){return t.lift(new d3)}}var d3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new p3(e))},t}(),p3=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(W);function Mi(t){return function(r){return t===0?rn():r.lift(new b3(t))}}var b3=function(){function t(e){if(this.total=e,this.total<0)throw new Vr}return t.prototype.call=function(e,r){return r.subscribe(new g3(e,this.total))},t}(),g3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(W);function v3(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Qt(function(i,s){return t(i,s,n)}):Jt,Mi(1),r?ti(e):Is(function(){return new Xn}))}}function y3(t){return function(e){return e.lift(new m3(t))}}var m3=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new _3(e,this.value))},t}(),_3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(W);function w3(){return function(e){return e.lift(new S3)}}var S3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new E3(e))},t}(),E3=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Ot.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Ot.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Ot.createComplete()),r.complete()},e}(W);function Ti(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new C3(t,e,r))}}var C3=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new x3(e,this.accumulator,this.seed,this.hasSeed))},t}(),x3=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(W);function Rs(t,e){return arguments.length>=2?function(n){return Sa(Ti(t,e),Mi(1),ti(e))(n)}:function(n){return Sa(Ti(function(i,s,o){return t(i,s,o+1)}),Mi(1))(n)}}function I3(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return Rs(e)}function R3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(td.apply(void 0,[r].concat(t)))}}function k3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?lr(function(){return t},e,r):(typeof e=="number"&&(r=e),lr(function(){return t},r))}function A3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new M3(t,e,r))}}var M3=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new T3(e,this.accumulator,this.seed,this.concurrent))},t}(),T3=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(_e);function N3(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return Rs(e)}function hr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new O3(i,e));var s=Object.create(n,hw);return s.source=n,s.subjectFactory=i,s}}var O3=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function L3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&He(t[0])&&(t=t[0]),function(r){return r.lift(new D3(t))}}var D3=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new j3(e,this.nextSources))},t}(),j3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new me(this),i=this.destination;i.add(n);var s=we(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(_e);function P3(){return function(t){return t.lift(new $3)}}var $3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new B3(e))},t}(),B3=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(W);function F3(t,e){return function(r){return[Qt(t,e)(r),Qt(nd(t,e))(r)]}}function H3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return it(W3(t,r))(n)}}function W3(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function V3(t){return t?hr(function(){return new Te},t):hr(new Te)}function U3(t){return function(e){return hr(new jf(t))(e)}}function z3(){return function(t){return hr(new nn)(t)}}function q3(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new bc(t,e,n);return function(o){return hr(function(){return s},i)(o)}}function G3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&He(t[0])&&(t=t[0]),n.lift.call(id.apply(void 0,[n].concat(t)))}}function J3(t){return t===void 0&&(t=-1),function(e){return t===0?rn():t<0?e.lift(new jl(-1,e)):e.lift(new jl(t-1,e))}}var jl=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Z3(e,this.count,this.source))},t}(),Z3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(W);function Q3(t){return function(e){return e.lift(new Y3(t))}}var Y3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new K3(e,this.notifier,r))},t}(),K3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new Te;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=we(r,new me(this))},e}(_e);function X3(t){return t===void 0&&(t=-1),function(e){return e.lift(new e4(t,e))}}var e4=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.count,this.source))},t}(),t4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(W);function r4(t){return function(e){return e.lift(new n4(t,e))}}var n4=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new i4(e,this.notifier,this.source))},t}(),i4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Te;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=we(i,new me(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(_e);function s4(t){return function(e){return e.lift(new o4(t))}}var o4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new a4(e),i=r.subscribe(n);return i.add(we(this.notifier,new me(n))),i},t}(),a4=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(_e);function c4(t,e){return e===void 0&&(e=We),function(r){return r.lift(new u4(t,e))}}var u4=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new l4(e,this.period,this.scheduler))},t}(),l4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(h4,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(W);function h4(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function f4(t,e){return function(r){return r.lift(new d4(t,e))}}var d4=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new p4(e,this.compareTo,this.comparator))},t}(),p4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new b4(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(l){this.destination.error(l)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(W),b4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(W);function g4(){return new Te}function v4(){return function(t){return fc()(hr(g4)(t))}}function y4(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(m4(n))}}function m4(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,l,u=!1,h=!1;return function(d){c++;var y;!a||u?(u=!1,a=new bc(r,i,o),y=a.subscribe(this),l=d.subscribe({next:function(S){a.next(S)},error:function(S){u=!0,a.error(S)},complete:function(){h=!0,l=void 0,a.complete()}}),h&&(l=void 0)):y=a.subscribe(this),this.add(function(){c--,y.unsubscribe(),y=void 0,l&&!h&&s&&c===0&&(l.unsubscribe(),l=void 0,a=void 0)})}}function _4(t){return function(e){return e.lift(new w4(t,e))}}var w4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new S4(e,this.predicate,this.source))},t}(),S4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Xn)},e}(W);function E4(t){return function(e){return e.lift(new C4(t))}}var C4=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new x4(e,this.total))},t}(),x4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(W);function I4(t){return function(e){return e.lift(new R4(t))}}var R4=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Vr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new W(e)):r.subscribe(new k4(e,this._skipCount))},t}(),k4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(W);function A4(t){return function(e){return e.lift(new M4(t))}}var M4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new T4(e,this.notifier))},t}(),T4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new me(i);i.add(s),i.innerSubscription=s;var o=we(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(_e);function N4(t){return function(e){return e.lift(new O4(t))}}var O4=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new L4(e,this.predicate))},t}(),L4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(W);function D4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Je(r)?(t.pop(),function(n){return kn(t,n,r)}):function(n){return kn(t,n)}}var j4=function(t){I(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=vi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Ur(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=vi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=vi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(K);function P4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new $4(t,e))}}var $4=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new j4(r,this.delay,this.scheduler).subscribe(e)},t}();function An(t,e){return typeof e=="function"?function(r){return r.pipe(An(function(n,i){return Pt(t(n,i)).pipe(it(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new B4(t))}}var B4=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new F4(e,this.project))},t}(),F4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new me(this),s=this.destination;s.add(i),this.innerSubscription=we(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(_e);function H4(){return An(Jt)}function W4(t,e){return e?An(function(){return t},e):An(function(){return t})}function V4(t){return function(e){return e.lift(new U4(t))}}var U4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new z4(e),i=we(this.notifier,new me(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),z4=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(_e);function q4(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new G4(t,e))}}var G4=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new J4(e,this.predicate,this.inclusive))},t}(),J4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(W);function Z4(t,e,r){return function(i){return i.lift(new Q4(t,e,r))}}var Q4=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new Y4(e,this.nextOrObserver,this.error,this.complete))},t}(),Y4=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=mt,o._tapError=mt,o._tapComplete=mt,o._tapError=i||mt,o._tapComplete=s||mt,Hr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||mt,o._tapError=n.error||mt,o._tapComplete=n.complete||mt),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(W),Td={leading:!0,trailing:!1};function K4(t,e){return e===void 0&&(e=Td),function(r){return r.lift(new X4(t,!!e.leading,!!e.trailing))}}var X4=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new e5(e,this.durationSelector,this.leading,this.trailing))},t}(),e5=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=we(n,new me(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(_e);function t5(t,e,r){return e===void 0&&(e=We),r===void 0&&(r=Td),function(n){return n.lift(new r5(t,e,r.leading,r.trailing))}}var r5=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new n5(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),n5=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(i5,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(W);function i5(t){var e=t.subscriber;e.clearThrottle()}function s5(t){return t===void 0&&(t=We),function(e){return yc(function(){return e.pipe(Ti(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),it(function(r){var n=r.current,i=r.last,s=r.value;return new o5(s,n-i)}))})}}var o5=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Nd(t,e,r){return r===void 0&&(r=We),function(n){var i=Rd(t),s=i?+t-r.now():Math.abs(t);return n.lift(new a5(s,i,e,r))}}var a5=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new c5(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),c5=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(we(n,new me(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(_e);function u5(t,e){return e===void 0&&(e=We),Nd(t,pc(new zf),e)}function l5(t){return t===void 0&&(t=We),it(function(e){return new h5(e,t.now())})}var h5=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function f5(t,e,r){return r===0?[e]:(t.push(e),t)}function d5(){return Rs(f5,[])}function p5(t){return function(r){return r.lift(new b5(t))}}var b5=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new g5(e),i=r.subscribe(n);return i.closed||n.add(we(this.windowBoundaries,new me(n))),i},t}(),g5=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new Te,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new Te;n.next(i)},e}(_e);function v5(t,e){return e===void 0&&(e=0),function(n){return n.lift(new y5(t,e))}}var y5=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new m5(e,this.windowSize,this.startWindowEvery))},t}(),m5=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new Te],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var l=this.count-s+1;if(l>=0&&l%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var u=new Te;o.push(u),i.next(u)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(W);function _5(t){var e=We,r=null,n=Number.POSITIVE_INFINITY;return Je(arguments[3])&&(e=arguments[3]),Je(arguments[2])?e=arguments[2]:Ur(arguments[2])&&(n=Number(arguments[2])),Je(arguments[1])?e=arguments[1]:Ur(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new w5(t,r,n,e))}}var w5=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new E5(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),S5=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Te),E5=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var l={subscriber:a,window:c,context:null},u={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Od,n,l)),a.add(o.schedule(x5,i,u))}else{var h={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(C5,n,h))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new S5;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(W);function C5(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function x5(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Od,e,c),o.add(a.subscription),o.schedule(t,i)}function Od(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function I5(t,e){return function(r){return r.lift(new R5(t,e))}}var R5=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new k5(e,this.openings,this.closingSelector))},t}(),k5=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Dt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var l=new Te,u=new ye,h={window:l,subscription:u};this.contexts.push(h);var f=Dt(this,a,h);f.closed?this.closeWindow(this.contexts.length-1):(f.context=h,u.add(f)),this.destination.next(l)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(yr);function A5(t){return function(r){return r.lift(new M5(t))}}var M5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new T5(e,this.closingSelector))},t}(),T5=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new Te;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Dt(this,s))},e}(yr);function N5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new O5(i,n))}}var O5=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new L5(e,this.observables,this.project))},t}(),L5=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Dt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(yr);function D5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(od.apply(void 0,[n].concat(t)))}}function j5(t){return function(e){return e.lift(new ad(t))}}const P5=Object.freeze(Object.defineProperty({__proto__:null,audit:Cd,auditTime:PS,buffer:$S,bufferCount:HS,bufferTime:zS,bufferToggle:QS,bufferWhen:XS,catchError:rE,combineAll:sE,combineLatest:oE,concat:aE,concatAll:Yf,concatMap:Id,concatMapTo:cE,count:uE,debounce:fE,debounceTime:bE,defaultIfEmpty:ti,delay:wE,delayWhen:xE,dematerialize:AE,distinct:NE,distinctUntilChanged:kd,distinctUntilKeyChanged:PE,elementAt:VE,endWith:UE,every:zE,exhaust:JE,exhaustMap:Ad,expand:XE,filter:Qt,finalize:r3,find:s3,findIndex:a3,first:c3,flatMap:s2,groupBy:dw,ignoreElements:u3,isEmpty:f3,last:v3,map:it,mapTo:y3,materialize:w3,max:I3,merge:R3,mergeAll:vc,mergeMap:lr,mergeMapTo:k3,mergeScan:A3,min:N3,multicast:hr,observeOn:Ew,onErrorResumeNext:L3,pairwise:P3,partition:F3,pluck:H3,publish:V3,publishBehavior:U3,publishLast:z3,publishReplay:q3,race:G3,reduce:Rs,refCount:fc,repeat:J3,repeatWhen:Q3,retry:X3,retryWhen:r4,sample:s4,sampleTime:c4,scan:Ti,sequenceEqual:f4,share:v4,shareReplay:y4,single:_4,skip:E4,skipLast:I4,skipUntil:A4,skipWhile:N4,startWith:D4,subscribeOn:P4,switchAll:H4,switchMap:An,switchMapTo:W4,take:Tc,takeLast:Mi,takeUntil:V4,takeWhile:q4,tap:Z4,throttle:K4,throttleTime:t5,throwIfEmpty:Is,timeInterval:s5,timeout:u5,timeoutWith:Nd,timestamp:l5,toArray:d5,window:p5,windowCount:v5,windowTime:_5,windowToggle:I5,windowWhen:A5,withLatestFrom:N5,zip:D5,zipAll:j5},Symbol.toStringTag,{value:"Module"})),Nc=fr(P5);var ks={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.ClientMessagePublishEvent=Xe.ClientMessageSetSessionConfig=Xe.ClientMessageGetSessionConfig=Xe.ClientMessageIsLinked=Xe.ClientMessageHostSession=void 0;function $5(t){return Object.assign({type:"HostSession"},t)}Xe.ClientMessageHostSession=$5;function B5(t){return Object.assign({type:"IsLinked"},t)}Xe.ClientMessageIsLinked=B5;function F5(t){return Object.assign({type:"GetSessionConfig"},t)}Xe.ClientMessageGetSessionConfig=F5;function H5(t){return Object.assign({type:"SetSessionConfig"},t)}Xe.ClientMessageSetSessionConfig=H5;function W5(t){return Object.assign({type:"PublishEvent"},t)}Xe.ClientMessagePublishEvent=W5;var Ld={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=ls,r=Nc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(Ld);var As={};Object.defineProperty(As,"__esModule",{value:!0});As.isServerMessageFail=void 0;function V5(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}As.isServerMessageFail=V5;Object.defineProperty(ks,"__esModule",{value:!0});ks.WalletSDKConnection=void 0;const ot=ls,re=Nc,hn=Zr,Ir=Pn,fn=Xe,dn=Jr,di=Ld,la=As,Pl=1e4,U5=6e4;class z5{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new ot.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,Ir.IntNumber)(1),this.connectedSubject=new ot.BehaviorSubject(!1),this.linkedSubject=new ot.BehaviorSubject(!1),this.sessionConfigSubject=new ot.ReplaySubject(1);const o=new di.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,re.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(dn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:hn.Session.hash(e)})}),(0,re.skip)(1),(0,re.filter)(a=>a===di.ConnectionState.DISCONNECTED&&!this.destroyed),(0,re.delay)(5e3),(0,re.filter)(a=>!this.destroyed),(0,re.flatMap)(a=>o.connect()),(0,re.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,re.skip)(2),(0,re.switchMap)(a=>(0,ot.iif)(()=>a===di.ConnectionState.CONNECTED,this.authenticate().pipe((0,re.tap)(c=>this.sendIsLinked()),(0,re.tap)(c=>this.sendGetSessionConfig()),(0,re.map)(c=>!0)),(0,ot.of)(!1))),(0,re.distinctUntilChanged)(),(0,re.catchError)(a=>(0,ot.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,re.skip)(1),(0,re.switchMap)(a=>(0,ot.iif)(()=>a===di.ConnectionState.CONNECTED,(0,ot.timer)(0,Pl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,re.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,re.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(dn.EVENTS.LINKED,{sessionIdHash:hn.Session.hash(e),linked:l.linked,type:a.type,onlineGuests:l.onlineGuests}),this.linkedSubject.next(l.linked||l.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,re.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const l=a;(c=this.diagnostic)===null||c===void 0||c.log(dn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:hn.Session.hash(e),metadata_keys:l&&l.metadata?Object.keys(l.metadata):void 0}),this.sessionConfigSubject.next({webhookId:l.webhookId,webhookUrl:l.webhookUrl,metadata:l.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(dn.EVENTS.STARTED_CONNECTING,{sessionIdHash:hn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(dn.EVENTS.DISCONNECTED,{sessionIdHash:hn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,re.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,re.map)(e=>e))}setSessionMetadata(e,r){const n=(0,fn.ClientMessageSetSessionConfig)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,re.flatMap)(i=>this.makeRequest(n)),(0,re.map)(i=>{if((0,la.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,fn.ClientMessagePublishEvent)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,re.flatMap)(s=>this.makeRequest(i)),(0,re.map)(s=>{if((0,la.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Pl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=U5){const n=e.id;try{this.sendData(e)}catch(i){return(0,ot.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,re.timeoutWith)(r,(0,ot.throwError)(new Error(`request ${n} timed out`))),(0,re.filter)(i=>i.id===n),(0,re.take)(1))}authenticate(){const e=(0,fn.ClientMessageHostSession)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,re.map)(r=>{if((0,la.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,fn.ClientMessageIsLinked)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,fn.ClientMessageGetSessionConfig)({id:(0,Ir.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ks.WalletSDKConnection=z5;var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.WalletUIError=void 0;class Mn extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}Ms.WalletUIError=Mn;Mn.UserRejectedRequest=new Mn("User rejected request");Mn.SwitchEthereumChainUnsupportedChainId=new Mn("Unsupported chainId",4902);var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.decrypt=qr.encrypt=void 0;const Ni=F;async function q5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,Ni.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),l=new Uint8Array(a),u=new Uint8Array(c),h=new Uint8Array([...r,...l,...u]);return(0,Ni.uint8ArrayToHex)(h)}qr.encrypt=q5;function G5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,Ni.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,Ni.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),l=new Uint8Array([...c,...a]),u={name:"AES-GCM",iv:new Uint8Array(o)};try{const h=await window.crypto.subtle.decrypt(u,i,l),f=new TextDecoder;r(f.decode(h))}catch(h){n(h)}})()})}qr.decrypt=G5;var Oc={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Oc);var Ts={},Ns={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ns);Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Web3RequestCanceledMessage=void 0;const J5=Ns;function Z5(t){return{type:J5.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Ts.Web3RequestCanceledMessage=Z5;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.Web3RequestMessage=void 0;const Q5=Ns;function Y5(t){return Object.assign({type:Q5.RelayMessageType.WEB3_REQUEST},t)}Os.Web3RequestMessage=Y5;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.EthereumAddressFromSignedMessageResponse=be.SubmitEthereumTransactionResponse=be.SignEthereumTransactionResponse=be.SignEthereumMessageResponse=be.isRequestEthereumAccountsResponse=be.SelectProviderResponse=be.WatchAssetReponse=be.RequestEthereumAccountsResponse=be.SwitchEthereumChainResponse=be.AddEthereumChainResponse=be.ErrorResponse=void 0;const It=Oc;function K5(t,e,r){return{method:t,errorMessage:e,errorCode:r}}be.ErrorResponse=K5;function X5(t){return{method:It.Web3Method.addEthereumChain,result:t}}be.AddEthereumChainResponse=X5;function eC(t){return{method:It.Web3Method.switchEthereumChain,result:t}}be.SwitchEthereumChainResponse=eC;function tC(t){return{method:It.Web3Method.requestEthereumAccounts,result:t}}be.RequestEthereumAccountsResponse=tC;function rC(t){return{method:It.Web3Method.watchAsset,result:t}}be.WatchAssetReponse=rC;function nC(t){return{method:It.Web3Method.selectProvider,result:t}}be.SelectProviderResponse=nC;function iC(t){return t&&t.method===It.Web3Method.requestEthereumAccounts}be.isRequestEthereumAccountsResponse=iC;function sC(t){return{method:It.Web3Method.signEthereumMessage,result:t}}be.SignEthereumMessageResponse=sC;function oC(t){return{method:It.Web3Method.signEthereumTransaction,result:t}}be.SignEthereumTransactionResponse=oC;function aC(t){return{method:It.Web3Method.submitEthereumTransaction,result:t}}be.SubmitEthereumTransactionResponse=aC;function cC(t){return{method:It.Web3Method.ethereumAddressFromSignedMessage,result:t}}be.EthereumAddressFromSignedMessageResponse=cC;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.isWeb3ResponseMessage=Gr.Web3ResponseMessage=void 0;const Dd=Ns;function uC(t){return Object.assign({type:Dd.RelayMessageType.WEB3_RESPONSE},t)}Gr.Web3ResponseMessage=uC;function lC(t){return t&&t.type===Dd.RelayMessageType.WEB3_RESPONSE}Gr.isWeb3ResponseMessage=lC;var hC=B&&B.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fC=B&&B.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jd=B&&B.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},dC=B&&B.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&hC(e,t,r);return fC(e,t),e},pC=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.WalletSDKRelay=void 0;const Pd=pC(xs),$l=Nn,er=ls,Ce=Nc,je=Jr,bC=ks,ha=Ms,gC=Pn,pe=F,Ft=dC(qr),Ht=Zr,pi=lt,Re=Oc,vC=Ts,yC=Os,ze=be,$e=Gr;class ut extends pi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new er.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new er.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=Ht.Session.load(this.storage)||new Ht.Session(this.storage).save(),r=new bC.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Ce.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Ce.skip)(1),(0,Ce.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(pi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const l=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(je.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:l})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Ce.mergeMap)(i=>Ft.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(pi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Ce.mergeMap)(i=>Ft.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(pi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Ce.mergeMap)(i=>(0,er.zip)(Ft.decrypt(i.metadata.ChainId,e.secret),Ft.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Ce.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Ce.mergeMap)(i=>Ft.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),ut.accountRequestCallbackIds.size>0&&(Array.from(ut.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,$e.Web3ResponseMessage)({id:s,response:(0,ze.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),ut.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Ce.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Ce.mergeMap)(i=>Ft.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Ce.timeout)(1e3),(0,Ce.catchError)(e=>(0,er.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(je.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(je.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=Ht.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(je.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:Ht.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new er.Subscription;const{session:a,ui:c,connection:l}=this.subscribe();this._session=a,this.connection=l,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(je.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Re.Web3Method.signEthereumMessage,params:{message:(0,pe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Re.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,pe.hexStringFromBuffer)(e,!0),signature:(0,pe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Re.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,pe.bigIntStringFromBN)(e.weiValue),data:(0,pe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,pe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Re.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,pe.bigIntStringFromBN)(e.weiValue),data:(0,pe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,pe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,pe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,pe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,pe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Re.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,pe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Re.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,pe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Re.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,pe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,yC.Web3RequestMessage)({id:e,request:r}),s=Ht.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(je.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(je.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?Ht.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,vC.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new er.Observable(s=>{Ft.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Ce.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,er.from)(Ft.decrypt(e.data,this.session.secret)).pipe((0,Ce.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,$e.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(je.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(je.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,ze.isRequestEthereumAccountsResponse)(n)){ut.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),ut.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:e,response:(0,ze.ErrorResponse)(r,(n??ha.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Re.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,pe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,l=>{if(this.ui.hideRequestEthereumAccounts(),l.errorMessage)return o(new Error(l.errorMessage));s(l)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let l;try{(0,pe.isInIFrame)()&&window.top?l=window.top.location:l=window.location}catch{l=window.location}l.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(l.href)}`;return}if(this.ui.inlineAccountsResponse()){const l=u=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:r,response:(0,ze.RequestEthereumAccountsResponse)(u)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:l})}else{const l=$l.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(l)})}ut.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Re.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,pe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,u=>{if(u.errorMessage)return a(new Error(u.errorMessage));o(u)});const c=u=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:n,response:(0,ze.SelectProviderResponse)(gC.ProviderType.Unselected)}))},l=u=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:n,response:(0,ze.SelectProviderResponse)(u)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:l,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Re.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const l=(0,pe.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}));const h=new Promise((f,d)=>{this.relayEventManager.callbacks.set(l,E=>{if(c?.(),E.errorMessage)return d(new Error(E.errorMessage));f(E)});const y=E=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:l,response:(0,ze.WatchAssetReponse)(!1)}))},S=()=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:l,response:(0,ze.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:S,onCancel:y,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)});return{cancel:u,promise:h}}addEthereumChain(e,r,n,i,s,o){const a={method:Re.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const l=(0,pe.randomBytesHex)(8),u=f=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,f),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(l,E=>{if(c?.(),E.errorMessage)return d(new Error(E.errorMessage));f(E)});const y=E=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:l,response:(0,ze.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},S=E=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:l,response:(0,ze.AddEthereumChainResponse)({isApproved:!0,rpcUrl:E})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:y,onApprove:S,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(l,a)}),cancel:u}}switchEthereumChain(e,r){const n={method:Re.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,pe.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,h=>{if(h.errorMessage&&h.errorCode)return c($l.ethErrors.provider.custom({code:h.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(h.errorMessage)return c(new Error(h.errorMessage));a(h)});const l=h=>{if(typeof h=="number"){const f=h;this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:i,response:(0,ze.ErrorResponse)(Re.Web3Method.switchEthereumChain,ha.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,f)}))}else h instanceof ha.WalletUIError?this.handleErrorResponse(i,Re.Web3Method.switchEthereumChain,h,h.errorCode):this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:i,response:(0,ze.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},u=h=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:i,response:(0,ze.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:h})}))};this.ui.switchEthereumChain({onCancel:l,onApprove:u,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return Ht.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,$e.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Re.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Re.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}ut.accountRequestCallbackIds=new Set;jd([Pd.default],ut.prototype,"resetAndReload",null);jd([Pd.default],ut.prototype,"handleIncomingEvent",null);Cs.WalletSDKRelay=ut;var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.WalletSDKRelayEventManager=void 0;const mC=F;class _C{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,mC.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Ls.WalletSDKRelayEventManager=_C;const wC="@coinbase/wallet-sdk",SC="3.6.6",EC="Coinbase Wallet JavaScript SDK",CC=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],xC="dist/index.js",IC="dist/index.d.ts",RC="https://github.com/coinbase/coinbase-wallet-sdk.git",kC="Coinbase, Inc.",AC="Apache-2.0",MC={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},TC={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"6.1.0","eth-json-rpc-filters":"5.1.0","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},NC={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.4.0","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.76.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},OC={node:">= 10.0.0"},LC={name:wC,version:SC,description:EC,keywords:CC,main:xC,types:IC,repository:RC,author:kC,license:AC,scripts:MC,dependencies:TC,devDependencies:NC,engines:OC};Object.defineProperty(wn,"__esModule",{value:!0});wn.CoinbaseWalletSDK=void 0;const DC=Li,jC=Di,PC=jr,$C=as,BC=Cs,FC=Ls,HC=F,WC={}.LINK_API_URL||"https://www.walletlink.org",$d={}.SDK_VERSION||LC.version||"unknown";class Ds{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||WC;let o;if(e.uiConstructor?o=e.uiConstructor:o=l=>new $C.WalletSDKUI(l),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new jC.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Ds.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new FC.WalletSDKRelayEventManager,this._relay=new BC.WalletSDKRelay({linkAPIUrl:s,version:$d,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new PC.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,HC.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,DC.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}wn.CoinbaseWalletSDK=Ds;Ds.VERSION=$d;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=wn,r=jr;var n=wn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=jr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Ta);const VC=Ud(Ta),KC=zd({__proto__:null,default:VC},[Ta]);export{KC as i};
